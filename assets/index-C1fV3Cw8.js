function eE(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function mv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gd={exports:{}},La={},yd={exports:{}},ke={};var Ig;function tE(){if(Ig)return ke;Ig=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function k(U,Y,pe){this.props=U,this.context=Y,this.refs=P,this.updater=pe||A}k.prototype.isReactComponent={},k.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function $(){}$.prototype=k.prototype;function G(U,Y,pe){this.props=U,this.context=Y,this.refs=P,this.updater=pe||A}var K=G.prototype=new $;K.constructor=G,L(K,k.prototype),K.isPureReactComponent=!0;var se=Array.isArray,ie=Object.prototype.hasOwnProperty,we={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function R(U,Y,pe){var Re,Ce={},De=null,je=null;if(Y!=null)for(Re in Y.ref!==void 0&&(je=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)ie.call(Y,Re)&&!b.hasOwnProperty(Re)&&(Ce[Re]=Y[Re]);var Fe=arguments.length-2;if(Fe===1)Ce.children=pe;else if(1<Fe){for(var Ge=Array(Fe),wt=0;wt<Fe;wt++)Ge[wt]=arguments[wt+2];Ce.children=Ge}if(U&&U.defaultProps)for(Re in Fe=U.defaultProps,Fe)Ce[Re]===void 0&&(Ce[Re]=Fe[Re]);return{$$typeof:r,type:U,key:De,ref:je,props:Ce,_owner:we.current}}function x(U,Y){return{$$typeof:r,type:U.type,key:Y,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===r}function j(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return Y[pe]})}var F=/\/+/g;function N(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):Y.toString(36)}function it(U,Y,pe,Re,Ce){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(De){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case r:case e:je=!0}}if(je)return je=U,Ce=Ce(je),U=Re===""?"."+N(je,0):Re,se(Ce)?(pe="",U!=null&&(pe=U.replace(F,"$&/")+"/"),it(Ce,Y,pe,"",function(wt){return wt})):Ce!=null&&(V(Ce)&&(Ce=x(Ce,pe+(!Ce.key||je&&je.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+U)),Y.push(Ce)),1;if(je=0,Re=Re===""?".":Re+":",se(U))for(var Fe=0;Fe<U.length;Fe++){De=U[Fe];var Ge=Re+N(De,Fe);je+=it(De,Y,pe,Ge,Ce)}else if(Ge=S(U),typeof Ge=="function")for(U=Ge.call(U),Fe=0;!(De=U.next()).done;)De=De.value,Ge=Re+N(De,Fe++),je+=it(De,Y,pe,Ge,Ce);else if(De==="object")throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return je}function Lt(U,Y,pe){if(U==null)return U;var Re=[],Ce=0;return it(U,Re,"","",function(De){return Y.call(pe,De,Ce++)}),Re}function Mt(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var $e={current:null},re={transition:null},ge={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:re,ReactCurrentOwner:we};function le(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Lt,forEach:function(U,Y,pe){Lt(U,function(){Y.apply(this,arguments)},pe)},count:function(U){var Y=0;return Lt(U,function(){Y++}),Y},toArray:function(U){return Lt(U,function(Y){return Y})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},ke.Component=k,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=G,ke.StrictMode=s,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,ke.act=le,ke.cloneElement=function(U,Y,pe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Re=L({},U.props),Ce=U.key,De=U.ref,je=U._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,je=we.current),Y.key!==void 0&&(Ce=""+Y.key),U.type&&U.type.defaultProps)var Fe=U.type.defaultProps;for(Ge in Y)ie.call(Y,Ge)&&!b.hasOwnProperty(Ge)&&(Re[Ge]=Y[Ge]===void 0&&Fe!==void 0?Fe[Ge]:Y[Ge])}var Ge=arguments.length-2;if(Ge===1)Re.children=pe;else if(1<Ge){Fe=Array(Ge);for(var wt=0;wt<Ge;wt++)Fe[wt]=arguments[wt+2];Re.children=Fe}return{$$typeof:r,type:U.type,key:Ce,ref:De,props:Re,_owner:je}},ke.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},ke.createElement=R,ke.createFactory=function(U){var Y=R.bind(null,U);return Y.type=U,Y},ke.createRef=function(){return{current:null}},ke.forwardRef=function(U){return{$$typeof:d,render:U}},ke.isValidElement=V,ke.lazy=function(U){return{$$typeof:w,_payload:{_status:-1,_result:U},_init:Mt}},ke.memo=function(U,Y){return{$$typeof:y,type:U,compare:Y===void 0?null:Y}},ke.startTransition=function(U){var Y=re.transition;re.transition={};try{U()}finally{re.transition=Y}},ke.unstable_act=le,ke.useCallback=function(U,Y){return $e.current.useCallback(U,Y)},ke.useContext=function(U){return $e.current.useContext(U)},ke.useDebugValue=function(){},ke.useDeferredValue=function(U){return $e.current.useDeferredValue(U)},ke.useEffect=function(U,Y){return $e.current.useEffect(U,Y)},ke.useId=function(){return $e.current.useId()},ke.useImperativeHandle=function(U,Y,pe){return $e.current.useImperativeHandle(U,Y,pe)},ke.useInsertionEffect=function(U,Y){return $e.current.useInsertionEffect(U,Y)},ke.useLayoutEffect=function(U,Y){return $e.current.useLayoutEffect(U,Y)},ke.useMemo=function(U,Y){return $e.current.useMemo(U,Y)},ke.useReducer=function(U,Y,pe){return $e.current.useReducer(U,Y,pe)},ke.useRef=function(U){return $e.current.useRef(U)},ke.useState=function(U){return $e.current.useState(U)},ke.useSyncExternalStore=function(U,Y,pe){return $e.current.useSyncExternalStore(U,Y,pe)},ke.useTransition=function(){return $e.current.useTransition()},ke.version="18.3.1",ke}var Sg;function gf(){return Sg||(Sg=1,yd.exports=tE()),yd.exports}var Ag;function nE(){if(Ag)return La;Ag=1;var r=gf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var w,T={},S=null,A=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(A=p.ref);for(w in p)s.call(p,w)&&!l.hasOwnProperty(w)&&(T[w]=p[w]);if(d&&d.defaultProps)for(w in p=d.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:d,key:S,ref:A,props:T,_owner:o.current}}return La.Fragment=t,La.jsx=c,La.jsxs=c,La}var Rg;function rE(){return Rg||(Rg=1,gd.exports=nE()),gd.exports}var v=rE(),D=gf();const gv=mv(D),sE=eE({__proto__:null,default:gv},[D]);var ju={},vd={exports:{}},on={},_d={exports:{}},wd={};var Cg;function iE(){return Cg||(Cg=1,(function(r){function e(re,ge){var le=re.length;re.push(ge);e:for(;0<le;){var U=le-1>>>1,Y=re[U];if(0<o(Y,ge))re[U]=ge,re[le]=Y,le=U;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ge=re[0],le=re.pop();if(le!==ge){re[0]=le;e:for(var U=0,Y=re.length,pe=Y>>>1;U<pe;){var Re=2*(U+1)-1,Ce=re[Re],De=Re+1,je=re[De];if(0>o(Ce,le))De<Y&&0>o(je,Ce)?(re[U]=je,re[De]=le,U=De):(re[U]=Ce,re[Re]=le,U=Re);else if(De<Y&&0>o(je,le))re[U]=je,re[De]=le,U=De;else break e}}return ge}function o(re,ge){var le=re.sortIndex-ge.sortIndex;return le!==0?le:re.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],y=[],w=1,T=null,S=3,A=!1,L=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(re){for(var ge=t(y);ge!==null;){if(ge.callback===null)s(y);else if(ge.startTime<=re)s(y),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(y)}}function se(re){if(P=!1,K(re),!L)if(t(p)!==null)L=!0,Mt(ie);else{var ge=t(y);ge!==null&&$e(se,ge.startTime-re)}}function ie(re,ge){L=!1,P&&(P=!1,$(R),R=-1),A=!0;var le=S;try{for(K(ge),T=t(p);T!==null&&(!(T.expirationTime>ge)||re&&!j());){var U=T.callback;if(typeof U=="function"){T.callback=null,S=T.priorityLevel;var Y=U(T.expirationTime<=ge);ge=r.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&s(p),K(ge)}else s(p);T=t(p)}if(T!==null)var pe=!0;else{var Re=t(y);Re!==null&&$e(se,Re.startTime-ge),pe=!1}return pe}finally{T=null,S=le,A=!1}}var we=!1,b=null,R=-1,x=5,V=-1;function j(){return!(r.unstable_now()-V<x)}function F(){if(b!==null){var re=r.unstable_now();V=re;var ge=!0;try{ge=b(!0,re)}finally{ge?N():(we=!1,b=null)}}else we=!1}var N;if(typeof G=="function")N=function(){G(F)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,Lt=it.port2;it.port1.onmessage=F,N=function(){Lt.postMessage(null)}}else N=function(){k(F,0)};function Mt(re){b=re,we||(we=!0,N())}function $e(re,ge){R=k(function(){re(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){L||A||(L=!0,Mt(ie))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(re){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var le=S;S=ge;try{return re()}finally{S=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ge){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=S;S=re;try{return ge()}finally{S=le}},r.unstable_scheduleCallback=function(re,ge,le){var U=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,re={id:w++,callback:ge,priorityLevel:re,startTime:le,expirationTime:Y,sortIndex:-1},le>U?(re.sortIndex=le,e(y,re),t(p)===null&&re===t(y)&&(P?($(R),R=-1):P=!0,$e(se,le-U))):(re.sortIndex=Y,e(p,re),L||A||(L=!0,Mt(ie))),re},r.unstable_shouldYield=j,r.unstable_wrapCallback=function(re){var ge=S;return function(){var le=S;S=ge;try{return re.apply(this,arguments)}finally{S=le}}}})(wd)),wd}var kg;function oE(){return kg||(kg=1,_d.exports=iE()),_d.exports}var Pg;function aE(){if(Pg)return on;Pg=1;var r=gf(),e=oE();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){c(n,i),c(n+"Capture",i)}function c(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(n){return p.call(T,n)?!0:p.call(w,n)?!1:y.test(n)?T[n]=!0:(w[n]=!0,!1)}function A(n,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function L(n,i,a,h){if(i===null||typeof i>"u"||A(n,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function P(n,i,a,h,f,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){k[n]=new P(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];k[i]=new P(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){k[n]=new P(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){k[n]=new P(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){k[n]=new P(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){k[n]=new P(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){k[n]=new P(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){k[n]=new P(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){k[n]=new P(n,5,!1,n.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function G(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace($,G);k[i]=new P(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace($,G);k[i]=new P(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace($,G);k[i]=new P(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){k[n]=new P(n,1,!1,n.toLowerCase(),null,!1,!1)}),k.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){k[n]=new P(n,1,!1,n.toLowerCase(),null,!0,!0)});function K(n,i,a,h){var f=k.hasOwnProperty(i)?k[i]:null;(f!==null?f.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(L(i,a,f,h)&&(a=null),h||f===null?S(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,h=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?n.setAttributeNS(h,i,a):n.setAttribute(i,a))))}var se=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),we=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),it=Symbol.for("react.suspense_list"),Lt=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),re=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var le=Object.assign,U;function Y(n){if(U===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+n}var pe=!1;function Re(n,i){if(!n||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var h=q}Reflect.construct(n,[],i)}else{try{i.call()}catch(q){h=q}n.call(i.prototype)}else{try{throw Error()}catch(q){h=q}n()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,C=g.length-1;1<=E&&0<=C&&f[E]!==g[C];)C--;for(;1<=E&&0<=C;E--,C--)if(f[E]!==g[C]){if(E!==1||C!==1)do if(E--,C--,0>C||f[E]!==g[C]){var O=`
`+f[E].replace(" at new "," at ");return n.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",n.displayName)),O}while(1<=E&&0<=C);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?Y(n):""}function Ce(n){switch(n.tag){case 5:return Y(n.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return n=Re(n.type,!1),n;case 11:return n=Re(n.type.render,!1),n;case 1:return n=Re(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case b:return"Fragment";case we:return"Portal";case x:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case it:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case j:return(n.displayName||"Context")+".Consumer";case V:return(n._context.displayName||"Context")+".Provider";case F:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Lt:return i=n.displayName||null,i!==null?i:De(n.type)||"Memo";case Mt:i=n._payload,n=n._init;try{return De(n(i))}catch{}}return null}function je(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ge(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wt(n){var i=Ge(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),h=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function lr(n){n._valueTracker||(n._valueTracker=wt(n))}function Ei(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return n&&(h=Ge(n)?n.checked?"true":"false":n.value),n=h,n!==a?(i.setValue(n),!0):!1}function jr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ds(n,i){var a=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ti(n,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Fe(i.value!=null?i.value:a),n._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function zo(n,i){i=i.checked,i!=null&&K(n,"checked",i,!1)}function $o(n,i){zo(n,i);var a=Fe(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ii(n,i.type,a):i.hasOwnProperty("defaultValue")&&Ii(n,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Il(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Ii(n,i,a){(i!=="number"||jr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var ur=Array.isArray;function cr(n,i,a,h){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&h&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,h&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Wo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Si(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(ur(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Fe(a)}}function Ai(n,i){var a=Fe(i.value),h=Fe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),h!=null&&(n.defaultValue=""+h)}function qo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function pt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?pt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hr,Ho=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,h,f)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(hr=hr||document.createElement("div"),hr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=hr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Fr(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bs=["Webkit","ms","Moz","O"];Object.keys(Os).forEach(function(n){bs.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Os[i]=Os[n]})});function Go(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Os.hasOwnProperty(n)&&Os[n]?(""+i).trim():i+"px"}function Ko(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=Go(a,i[a],h);a==="float"&&(a="cssFloat"),h?n.setProperty(a,f):n[a]=f}}var Qo=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yo(n,i){if(i){if(Qo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Xo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=null;function Ri(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ci=null,gn=null,Wn=null;function ki(n){if(n=Ea(n)){if(typeof Ci!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Zl(i),Ci(n.stateNode,n.type,i))}}function qn(n){gn?Wn?Wn.push(n):Wn=[n]:gn=n}function Jo(){if(gn){var n=gn,i=Wn;if(Wn=gn=null,ki(n),i)for(n=0;n<i.length;n++)ki(i[n])}}function Ls(n,i){return n(i)}function Zo(){}var dr=!1;function ea(n,i,a){if(dr)return n(i,a);dr=!0;try{return Ls(n,i,a)}finally{dr=!1,(gn!==null||Wn!==null)&&(Zo(),Jo())}}function ot(n,i){var a=n.stateNode;if(a===null)return null;var h=Zl(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Pi=!1;if(d)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){Pi=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{Pi=!1}function Ms(n,i,a,h,f,g,E,C,O){var q=Array.prototype.slice.call(arguments,3);try{i.apply(a,q)}catch(J){this.onError(J)}}var js=!1,xi=null,Cn=!1,ta=null,Wc={onError:function(n){js=!0,xi=n}};function Ni(n,i,a,h,f,g,E,C,O){js=!1,xi=null,Ms.apply(Wc,arguments)}function Sl(n,i,a,h,f,g,E,C,O){if(Ni.apply(this,arguments),js){if(js){var q=xi;js=!1,xi=null}else throw Error(t(198));Cn||(Cn=!0,ta=q)}}function kn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Fs(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Pn(n){if(kn(n)!==n)throw Error(t(188))}function Al(n){var i=n.alternate;if(!i){if(i=kn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,h=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Pn(f),n;if(g===h)return Pn(f),i;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var E=!1,C=f.child;C;){if(C===a){E=!0,a=f,h=g;break}if(C===h){E=!0,h=f,a=g;break}C=C.sibling}if(!E){for(C=g.child;C;){if(C===a){E=!0,a=g,h=f;break}if(C===h){E=!0,h=g,a=f;break}C=C.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function na(n){return n=Al(n),n!==null?Di(n):null}function Di(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Di(n);if(i!==null)return i;n=n.sibling}return null}var Oi=e.unstable_scheduleCallback,ra=e.unstable_cancelCallback,Rl=e.unstable_shouldYield,qc=e.unstable_requestPaint,Ke=e.unstable_now,Cl=e.unstable_getCurrentPriorityLevel,Us=e.unstable_ImmediatePriority,Ur=e.unstable_UserBlockingPriority,yn=e.unstable_NormalPriority,sa=e.unstable_LowPriority,kl=e.unstable_IdlePriority,Bs=null,ln=null;function Pl(n){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Bs,n,void 0,(n.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Nl,ia=Math.log,xl=Math.LN2;function Nl(n){return n>>>=0,n===0?32:31-(ia(n)/xl|0)|0}var bi=64,Vi=4194304;function Br(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zs(n,i){var a=n.pendingLanes;if(a===0)return 0;var h=0,f=n.suspendedLanes,g=n.pingedLanes,E=a&268435455;if(E!==0){var C=E&~f;C!==0?h=Br(C):(g&=E,g!==0&&(h=Br(g)))}else E=a&~f,E!==0?h=Br(E):g!==0&&(h=Br(g));if(h===0)return 0;if(i!==0&&i!==h&&(i&f)===0&&(f=h&-h,g=i&-i,f>=g||f===16&&(g&4194240)!==0))return i;if((h&4)!==0&&(h|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=h;0<i;)a=31-Gt(i),f=1<<a,h|=n[a],i&=~f;return h}function Hc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(n,i){for(var a=n.suspendedLanes,h=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes;0<g;){var E=31-Gt(g),C=1<<E,O=f[E];O===-1?((C&a)===0||(C&h)!==0)&&(f[E]=Hc(C,i)):O<=i&&(n.expiredLanes|=C),g&=~C}}function un(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function $s(){var n=bi;return bi<<=1,(bi&4194240)===0&&(bi=64),n}function zr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function $r(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Gt(i),n[i]=a}function qe(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-Gt(a),g=1<<f;i[f]=0,h[f]=-1,n[f]=-1,a&=~g}}function Wr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var h=31-Gt(a),f=1<<h;f&i|n[h]&i&&(n[h]|=i),a&=~f}}var xe=0;function qr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Dl,Li,Ol,bl,Vl,oa=!1,Hn=[],Ct=null,xn=null,Nn=null,Hr=new Map,vn=new Map,Gn=[],Gc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(n,i){switch(n){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Hr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(i.pointerId)}}function Jt(n,i,a,h,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Ea(i),i!==null&&Li(i)),n):(n.eventSystemFlags|=h,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Kc(n,i,a,h,f){switch(i){case"focusin":return Ct=Jt(Ct,n,i,a,h,f),!0;case"dragenter":return xn=Jt(xn,n,i,a,h,f),!0;case"mouseover":return Nn=Jt(Nn,n,i,a,h,f),!0;case"pointerover":var g=f.pointerId;return Hr.set(g,Jt(Hr.get(g)||null,n,i,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,vn.set(g,Jt(vn.get(g)||null,n,i,a,h,f)),!0}return!1}function Ml(n){var i=Ks(n.target);if(i!==null){var a=kn(i);if(a!==null){if(i=a.tag,i===13){if(i=Fs(a),i!==null){n.blockedOn=i,Vl(n.priority,function(){Ol(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Mi(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var h=new a.constructor(a.type,a);Vs=h,a.target.dispatchEvent(h),Vs=null}else return i=Ea(a),i!==null&&Li(i),n.blockedOn=a,!1;i.shift()}return!0}function Ws(n,i,a){pr(n)&&a.delete(i)}function jl(){oa=!1,Ct!==null&&pr(Ct)&&(Ct=null),xn!==null&&pr(xn)&&(xn=null),Nn!==null&&pr(Nn)&&(Nn=null),Hr.forEach(Ws),vn.forEach(Ws)}function Dn(n,i){n.blockedOn===i&&(n.blockedOn=null,oa||(oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jl)))}function On(n){function i(f){return Dn(f,n)}if(0<Hn.length){Dn(Hn[0],n);for(var a=1;a<Hn.length;a++){var h=Hn[a];h.blockedOn===n&&(h.blockedOn=null)}}for(Ct!==null&&Dn(Ct,n),xn!==null&&Dn(xn,n),Nn!==null&&Dn(Nn,n),Hr.forEach(i),vn.forEach(i),a=0;a<Gn.length;a++)h=Gn[a],h.blockedOn===n&&(h.blockedOn=null);for(;0<Gn.length&&(a=Gn[0],a.blockedOn===null);)Ml(a),a.blockedOn===null&&Gn.shift()}var mr=se.ReactCurrentBatchConfig,Gr=!0;function Ze(n,i,a,h){var f=xe,g=mr.transition;mr.transition=null;try{xe=1,aa(n,i,a,h)}finally{xe=f,mr.transition=g}}function Qc(n,i,a,h){var f=xe,g=mr.transition;mr.transition=null;try{xe=4,aa(n,i,a,h)}finally{xe=f,mr.transition=g}}function aa(n,i,a,h){if(Gr){var f=Mi(n,i,a,h);if(f===null)oh(n,i,h,qs,a),Ll(n,h);else if(Kc(f,n,i,a,h))h.stopPropagation();else if(Ll(n,h),i&4&&-1<Gc.indexOf(n)){for(;f!==null;){var g=Ea(f);if(g!==null&&Dl(g),g=Mi(n,i,a,h),g===null&&oh(n,i,h,qs,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else oh(n,i,h,null,a)}}var qs=null;function Mi(n,i,a,h){if(qs=null,n=Ri(h),n=Ks(n),n!==null)if(i=kn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Fs(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return qs=n,null}function la(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cl()){case Us:return 1;case Ur:return 4;case yn:case sa:return 16;case kl:return 536870912;default:return 16}default:return 16}}var cn=null,ji=null,Zt=null;function ua(){if(Zt)return Zt;var n,i=ji,a=i.length,h,f="value"in cn?cn.value:cn.textContent,g=f.length;for(n=0;n<a&&i[n]===f[n];n++);var E=a-n;for(h=1;h<=E&&i[a-h]===f[g-h];h++);return Zt=f.slice(n,1<h?1-h:void 0)}function Fi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Kn(){return!0}function ca(){return!1}function kt(n){function i(a,h,f,g,E){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(a=n[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Kn:ca,this.isPropagationStopped=ca,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),i}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=kt(bn),Qn=le({},bn,{view:0,detail:0}),Yc=kt(Qn),Bi,gr,Kr,Hs=le({},Qn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(Bi=n.screenX-Kr.screenX,gr=n.screenY-Kr.screenY):gr=Bi=0,Kr=n),Bi)},movementY:function(n){return"movementY"in n?n.movementY:gr}}),zi=kt(Hs),ha=le({},Hs,{dataTransfer:0}),Fl=kt(ha),$i=le({},Qn,{relatedTarget:0}),Wi=kt($i),Ul=le({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),yr=kt(Ul),Bl=le({},bn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zl=kt(Bl),$l=le({},bn,{data:0}),da=kt($l),qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Wl[n])?!!i[n]:!1}function Yn(){return ql}var u=le({},Qn,{key:function(n){if(n.key){var i=qi[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Fi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Kt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(n){return n.type==="keypress"?Fi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=kt(u),_=le({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=kt(_),B=le({},Qn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn}),H=kt(B),ne=le({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Be=kt(ne),gt=le({},Hs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=kt(gt),Et=[9,13,27,32],ct=d&&"CompositionEvent"in window,_n=null;d&&"documentMode"in document&&(_n=document.documentMode);var hn=d&&"TextEvent"in window&&!_n,Gs=d&&(!ct||_n&&8<_n&&11>=_n),Hi=" ",yp=!1;function vp(n,i){switch(n){case"keyup":return Et.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _p(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gi=!1;function X0(n,i){switch(n){case"compositionend":return _p(i);case"keypress":return i.which!==32?null:(yp=!0,Hi);case"textInput":return n=i.data,n===Hi&&yp?null:n;default:return null}}function J0(n,i){if(Gi)return n==="compositionend"||!ct&&vp(n,i)?(n=ua(),Zt=ji=cn=null,Gi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gs&&i.locale!=="ko"?null:i.data;default:return null}}var Z0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Z0[n.type]:i==="textarea"}function Ep(n,i,a,h){qn(h),i=Yl(i,"onChange"),0<i.length&&(a=new Ui("onChange","change",null,a,h),n.push({event:a,listeners:i}))}var fa=null,pa=null;function ew(n){Fp(n,0)}function Hl(n){var i=Ji(n);if(Ei(i))return n}function tw(n,i){if(n==="change")return i}var Tp=!1;if(d){var Xc;if(d){var Jc="oninput"in document;if(!Jc){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Jc=typeof Ip.oninput=="function"}Xc=Jc}else Xc=!1;Tp=Xc&&(!document.documentMode||9<document.documentMode)}function Sp(){fa&&(fa.detachEvent("onpropertychange",Ap),pa=fa=null)}function Ap(n){if(n.propertyName==="value"&&Hl(pa)){var i=[];Ep(i,pa,n,Ri(n)),ea(ew,i)}}function nw(n,i,a){n==="focusin"?(Sp(),fa=i,pa=a,fa.attachEvent("onpropertychange",Ap)):n==="focusout"&&Sp()}function rw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Hl(pa)}function sw(n,i){if(n==="click")return Hl(i)}function iw(n,i){if(n==="input"||n==="change")return Hl(i)}function ow(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Vn=typeof Object.is=="function"?Object.is:ow;function ma(n,i){if(Vn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(i,f)||!Vn(n[f],i[f]))return!1}return!0}function Rp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cp(n,i){var a=Rp(n);n=0;for(var h;a;){if(a.nodeType===3){if(h=n+a.textContent.length,n<=i&&h>=i)return{node:a,offset:i-n};n=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rp(a)}}function kp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?kp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Pp(){for(var n=window,i=jr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=jr(n.document)}return i}function Zc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function aw(n){var i=Pp(),a=n.focusedElem,h=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&kp(a.ownerDocument.documentElement,a)){if(h!==null&&Zc(a)){if(i=h.start,n=h.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!n.extend&&g>h&&(f=h,h=g,g=f),f=Cp(a,g);var E=Cp(a,h);f&&E&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),g>h?(n.addRange(i),n.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var lw=d&&"documentMode"in document&&11>=document.documentMode,Ki=null,eh=null,ga=null,th=!1;function xp(n,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;th||Ki==null||Ki!==jr(h)||(h=Ki,"selectionStart"in h&&Zc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ga&&ma(ga,h)||(ga=h,h=Yl(eh,"onSelect"),0<h.length&&(i=new Ui("onSelect","select",null,i,a),n.push({event:i,listeners:h}),i.target=Ki)))}function Gl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Qi={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},nh={},Np={};d&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Kl(n){if(nh[n])return nh[n];if(!Qi[n])return n;var i=Qi[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Np)return nh[n]=i[a];return n}var Dp=Kl("animationend"),Op=Kl("animationiteration"),bp=Kl("animationstart"),Vp=Kl("transitionend"),Lp=new Map,Mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(n,i){Lp.set(n,i),l(i,[n])}for(var rh=0;rh<Mp.length;rh++){var sh=Mp[rh],uw=sh.toLowerCase(),cw=sh[0].toUpperCase()+sh.slice(1);Qr(uw,"on"+cw)}Qr(Dp,"onAnimationEnd"),Qr(Op,"onAnimationIteration"),Qr(bp,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(Vp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function jp(n,i,a){var h=n.type||"unknown-event";n.currentTarget=a,Sl(h,i,void 0,n),n.currentTarget=null}function Fp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var h=n[a],f=h.event;h=h.listeners;e:{var g=void 0;if(i)for(var E=h.length-1;0<=E;E--){var C=h[E],O=C.instance,q=C.currentTarget;if(C=C.listener,O!==g&&f.isPropagationStopped())break e;jp(f,C,q),g=O}else for(E=0;E<h.length;E++){if(C=h[E],O=C.instance,q=C.currentTarget,C=C.listener,O!==g&&f.isPropagationStopped())break e;jp(f,C,q),g=O}}}if(Cn)throw n=ta,Cn=!1,ta=null,n}function Ye(n,i){var a=i[dh];a===void 0&&(a=i[dh]=new Set);var h=n+"__bubble";a.has(h)||(Up(i,n,2,!1),a.add(h))}function ih(n,i,a){var h=0;i&&(h|=4),Up(a,n,h,i)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function va(n){if(!n[Ql]){n[Ql]=!0,s.forEach(function(a){a!=="selectionchange"&&(hw.has(a)||ih(a,!1,n),ih(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ql]||(i[Ql]=!0,ih("selectionchange",!1,i))}}function Up(n,i,a,h){switch(la(i)){case 1:var f=Ze;break;case 4:f=Qc;break;default:f=aa}a=f.bind(null,i,a,n),f=void 0,!Pi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),h?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function oh(n,i,a,h,f){var g=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var C=h.stateNode.containerInfo;if(C===f||C.nodeType===8&&C.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;E=E.return}for(;C!==null;){if(E=Ks(C),E===null)return;if(O=E.tag,O===5||O===6){h=g=E;continue e}C=C.parentNode}}h=h.return}ea(function(){var q=g,J=Ri(a),ee=[];e:{var X=Lp.get(n);if(X!==void 0){var oe=Ui,ce=n;switch(n){case"keypress":if(Fi(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":ce="focus",oe=Wi;break;case"focusout":ce="blur",oe=Wi;break;case"beforeblur":case"afterblur":oe=Wi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Fl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=H;break;case Dp:case Op:case bp:oe=yr;break;case Vp:oe=Be;break;case"scroll":oe=Yc;break;case"wheel":oe=Oe;break;case"copy":case"cut":case"paste":oe=zl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=I}var he=(i&4)!==0,at=!he&&n==="scroll",z=he?X!==null?X+"Capture":null:X;he=[];for(var M=q,W;M!==null;){W=M;var te=W.stateNode;if(W.tag===5&&te!==null&&(W=te,z!==null&&(te=ot(M,z),te!=null&&he.push(_a(M,te,W)))),at)break;M=M.return}0<he.length&&(X=new oe(X,ce,null,a,J),ee.push({event:X,listeners:he}))}}if((i&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",oe=n==="mouseout"||n==="pointerout",X&&a!==Vs&&(ce=a.relatedTarget||a.fromElement)&&(Ks(ce)||ce[vr]))break e;if((oe||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,oe?(ce=a.relatedTarget||a.toElement,oe=q,ce=ce?Ks(ce):null,ce!==null&&(at=kn(ce),ce!==at||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(oe=null,ce=q),oe!==ce)){if(he=zi,te="onMouseLeave",z="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(he=I,te="onPointerLeave",z="onPointerEnter",M="pointer"),at=oe==null?X:Ji(oe),W=ce==null?X:Ji(ce),X=new he(te,M+"leave",oe,a,J),X.target=at,X.relatedTarget=W,te=null,Ks(J)===q&&(he=new he(z,M+"enter",ce,a,J),he.target=W,he.relatedTarget=at,te=he),at=te,oe&&ce)t:{for(he=oe,z=ce,M=0,W=he;W;W=Yi(W))M++;for(W=0,te=z;te;te=Yi(te))W++;for(;0<M-W;)he=Yi(he),M--;for(;0<W-M;)z=Yi(z),W--;for(;M--;){if(he===z||z!==null&&he===z.alternate)break t;he=Yi(he),z=Yi(z)}he=null}else he=null;oe!==null&&Bp(ee,X,oe,he,!1),ce!==null&&at!==null&&Bp(ee,at,ce,he,!0)}}e:{if(X=q?Ji(q):window,oe=X.nodeName&&X.nodeName.toLowerCase(),oe==="select"||oe==="input"&&X.type==="file")var fe=tw;else if(wp(X))if(Tp)fe=iw;else{fe=rw;var ye=nw}else(oe=X.nodeName)&&oe.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=sw);if(fe&&(fe=fe(n,q))){Ep(ee,fe,a,J);break e}ye&&ye(n,X,q),n==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&Ii(X,"number",X.value)}switch(ye=q?Ji(q):window,n){case"focusin":(wp(ye)||ye.contentEditable==="true")&&(Ki=ye,eh=q,ga=null);break;case"focusout":ga=eh=Ki=null;break;case"mousedown":th=!0;break;case"contextmenu":case"mouseup":case"dragend":th=!1,xp(ee,a,J);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":xp(ee,a,J)}var ve;if(ct)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Gi?vp(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Gs&&a.locale!=="ko"&&(Gi||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Gi&&(ve=ua()):(cn=J,ji="value"in cn?cn.value:cn.textContent,Gi=!0)),ye=Yl(q,Ee),0<ye.length&&(Ee=new da(Ee,n,null,a,J),ee.push({event:Ee,listeners:ye}),ve?Ee.data=ve:(ve=_p(a),ve!==null&&(Ee.data=ve)))),(ve=hn?X0(n,a):J0(n,a))&&(q=Yl(q,"onBeforeInput"),0<q.length&&(J=new da("onBeforeInput","beforeinput",null,a,J),ee.push({event:J,listeners:q}),J.data=ve))}Fp(ee,i)})}function _a(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Yl(n,i){for(var a=i+"Capture",h=[];n!==null;){var f=n,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ot(n,a),g!=null&&h.unshift(_a(n,g,f)),g=ot(n,i),g!=null&&h.push(_a(n,g,f))),n=n.return}return h}function Yi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Bp(n,i,a,h,f){for(var g=i._reactName,E=[];a!==null&&a!==h;){var C=a,O=C.alternate,q=C.stateNode;if(O!==null&&O===h)break;C.tag===5&&q!==null&&(C=q,f?(O=ot(a,g),O!=null&&E.unshift(_a(a,O,C))):f||(O=ot(a,g),O!=null&&E.push(_a(a,O,C)))),a=a.return}E.length!==0&&n.push({event:i,listeners:E})}var dw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function zp(n){return(typeof n=="string"?n:""+n).replace(dw,`
`).replace(fw,"")}function Xl(n,i,a){if(i=zp(i),zp(n)!==i&&a)throw Error(t(425))}function Jl(){}var ah=null,lh=null;function uh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,pw=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,mw=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(n){return $p.resolve(null).then(n).catch(gw)}:ch;function gw(n){setTimeout(function(){throw n})}function hh(n,i){var a=i,h=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){n.removeChild(f),On(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);On(i)}function Yr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Wp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Xi,wa="__reactProps$"+Xi,vr="__reactContainer$"+Xi,dh="__reactEvents$"+Xi,yw="__reactListeners$"+Xi,vw="__reactHandles$"+Xi;function Ks(n){var i=n[Xn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[vr]||a[Xn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Wp(n);n!==null;){if(a=n[Xn])return a;n=Wp(n)}return i}n=a,a=n.parentNode}return null}function Ea(n){return n=n[Xn]||n[vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ji(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Zl(n){return n[wa]||null}var fh=[],Zi=-1;function Xr(n){return{current:n}}function Xe(n){0>Zi||(n.current=fh[Zi],fh[Zi]=null,Zi--)}function Qe(n,i){Zi++,fh[Zi]=n.current,n.current=i}var Jr={},jt=Xr(Jr),en=Xr(!1),Qs=Jr;function eo(n,i){var a=n.type.contextTypes;if(!a)return Jr;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=i[g];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function tn(n){return n=n.childContextTypes,n!=null}function eu(){Xe(en),Xe(jt)}function qp(n,i,a){if(jt.current!==Jr)throw Error(t(168));Qe(jt,i),Qe(en,a)}function Hp(n,i,a){var h=n.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in i))throw Error(t(108,je(n)||"Unknown",f));return le({},a,h)}function tu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Jr,Qs=jt.current,Qe(jt,n),Qe(en,en.current),!0}function Gp(n,i,a){var h=n.stateNode;if(!h)throw Error(t(169));a?(n=Hp(n,i,Qs),h.__reactInternalMemoizedMergedChildContext=n,Xe(en),Xe(jt),Qe(jt,n)):Xe(en),Qe(en,a)}var _r=null,nu=!1,ph=!1;function Kp(n){_r===null?_r=[n]:_r.push(n)}function _w(n){nu=!0,Kp(n)}function Zr(){if(!ph&&_r!==null){ph=!0;var n=0,i=xe;try{var a=_r;for(xe=1;n<a.length;n++){var h=a[n];do h=h(!0);while(h!==null)}_r=null,nu=!1}catch(f){throw _r!==null&&(_r=_r.slice(n+1)),Oi(Us,Zr),f}finally{xe=i,ph=!1}}return null}var to=[],no=0,ru=null,su=0,wn=[],En=0,Ys=null,wr=1,Er="";function Xs(n,i){to[no++]=su,to[no++]=ru,ru=n,su=i}function Qp(n,i,a){wn[En++]=wr,wn[En++]=Er,wn[En++]=Ys,Ys=n;var h=wr;n=Er;var f=32-Gt(h)-1;h&=~(1<<f),a+=1;var g=32-Gt(i)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,wr=1<<32-Gt(i)+f|a<<f|h,Er=g+n}else wr=1<<g|a<<f|h,Er=n}function mh(n){n.return!==null&&(Xs(n,1),Qp(n,1,0))}function gh(n){for(;n===ru;)ru=to[--no],to[no]=null,su=to[--no],to[no]=null;for(;n===Ys;)Ys=wn[--En],wn[En]=null,Er=wn[--En],wn[En]=null,wr=wn[--En],wn[En]=null}var dn=null,fn=null,et=!1,Ln=null;function Yp(n,i){var a=An(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Xp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,dn=n,fn=Yr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,dn=n,fn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Ys!==null?{id:wr,overflow:Er}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=An(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,dn=n,fn=null,!0):!1;default:return!1}}function yh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function vh(n){if(et){var i=fn;if(i){var a=i;if(!Xp(n,i)){if(yh(n))throw Error(t(418));i=Yr(a.nextSibling);var h=dn;i&&Xp(n,i)?Yp(h,a):(n.flags=n.flags&-4097|2,et=!1,dn=n)}}else{if(yh(n))throw Error(t(418));n.flags=n.flags&-4097|2,et=!1,dn=n}}}function Jp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dn=n}function iu(n){if(n!==dn)return!1;if(!et)return Jp(n),et=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!uh(n.type,n.memoizedProps)),i&&(i=fn)){if(yh(n))throw Zp(),Error(t(418));for(;i;)Yp(n,i),i=Yr(i.nextSibling)}if(Jp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){fn=Yr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}fn=null}}else fn=dn?Yr(n.stateNode.nextSibling):null;return!0}function Zp(){for(var n=fn;n;)n=Yr(n.nextSibling)}function ro(){fn=dn=null,et=!1}function _h(n){Ln===null?Ln=[n]:Ln.push(n)}var ww=se.ReactCurrentBatchConfig;function Ta(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,n));var f=h,g=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var C=f.refs;E===null?delete C[g]:C[g]=E},i._stringRef=g,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ou(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function em(n){var i=n._init;return i(n._payload)}function tm(n){function i(z,M){if(n){var W=z.deletions;W===null?(z.deletions=[M],z.flags|=16):W.push(M)}}function a(z,M){if(!n)return null;for(;M!==null;)i(z,M),M=M.sibling;return null}function h(z,M){for(z=new Map;M!==null;)M.key!==null?z.set(M.key,M):z.set(M.index,M),M=M.sibling;return z}function f(z,M){return z=as(z,M),z.index=0,z.sibling=null,z}function g(z,M,W){return z.index=W,n?(W=z.alternate,W!==null?(W=W.index,W<M?(z.flags|=2,M):W):(z.flags|=2,M)):(z.flags|=1048576,M)}function E(z){return n&&z.alternate===null&&(z.flags|=2),z}function C(z,M,W,te){return M===null||M.tag!==6?(M=cd(W,z.mode,te),M.return=z,M):(M=f(M,W),M.return=z,M)}function O(z,M,W,te){var fe=W.type;return fe===b?J(z,M,W.props.children,te,W.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Mt&&em(fe)===M.type)?(te=f(M,W.props),te.ref=Ta(z,M,W),te.return=z,te):(te=xu(W.type,W.key,W.props,null,z.mode,te),te.ref=Ta(z,M,W),te.return=z,te)}function q(z,M,W,te){return M===null||M.tag!==4||M.stateNode.containerInfo!==W.containerInfo||M.stateNode.implementation!==W.implementation?(M=hd(W,z.mode,te),M.return=z,M):(M=f(M,W.children||[]),M.return=z,M)}function J(z,M,W,te,fe){return M===null||M.tag!==7?(M=ii(W,z.mode,te,fe),M.return=z,M):(M=f(M,W),M.return=z,M)}function ee(z,M,W){if(typeof M=="string"&&M!==""||typeof M=="number")return M=cd(""+M,z.mode,W),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ie:return W=xu(M.type,M.key,M.props,null,z.mode,W),W.ref=Ta(z,null,M),W.return=z,W;case we:return M=hd(M,z.mode,W),M.return=z,M;case Mt:var te=M._init;return ee(z,te(M._payload),W)}if(ur(M)||ge(M))return M=ii(M,z.mode,W,null),M.return=z,M;ou(z,M)}return null}function X(z,M,W,te){var fe=M!==null?M.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return fe!==null?null:C(z,M,""+W,te);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ie:return W.key===fe?O(z,M,W,te):null;case we:return W.key===fe?q(z,M,W,te):null;case Mt:return fe=W._init,X(z,M,fe(W._payload),te)}if(ur(W)||ge(W))return fe!==null?null:J(z,M,W,te,null);ou(z,W)}return null}function oe(z,M,W,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return z=z.get(W)||null,C(M,z,""+te,fe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ie:return z=z.get(te.key===null?W:te.key)||null,O(M,z,te,fe);case we:return z=z.get(te.key===null?W:te.key)||null,q(M,z,te,fe);case Mt:var ye=te._init;return oe(z,M,W,ye(te._payload),fe)}if(ur(te)||ge(te))return z=z.get(W)||null,J(M,z,te,fe,null);ou(M,te)}return null}function ce(z,M,W,te){for(var fe=null,ye=null,ve=M,Ee=M=0,St=null;ve!==null&&Ee<W.length;Ee++){ve.index>Ee?(St=ve,ve=null):St=ve.sibling;var Le=X(z,ve,W[Ee],te);if(Le===null){ve===null&&(ve=St);break}n&&ve&&Le.alternate===null&&i(z,ve),M=g(Le,M,Ee),ye===null?fe=Le:ye.sibling=Le,ye=Le,ve=St}if(Ee===W.length)return a(z,ve),et&&Xs(z,Ee),fe;if(ve===null){for(;Ee<W.length;Ee++)ve=ee(z,W[Ee],te),ve!==null&&(M=g(ve,M,Ee),ye===null?fe=ve:ye.sibling=ve,ye=ve);return et&&Xs(z,Ee),fe}for(ve=h(z,ve);Ee<W.length;Ee++)St=oe(ve,z,Ee,W[Ee],te),St!==null&&(n&&St.alternate!==null&&ve.delete(St.key===null?Ee:St.key),M=g(St,M,Ee),ye===null?fe=St:ye.sibling=St,ye=St);return n&&ve.forEach(function(ls){return i(z,ls)}),et&&Xs(z,Ee),fe}function he(z,M,W,te){var fe=ge(W);if(typeof fe!="function")throw Error(t(150));if(W=fe.call(W),W==null)throw Error(t(151));for(var ye=fe=null,ve=M,Ee=M=0,St=null,Le=W.next();ve!==null&&!Le.done;Ee++,Le=W.next()){ve.index>Ee?(St=ve,ve=null):St=ve.sibling;var ls=X(z,ve,Le.value,te);if(ls===null){ve===null&&(ve=St);break}n&&ve&&ls.alternate===null&&i(z,ve),M=g(ls,M,Ee),ye===null?fe=ls:ye.sibling=ls,ye=ls,ve=St}if(Le.done)return a(z,ve),et&&Xs(z,Ee),fe;if(ve===null){for(;!Le.done;Ee++,Le=W.next())Le=ee(z,Le.value,te),Le!==null&&(M=g(Le,M,Ee),ye===null?fe=Le:ye.sibling=Le,ye=Le);return et&&Xs(z,Ee),fe}for(ve=h(z,ve);!Le.done;Ee++,Le=W.next())Le=oe(ve,z,Ee,Le.value,te),Le!==null&&(n&&Le.alternate!==null&&ve.delete(Le.key===null?Ee:Le.key),M=g(Le,M,Ee),ye===null?fe=Le:ye.sibling=Le,ye=Le);return n&&ve.forEach(function(Zw){return i(z,Zw)}),et&&Xs(z,Ee),fe}function at(z,M,W,te){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ie:e:{for(var fe=W.key,ye=M;ye!==null;){if(ye.key===fe){if(fe=W.type,fe===b){if(ye.tag===7){a(z,ye.sibling),M=f(ye,W.props.children),M.return=z,z=M;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===Mt&&em(fe)===ye.type){a(z,ye.sibling),M=f(ye,W.props),M.ref=Ta(z,ye,W),M.return=z,z=M;break e}a(z,ye);break}else i(z,ye);ye=ye.sibling}W.type===b?(M=ii(W.props.children,z.mode,te,W.key),M.return=z,z=M):(te=xu(W.type,W.key,W.props,null,z.mode,te),te.ref=Ta(z,M,W),te.return=z,z=te)}return E(z);case we:e:{for(ye=W.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===W.containerInfo&&M.stateNode.implementation===W.implementation){a(z,M.sibling),M=f(M,W.children||[]),M.return=z,z=M;break e}else{a(z,M);break}else i(z,M);M=M.sibling}M=hd(W,z.mode,te),M.return=z,z=M}return E(z);case Mt:return ye=W._init,at(z,M,ye(W._payload),te)}if(ur(W))return ce(z,M,W,te);if(ge(W))return he(z,M,W,te);ou(z,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,M!==null&&M.tag===6?(a(z,M.sibling),M=f(M,W),M.return=z,z=M):(a(z,M),M=cd(W,z.mode,te),M.return=z,z=M),E(z)):a(z,M)}return at}var so=tm(!0),nm=tm(!1),au=Xr(null),lu=null,io=null,wh=null;function Eh(){wh=io=lu=null}function Th(n){var i=au.current;Xe(au),n._currentValue=i}function Ih(n,i,a){for(;n!==null;){var h=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),n===a)break;n=n.return}}function oo(n,i){lu=n,wh=io=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(nn=!0),n.firstContext=null)}function Tn(n){var i=n._currentValue;if(wh!==n)if(n={context:n,memoizedValue:i,next:null},io===null){if(lu===null)throw Error(t(308));io=n,lu.dependencies={lanes:0,firstContext:n}}else io=io.next=n;return i}var Js=null;function Sh(n){Js===null?Js=[n]:Js.push(n)}function rm(n,i,a,h){var f=i.interleaved;return f===null?(a.next=a,Sh(i)):(a.next=f.next,f.next=a),i.interleaved=a,Tr(n,h)}function Tr(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var es=!1;function Ah(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ir(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ts(n,i,a){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,(Ve&2)!==0){var f=h.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),h.pending=i,Tr(n,a)}return f=h.interleaved,f===null?(i.next=i,Sh(h)):(i.next=f.next,f.next=i),h.interleaved=i,Tr(n,a)}function uu(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=n.pendingLanes,a|=h,i.lanes=a,Wr(n,a)}}function im(n,i){var a=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function cu(n,i,a,h){var f=n.updateQueue;es=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var O=C,q=O.next;O.next=null,E===null?g=q:E.next=q,E=O;var J=n.alternate;J!==null&&(J=J.updateQueue,C=J.lastBaseUpdate,C!==E&&(C===null?J.firstBaseUpdate=q:C.next=q,J.lastBaseUpdate=O))}if(g!==null){var ee=f.baseState;E=0,J=q=O=null,C=g;do{var X=C.lane,oe=C.eventTime;if((h&X)===X){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var ce=n,he=C;switch(X=i,oe=a,he.tag){case 1:if(ce=he.payload,typeof ce=="function"){ee=ce.call(oe,ee,X);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=he.payload,X=typeof ce=="function"?ce.call(oe,ee,X):ce,X==null)break e;ee=le({},ee,X);break e;case 2:es=!0}}C.callback!==null&&C.lane!==0&&(n.flags|=64,X=f.effects,X===null?f.effects=[C]:X.push(C))}else oe={eventTime:oe,lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},J===null?(q=J=oe,O=ee):J=J.next=oe,E|=X;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;X=C,C=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(J===null&&(O=ee),f.baseState=O,f.firstBaseUpdate=q,f.lastBaseUpdate=J,i=f.shared.interleaved,i!==null){f=i;do E|=f.lane,f=f.next;while(f!==i)}else g===null&&(f.shared.lanes=0);ti|=E,n.lanes=E,n.memoizedState=ee}}function om(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var h=n[i],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var Ia={},Jn=Xr(Ia),Sa=Xr(Ia),Aa=Xr(Ia);function Zs(n){if(n===Ia)throw Error(t(174));return n}function Rh(n,i){switch(Qe(Aa,i),Qe(Sa,n),Qe(Jn,Ia),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:mt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=mt(i,n)}Xe(Jn),Qe(Jn,i)}function ao(){Xe(Jn),Xe(Sa),Xe(Aa)}function am(n){Zs(Aa.current);var i=Zs(Jn.current),a=mt(i,n.type);i!==a&&(Qe(Sa,n),Qe(Jn,a))}function Ch(n){Sa.current===n&&(Xe(Jn),Xe(Sa))}var tt=Xr(0);function hu(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var kh=[];function Ph(){for(var n=0;n<kh.length;n++)kh[n]._workInProgressVersionPrimary=null;kh.length=0}var du=se.ReactCurrentDispatcher,xh=se.ReactCurrentBatchConfig,ei=0,nt=null,yt=null,Tt=null,fu=!1,Ra=!1,Ca=0,Ew=0;function Ft(){throw Error(t(321))}function Nh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Vn(n[a],i[a]))return!1;return!0}function Dh(n,i,a,h,f,g){if(ei=g,nt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,du.current=n===null||n.memoizedState===null?Aw:Rw,n=a(h,f),Ra){g=0;do{if(Ra=!1,Ca=0,25<=g)throw Error(t(301));g+=1,Tt=yt=null,i.updateQueue=null,du.current=Cw,n=a(h,f)}while(Ra)}if(du.current=gu,i=yt!==null&&yt.next!==null,ei=0,Tt=yt=nt=null,fu=!1,i)throw Error(t(300));return n}function Oh(){var n=Ca!==0;return Ca=0,n}function Zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?nt.memoizedState=Tt=n:Tt=Tt.next=n,Tt}function In(){if(yt===null){var n=nt.alternate;n=n!==null?n.memoizedState:null}else n=yt.next;var i=Tt===null?nt.memoizedState:Tt.next;if(i!==null)Tt=i,yt=n;else{if(n===null)throw Error(t(310));yt=n,n={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Tt===null?nt.memoizedState=Tt=n:Tt=Tt.next=n}return Tt}function ka(n,i){return typeof i=="function"?i(n):i}function bh(n){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=yt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var C=E=null,O=null,q=g;do{var J=q.lane;if((ei&J)===J)O!==null&&(O=O.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:n(h,q.action);else{var ee={lane:J,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};O===null?(C=O=ee,E=h):O=O.next=ee,nt.lanes|=J,ti|=J}q=q.next}while(q!==null&&q!==g);O===null?E=h:O.next=C,Vn(h,i.memoizedState)||(nn=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=O,a.lastRenderedState=h}if(n=a.interleaved,n!==null){f=n;do g=f.lane,nt.lanes|=g,ti|=g,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Vh(n){var i=In(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var h=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do g=n(g,E.action),E=E.next;while(E!==f);Vn(g,i.memoizedState)||(nn=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,h]}function lm(){}function um(n,i){var a=nt,h=In(),f=i(),g=!Vn(h.memoizedState,f);if(g&&(h.memoizedState=f,nn=!0),h=h.queue,Lh(dm.bind(null,a,h,n),[n]),h.getSnapshot!==i||g||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,Pa(9,hm.bind(null,a,h,f,i),void 0,null),It===null)throw Error(t(349));(ei&30)!==0||cm(a,i,f)}return f}function cm(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function hm(n,i,a,h){i.value=a,i.getSnapshot=h,fm(i)&&pm(n)}function dm(n,i,a){return a(function(){fm(i)&&pm(n)})}function fm(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Vn(n,a)}catch{return!0}}function pm(n){var i=Tr(n,1);i!==null&&Un(i,n,1,-1)}function mm(n){var i=Zn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:n},i.queue=n,n=n.dispatch=Sw.bind(null,nt,n),[i.memoizedState,n]}function Pa(n,i,a,h){return n={tag:n,create:i,destroy:a,deps:h,next:null},i=nt.updateQueue,i===null?(i={lastEffect:null,stores:null},nt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(h=a.next,a.next=n,n.next=h,i.lastEffect=n)),n}function gm(){return In().memoizedState}function pu(n,i,a,h){var f=Zn();nt.flags|=n,f.memoizedState=Pa(1|i,a,void 0,h===void 0?null:h)}function mu(n,i,a,h){var f=In();h=h===void 0?null:h;var g=void 0;if(yt!==null){var E=yt.memoizedState;if(g=E.destroy,h!==null&&Nh(h,E.deps)){f.memoizedState=Pa(i,a,g,h);return}}nt.flags|=n,f.memoizedState=Pa(1|i,a,g,h)}function ym(n,i){return pu(8390656,8,n,i)}function Lh(n,i){return mu(2048,8,n,i)}function vm(n,i){return mu(4,2,n,i)}function _m(n,i){return mu(4,4,n,i)}function wm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Em(n,i,a){return a=a!=null?a.concat([n]):null,mu(4,4,wm.bind(null,i,n),a)}function Mh(){}function Tm(n,i){var a=In();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Nh(i,h[1])?h[0]:(a.memoizedState=[n,i],n)}function Im(n,i){var a=In();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&Nh(i,h[1])?h[0]:(n=n(),a.memoizedState=[n,i],n)}function Sm(n,i,a){return(ei&21)===0?(n.baseState&&(n.baseState=!1,nn=!0),n.memoizedState=a):(Vn(a,i)||(a=$s(),nt.lanes|=a,ti|=a,n.baseState=!0),i)}function Tw(n,i){var a=xe;xe=a!==0&&4>a?a:4,n(!0);var h=xh.transition;xh.transition={};try{n(!1),i()}finally{xe=a,xh.transition=h}}function Am(){return In().memoizedState}function Iw(n,i,a){var h=is(n);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},Rm(n))Cm(i,a);else if(a=rm(n,i,a,h),a!==null){var f=Yt();Un(a,n,h,f),km(a,i,h)}}function Sw(n,i,a){var h=is(n),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rm(n))Cm(i,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,C=g(E,a);if(f.hasEagerState=!0,f.eagerState=C,Vn(C,E)){var O=i.interleaved;O===null?(f.next=f,Sh(i)):(f.next=O.next,O.next=f),i.interleaved=f;return}}catch{}a=rm(n,i,f,h),a!==null&&(f=Yt(),Un(a,n,h,f),km(a,i,h))}}function Rm(n){var i=n.alternate;return n===nt||i!==null&&i===nt}function Cm(n,i){Ra=fu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function km(n,i,a){if((a&4194240)!==0){var h=i.lanes;h&=n.pendingLanes,a|=h,i.lanes=a,Wr(n,a)}}var gu={readContext:Tn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Aw={readContext:Tn,useCallback:function(n,i){return Zn().memoizedState=[n,i===void 0?null:i],n},useContext:Tn,useEffect:ym,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,pu(4194308,4,wm.bind(null,i,n),a)},useLayoutEffect:function(n,i){return pu(4194308,4,n,i)},useInsertionEffect:function(n,i){return pu(4,2,n,i)},useMemo:function(n,i){var a=Zn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var h=Zn();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},h.queue=n,n=n.dispatch=Iw.bind(null,nt,n),[h.memoizedState,n]},useRef:function(n){var i=Zn();return n={current:n},i.memoizedState=n},useState:mm,useDebugValue:Mh,useDeferredValue:function(n){return Zn().memoizedState=n},useTransition:function(){var n=mm(!1),i=n[0];return n=Tw.bind(null,n[1]),Zn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var h=nt,f=Zn();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));(ei&30)!==0||cm(h,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,ym(dm.bind(null,h,g,n),[n]),h.flags|=2048,Pa(9,hm.bind(null,h,g,a,i),void 0,null),a},useId:function(){var n=Zn(),i=It.identifierPrefix;if(et){var a=Er,h=wr;a=(h&~(1<<32-Gt(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ca++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Ew++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},Rw={readContext:Tn,useCallback:Tm,useContext:Tn,useEffect:Lh,useImperativeHandle:Em,useInsertionEffect:vm,useLayoutEffect:_m,useMemo:Im,useReducer:bh,useRef:gm,useState:function(){return bh(ka)},useDebugValue:Mh,useDeferredValue:function(n){var i=In();return Sm(i,yt.memoizedState,n)},useTransition:function(){var n=bh(ka)[0],i=In().memoizedState;return[n,i]},useMutableSource:lm,useSyncExternalStore:um,useId:Am,unstable_isNewReconciler:!1},Cw={readContext:Tn,useCallback:Tm,useContext:Tn,useEffect:Lh,useImperativeHandle:Em,useInsertionEffect:vm,useLayoutEffect:_m,useMemo:Im,useReducer:Vh,useRef:gm,useState:function(){return Vh(ka)},useDebugValue:Mh,useDeferredValue:function(n){var i=In();return yt===null?i.memoizedState=n:Sm(i,yt.memoizedState,n)},useTransition:function(){var n=Vh(ka)[0],i=In().memoizedState;return[n,i]},useMutableSource:lm,useSyncExternalStore:um,useId:Am,unstable_isNewReconciler:!1};function Mn(n,i){if(n&&n.defaultProps){i=le({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function jh(n,i,a,h){i=n.memoizedState,a=a(h,i),a=a==null?i:le({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var yu={isMounted:function(n){return(n=n._reactInternals)?kn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var h=Yt(),f=is(n),g=Ir(h,f);g.payload=i,a!=null&&(g.callback=a),i=ts(n,g,f),i!==null&&(Un(i,n,f,h),uu(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var h=Yt(),f=is(n),g=Ir(h,f);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ts(n,g,f),i!==null&&(Un(i,n,f,h),uu(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Yt(),h=is(n),f=Ir(a,h);f.tag=2,i!=null&&(f.callback=i),i=ts(n,f,h),i!==null&&(Un(i,n,h,a),uu(i,n,h))}};function Pm(n,i,a,h,f,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,g,E):i.prototype&&i.prototype.isPureReactComponent?!ma(a,h)||!ma(f,g):!0}function xm(n,i,a){var h=!1,f=Jr,g=i.contextType;return typeof g=="object"&&g!==null?g=Tn(g):(f=tn(i)?Qs:jt.current,h=i.contextTypes,g=(h=h!=null)?eo(n,f):Jr),i=new i(a,g),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=yu,n.stateNode=i,i._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=g),i}function Nm(n,i,a,h){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==n&&yu.enqueueReplaceState(i,i.state,null)}function Fh(n,i,a,h){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},Ah(n);var g=i.contextType;typeof g=="object"&&g!==null?f.context=Tn(g):(g=tn(i)?Qs:jt.current,f.context=eo(n,g)),f.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(jh(n,i,g,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&yu.enqueueReplaceState(f,f.state,null),cu(n,a,f,h),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function lo(n,i){try{var a="",h=i;do a+=Ce(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:i,stack:f,digest:null}}function Uh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Bh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var kw=typeof WeakMap=="function"?WeakMap:Map;function Dm(n,i,a){a=Ir(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){Su||(Su=!0,nd=h),Bh(n,i)},a}function Om(n,i,a){a=Ir(-1,a),a.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var f=i.value;a.payload=function(){return h(f)},a.callback=function(){Bh(n,i)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Bh(n,i),typeof h!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function bm(n,i,a){var h=n.pingCache;if(h===null){h=n.pingCache=new kw;var f=new Set;h.set(i,f)}else f=h.get(i),f===void 0&&(f=new Set,h.set(i,f));f.has(a)||(f.add(a),n=zw.bind(null,n,i,a),i.then(n,n))}function Vm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Lm(n,i,a,h,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Ir(-1,1),i.tag=2,ts(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var Pw=se.ReactCurrentOwner,nn=!1;function Qt(n,i,a,h){i.child=n===null?nm(i,null,a,h):so(i,n.child,a,h)}function Mm(n,i,a,h,f){a=a.render;var g=i.ref;return oo(i,f),h=Dh(n,i,a,h,g,f),a=Oh(),n!==null&&!nn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Sr(n,i,f)):(et&&a&&mh(i),i.flags|=1,Qt(n,i,h,f),i.child)}function jm(n,i,a,h,f){if(n===null){var g=a.type;return typeof g=="function"&&!ud(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,Fm(n,i,g,h,f)):(n=xu(a.type,null,h,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,(n.lanes&f)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:ma,a(E,h)&&n.ref===i.ref)return Sr(n,i,f)}return i.flags|=1,n=as(g,h),n.ref=i.ref,n.return=i,i.child=n}function Fm(n,i,a,h,f){if(n!==null){var g=n.memoizedProps;if(ma(g,h)&&n.ref===i.ref)if(nn=!1,i.pendingProps=h=g,(n.lanes&f)!==0)(n.flags&131072)!==0&&(nn=!0);else return i.lanes=n.lanes,Sr(n,i,f)}return zh(n,i,a,h,f)}function Um(n,i,a){var h=i.pendingProps,f=h.children,g=n!==null?n.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(co,pn),pn|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Qe(co,pn),pn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Qe(co,pn),pn|=h}else g!==null?(h=g.baseLanes|a,i.memoizedState=null):h=a,Qe(co,pn),pn|=h;return Qt(n,i,f,a),i.child}function Bm(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function zh(n,i,a,h,f){var g=tn(a)?Qs:jt.current;return g=eo(i,g),oo(i,f),a=Dh(n,i,a,h,g,f),h=Oh(),n!==null&&!nn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Sr(n,i,f)):(et&&h&&mh(i),i.flags|=1,Qt(n,i,a,f),i.child)}function zm(n,i,a,h,f){if(tn(a)){var g=!0;tu(i)}else g=!1;if(oo(i,f),i.stateNode===null)_u(n,i),xm(i,a,h),Fh(i,a,h,f),h=!0;else if(n===null){var E=i.stateNode,C=i.memoizedProps;E.props=C;var O=E.context,q=a.contextType;typeof q=="object"&&q!==null?q=Tn(q):(q=tn(a)?Qs:jt.current,q=eo(i,q));var J=a.getDerivedStateFromProps,ee=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==h||O!==q)&&Nm(i,E,h,q),es=!1;var X=i.memoizedState;E.state=X,cu(i,h,E,f),O=i.memoizedState,C!==h||X!==O||en.current||es?(typeof J=="function"&&(jh(i,a,J,h),O=i.memoizedState),(C=es||Pm(i,a,C,h,X,O,q))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=O),E.props=h,E.state=O,E.context=q,h=C):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,sm(n,i),C=i.memoizedProps,q=i.type===i.elementType?C:Mn(i.type,C),E.props=q,ee=i.pendingProps,X=E.context,O=a.contextType,typeof O=="object"&&O!==null?O=Tn(O):(O=tn(a)?Qs:jt.current,O=eo(i,O));var oe=a.getDerivedStateFromProps;(J=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==ee||X!==O)&&Nm(i,E,h,O),es=!1,X=i.memoizedState,E.state=X,cu(i,h,E,f);var ce=i.memoizedState;C!==ee||X!==ce||en.current||es?(typeof oe=="function"&&(jh(i,a,oe,h),ce=i.memoizedState),(q=es||Pm(i,a,q,h,X,ce,O)||!1)?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,ce,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,ce,O)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ce),E.props=h,E.state=ce,E.context=O,h=q):(typeof E.componentDidUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&X===n.memoizedState||(i.flags|=1024),h=!1)}return $h(n,i,a,h,g,f)}function $h(n,i,a,h,f,g){Bm(n,i);var E=(i.flags&128)!==0;if(!h&&!E)return f&&Gp(i,a,!1),Sr(n,i,g);h=i.stateNode,Pw.current=i;var C=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,n!==null&&E?(i.child=so(i,n.child,null,g),i.child=so(i,null,C,g)):Qt(n,i,C,g),i.memoizedState=h.state,f&&Gp(i,a,!0),i.child}function $m(n){var i=n.stateNode;i.pendingContext?qp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&qp(n,i.context,!1),Rh(n,i.containerInfo)}function Wm(n,i,a,h,f){return ro(),_h(f),i.flags|=256,Qt(n,i,a,h),i.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function qh(n){return{baseLanes:n,cachePool:null,transitions:null}}function qm(n,i,a){var h=i.pendingProps,f=tt.current,g=!1,E=(i.flags&128)!==0,C;if((C=E)||(C=n!==null&&n.memoizedState===null?!1:(f&2)!==0),C?(g=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Qe(tt,f&1),n===null)return vh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,n=h.fallback,g?(h=i.mode,g=i.child,E={mode:"hidden",children:E},(h&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Nu(E,h,0,null),n=ii(n,h,a,null),g.return=i,n.return=i,g.sibling=n,i.child=g,i.child.memoizedState=qh(a),i.memoizedState=Wh,n):Hh(i,E));if(f=n.memoizedState,f!==null&&(C=f.dehydrated,C!==null))return xw(n,i,E,h,C,f,a);if(g){g=h.fallback,E=i.mode,f=n.child,C=f.sibling;var O={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==f?(h=i.child,h.childLanes=0,h.pendingProps=O,i.deletions=null):(h=as(f,O),h.subtreeFlags=f.subtreeFlags&14680064),C!==null?g=as(C,g):(g=ii(g,E,a,null),g.flags|=2),g.return=i,h.return=i,h.sibling=g,i.child=h,h=g,g=i.child,E=n.child.memoizedState,E=E===null?qh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=n.childLanes&~a,i.memoizedState=Wh,h}return g=n.child,n=g.sibling,h=as(g,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=a),h.return=i,h.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=h,i.memoizedState=null,h}function Hh(n,i){return i=Nu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function vu(n,i,a,h){return h!==null&&_h(h),so(i,n.child,null,a),n=Hh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function xw(n,i,a,h,f,g,E){if(a)return i.flags&256?(i.flags&=-257,h=Uh(Error(t(422))),vu(n,i,E,h)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(g=h.fallback,f=i.mode,h=Nu({mode:"visible",children:h.children},f,0,null),g=ii(g,f,E,null),g.flags|=2,h.return=i,g.return=i,h.sibling=g,i.child=h,(i.mode&1)!==0&&so(i,n.child,null,E),i.child.memoizedState=qh(E),i.memoizedState=Wh,g);if((i.mode&1)===0)return vu(n,i,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var C=h.dgst;return h=C,g=Error(t(419)),h=Uh(g,h,void 0),vu(n,i,E,h)}if(C=(E&n.childLanes)!==0,nn||C){if(h=It,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(h.suspendedLanes|E))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Tr(n,f),Un(h,n,f,-1))}return ld(),h=Uh(Error(t(421))),vu(n,i,E,h)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=$w.bind(null,n),f._reactRetry=i,null):(n=g.treeContext,fn=Yr(f.nextSibling),dn=i,et=!0,Ln=null,n!==null&&(wn[En++]=wr,wn[En++]=Er,wn[En++]=Ys,wr=n.id,Er=n.overflow,Ys=i),i=Hh(i,h.children),i.flags|=4096,i)}function Hm(n,i,a){n.lanes|=i;var h=n.alternate;h!==null&&(h.lanes|=i),Ih(n.return,i,a)}function Gh(n,i,a,h,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function Gm(n,i,a){var h=i.pendingProps,f=h.revealOrder,g=h.tail;if(Qt(n,i,h.children,a),h=tt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Hm(n,a,i);else if(n.tag===19)Hm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(Qe(tt,h),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&hu(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Gh(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&hu(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Gh(i,!0,a,null,g);break;case"together":Gh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _u(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Sr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ti|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=as(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=as(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Nw(n,i,a){switch(i.tag){case 3:$m(i),ro();break;case 5:am(i);break;case 1:tn(i.type)&&tu(i);break;case 4:Rh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,f=i.memoizedProps.value;Qe(au,h._currentValue),h._currentValue=f;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Qe(tt,tt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?qm(n,i,a):(Qe(tt,tt.current&1),n=Sr(n,i,a),n!==null?n.sibling:null);Qe(tt,tt.current&1);break;case 19:if(h=(a&i.childLanes)!==0,(n.flags&128)!==0){if(h)return Gm(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Qe(tt,tt.current),h)break;return null;case 22:case 23:return i.lanes=0,Um(n,i,a)}return Sr(n,i,a)}var Km,Kh,Qm,Ym;Km=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Kh=function(){},Qm=function(n,i,a,h){var f=n.memoizedProps;if(f!==h){n=i.stateNode,Zs(Jn.current);var g=null;switch(a){case"input":f=Ds(n,f),h=Ds(n,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=Wo(n,f),h=Wo(n,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Jl)}Yo(a,h);var E;a=null;for(q in f)if(!h.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var C=f[q];for(E in C)C.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in h){var O=h[q];if(C=f?.[q],h.hasOwnProperty(q)&&O!==C&&(O!=null||C!=null))if(q==="style")if(C){for(E in C)!C.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in O)O.hasOwnProperty(E)&&C[E]!==O[E]&&(a||(a={}),a[E]=O[E])}else a||(g||(g=[]),g.push(q,a)),a=O;else q==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,C=C?C.__html:void 0,O!=null&&C!==O&&(g=g||[]).push(q,O)):q==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(q,""+O):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(O!=null&&q==="onScroll"&&Ye("scroll",n),g||C===O||(g=[])):(g=g||[]).push(q,O))}a&&(g=g||[]).push("style",a);var q=g;(i.updateQueue=q)&&(i.flags|=4)}},Ym=function(n,i,a,h){a!==h&&(i.flags|=4)};function xa(n,i){if(!et)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Ut(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,h=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=h,n.childLanes=a,i}function Dw(n,i,a){var h=i.pendingProps;switch(gh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return tn(i.type)&&eu(),Ut(i),null;case 3:return h=i.stateNode,ao(),Xe(en),Xe(jt),Ph(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(iu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ln!==null&&(id(Ln),Ln=null))),Kh(n,i),Ut(i),null;case 5:Ch(i);var f=Zs(Aa.current);if(a=i.type,n!==null&&i.stateNode!=null)Qm(n,i,a,h,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return Ut(i),null}if(n=Zs(Jn.current),iu(i)){h=i.stateNode,a=i.type;var g=i.memoizedProps;switch(h[Xn]=i,h[wa]=g,n=(i.mode&1)!==0,a){case"dialog":Ye("cancel",h),Ye("close",h);break;case"iframe":case"object":case"embed":Ye("load",h);break;case"video":case"audio":for(f=0;f<ya.length;f++)Ye(ya[f],h);break;case"source":Ye("error",h);break;case"img":case"image":case"link":Ye("error",h),Ye("load",h);break;case"details":Ye("toggle",h);break;case"input":Ti(h,g),Ye("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Ye("invalid",h);break;case"textarea":Si(h,g),Ye("invalid",h)}Yo(a,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var C=g[E];E==="children"?typeof C=="string"?h.textContent!==C&&(g.suppressHydrationWarning!==!0&&Xl(h.textContent,C,n),f=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&Xl(h.textContent,C,n),f=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Ye("scroll",h)}switch(a){case"input":lr(h),Il(h,g,!0);break;case"textarea":lr(h),qo(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Jl)}h=f,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=pt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=E.createElement(a,{is:h.is}):(n=E.createElement(a),a==="select"&&(E=n,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):n=E.createElementNS(n,a),n[Xn]=i,n[wa]=h,Km(n,i,!1,!1),i.stateNode=n;e:{switch(E=Xo(a,h),a){case"dialog":Ye("cancel",n),Ye("close",n),f=h;break;case"iframe":case"object":case"embed":Ye("load",n),f=h;break;case"video":case"audio":for(f=0;f<ya.length;f++)Ye(ya[f],n);f=h;break;case"source":Ye("error",n),f=h;break;case"img":case"image":case"link":Ye("error",n),Ye("load",n),f=h;break;case"details":Ye("toggle",n),f=h;break;case"input":Ti(n,h),f=Ds(n,h),Ye("invalid",n);break;case"option":f=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),Ye("invalid",n);break;case"textarea":Si(n,h),f=Wo(n,h),Ye("invalid",n);break;default:f=h}Yo(a,f),C=f;for(g in C)if(C.hasOwnProperty(g)){var O=C[g];g==="style"?Ko(n,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ho(n,O)):g==="children"?typeof O=="string"?(a!=="textarea"||O!=="")&&Fr(n,O):typeof O=="number"&&Fr(n,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&Ye("scroll",n):O!=null&&K(n,g,O,E))}switch(a){case"input":lr(n),Il(n,h,!1);break;case"textarea":lr(n),qo(n);break;case"option":h.value!=null&&n.setAttribute("value",""+Fe(h.value));break;case"select":n.multiple=!!h.multiple,g=h.value,g!=null?cr(n,!!h.multiple,g,!1):h.defaultValue!=null&&cr(n,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Jl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ut(i),null;case 6:if(n&&i.stateNode!=null)Ym(n,i,n.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=Zs(Aa.current),Zs(Jn.current),iu(i)){if(h=i.stateNode,a=i.memoizedProps,h[Xn]=i,(g=h.nodeValue!==a)&&(n=dn,n!==null))switch(n.tag){case 3:Xl(h.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Xl(h.nodeValue,a,(n.mode&1)!==0)}g&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[Xn]=i,i.stateNode=h}return Ut(i),null;case 13:if(Xe(tt),h=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(et&&fn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Zp(),ro(),i.flags|=98560,g=!1;else if(g=iu(i),h!==null&&h.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Xn]=i}else ro(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),g=!1}else Ln!==null&&(id(Ln),Ln=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(tt.current&1)!==0?vt===0&&(vt=3):ld())),i.updateQueue!==null&&(i.flags|=4),Ut(i),null);case 4:return ao(),Kh(n,i),n===null&&va(i.stateNode.containerInfo),Ut(i),null;case 10:return Th(i.type._context),Ut(i),null;case 17:return tn(i.type)&&eu(),Ut(i),null;case 19:if(Xe(tt),g=i.memoizedState,g===null)return Ut(i),null;if(h=(i.flags&128)!==0,E=g.rendering,E===null)if(h)xa(g,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(E=hu(n),E!==null){for(i.flags|=128,xa(g,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)g=a,n=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,n=E.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Qe(tt,tt.current&1|2),i.child}n=n.sibling}g.tail!==null&&Ke()>ho&&(i.flags|=128,h=!0,xa(g,!1),i.lanes=4194304)}else{if(!h)if(n=hu(E),n!==null){if(i.flags|=128,h=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),xa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!et)return Ut(i),null}else 2*Ke()-g.renderingStartTime>ho&&a!==1073741824&&(i.flags|=128,h=!0,xa(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(a=g.last,a!==null?a.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ke(),i.sibling=null,a=tt.current,Qe(tt,h?a&1|2:a&1),i):(Ut(i),null);case 22:case 23:return ad(),h=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(pn&1073741824)!==0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Ow(n,i){switch(gh(i),i.tag){case 1:return tn(i.type)&&eu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ao(),Xe(en),Xe(jt),Ph(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Ch(i),null;case 13:if(Xe(tt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ro()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Xe(tt),null;case 4:return ao(),null;case 10:return Th(i.type._context),null;case 22:case 23:return ad(),null;case 24:return null;default:return null}}var wu=!1,Bt=!1,bw=typeof WeakSet=="function"?WeakSet:Set,ue=null;function uo(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){st(n,i,h)}else a.current=null}function Qh(n,i,a){try{a()}catch(h){st(n,i,h)}}var Xm=!1;function Vw(n,i){if(ah=Gr,n=Pp(),Zc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,C=-1,O=-1,q=0,J=0,ee=n,X=null;t:for(;;){for(var oe;ee!==a||f!==0&&ee.nodeType!==3||(C=E+f),ee!==g||h!==0&&ee.nodeType!==3||(O=E+h),ee.nodeType===3&&(E+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)X=ee,ee=oe;for(;;){if(ee===n)break t;if(X===a&&++q===f&&(C=E),X===g&&++J===h&&(O=E),(oe=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=oe}a=C===-1||O===-1?null:{start:C,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(lh={focusedElem:n,selectionRange:a},Gr=!1,ue=i;ue!==null;)if(i=ue,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ue=n;else for(;ue!==null;){i=ue;try{var ce=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var he=ce.memoizedProps,at=ce.memoizedState,z=i.stateNode,M=z.getSnapshotBeforeUpdate(i.elementType===i.type?he:Mn(i.type,he),at);z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){st(i,i.return,te)}if(n=i.sibling,n!==null){n.return=i.return,ue=n;break}ue=i.return}return ce=Xm,Xm=!1,ce}function Na(n,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&n)===n){var g=f.destroy;f.destroy=void 0,g!==void 0&&Qh(i,a,g)}f=f.next}while(f!==h)}}function Eu(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function Yh(n){var i=n.ref;if(i!==null){var a=n.stateNode;n.tag,n=a,typeof i=="function"?i(n):i.current=n}}function Jm(n){var i=n.alternate;i!==null&&(n.alternate=null,Jm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Xn],delete i[wa],delete i[dh],delete i[yw],delete i[vw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Zm(n){return n.tag===5||n.tag===3||n.tag===4}function eg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xh(n,i,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Jl));else if(h!==4&&(n=n.child,n!==null))for(Xh(n,i,a),n=n.sibling;n!==null;)Xh(n,i,a),n=n.sibling}function Jh(n,i,a){var h=n.tag;if(h===5||h===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(Jh(n,i,a),n=n.sibling;n!==null;)Jh(n,i,a),n=n.sibling}var Pt=null,jn=!1;function ns(n,i,a){for(a=a.child;a!==null;)tg(n,i,a),a=a.sibling}function tg(n,i,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Bs,a)}catch{}switch(a.tag){case 5:Bt||uo(a,i);case 6:var h=Pt,f=jn;Pt=null,ns(n,i,a),Pt=h,jn=f,Pt!==null&&(jn?(n=Pt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Pt.removeChild(a.stateNode));break;case 18:Pt!==null&&(jn?(n=Pt,a=a.stateNode,n.nodeType===8?hh(n.parentNode,a):n.nodeType===1&&hh(n,a),On(n)):hh(Pt,a.stateNode));break;case 4:h=Pt,f=jn,Pt=a.stateNode.containerInfo,jn=!0,ns(n,i,a),Pt=h,jn=f;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&Qh(a,i,E),f=f.next}while(f!==h)}ns(n,i,a);break;case 1:if(!Bt&&(uo(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(C){st(a,i,C)}ns(n,i,a);break;case 21:ns(n,i,a);break;case 22:a.mode&1?(Bt=(h=Bt)||a.memoizedState!==null,ns(n,i,a),Bt=h):ns(n,i,a);break;default:ns(n,i,a)}}function ng(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new bw),i.forEach(function(h){var f=Ww.bind(null,n,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Fn(n,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=n,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 5:Pt=C.stateNode,jn=!1;break e;case 3:Pt=C.stateNode.containerInfo,jn=!0;break e;case 4:Pt=C.stateNode.containerInfo,jn=!0;break e}C=C.return}if(Pt===null)throw Error(t(160));tg(g,E,f),Pt=null,jn=!1;var O=f.alternate;O!==null&&(O.return=null),f.return=null}catch(q){st(f,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)rg(i,n),i=i.sibling}function rg(n,i){var a=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Fn(i,n),er(n),h&4){try{Na(3,n,n.return),Eu(3,n)}catch(he){st(n,n.return,he)}try{Na(5,n,n.return)}catch(he){st(n,n.return,he)}}break;case 1:Fn(i,n),er(n),h&512&&a!==null&&uo(a,a.return);break;case 5:if(Fn(i,n),er(n),h&512&&a!==null&&uo(a,a.return),n.flags&32){var f=n.stateNode;try{Fr(f,"")}catch(he){st(n,n.return,he)}}if(h&4&&(f=n.stateNode,f!=null)){var g=n.memoizedProps,E=a!==null?a.memoizedProps:g,C=n.type,O=n.updateQueue;if(n.updateQueue=null,O!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&zo(f,g),Xo(C,E);var q=Xo(C,g);for(E=0;E<O.length;E+=2){var J=O[E],ee=O[E+1];J==="style"?Ko(f,ee):J==="dangerouslySetInnerHTML"?Ho(f,ee):J==="children"?Fr(f,ee):K(f,J,ee,q)}switch(C){case"input":$o(f,g);break;case"textarea":Ai(f,g);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?cr(f,!!g.multiple,oe,!1):X!==!!g.multiple&&(g.defaultValue!=null?cr(f,!!g.multiple,g.defaultValue,!0):cr(f,!!g.multiple,g.multiple?[]:"",!1))}f[wa]=g}catch(he){st(n,n.return,he)}}break;case 6:if(Fn(i,n),er(n),h&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,g=n.memoizedProps;try{f.nodeValue=g}catch(he){st(n,n.return,he)}}break;case 3:if(Fn(i,n),er(n),h&4&&a!==null&&a.memoizedState.isDehydrated)try{On(i.containerInfo)}catch(he){st(n,n.return,he)}break;case 4:Fn(i,n),er(n);break;case 13:Fn(i,n),er(n),f=n.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(td=Ke())),h&4&&ng(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(Bt=(q=Bt)||J,Fn(i,n),Bt=q):Fn(i,n),er(n),h&8192){if(q=n.memoizedState!==null,(n.stateNode.isHidden=q)&&!J&&(n.mode&1)!==0)for(ue=n,J=n.child;J!==null;){for(ee=ue=J;ue!==null;){switch(X=ue,oe=X.child,X.tag){case 0:case 11:case 14:case 15:Na(4,X,X.return);break;case 1:uo(X,X.return);var ce=X.stateNode;if(typeof ce.componentWillUnmount=="function"){h=X,a=X.return;try{i=h,ce.props=i.memoizedProps,ce.state=i.memoizedState,ce.componentWillUnmount()}catch(he){st(h,a,he)}}break;case 5:uo(X,X.return);break;case 22:if(X.memoizedState!==null){og(ee);continue}}oe!==null?(oe.return=X,ue=oe):og(ee)}J=J.sibling}e:for(J=null,ee=n;;){if(ee.tag===5){if(J===null){J=ee;try{f=ee.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=ee.stateNode,O=ee.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,C.style.display=Go("display",E))}catch(he){st(n,n.return,he)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=q?"":ee.memoizedProps}catch(he){st(n,n.return,he)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===n)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===n)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===n)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Fn(i,n),er(n),h&4&&ng(n);break;case 21:break;default:Fn(i,n),er(n)}}function er(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Zm(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Fr(f,""),h.flags&=-33);var g=eg(n);Jh(n,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,C=eg(n);Xh(n,C,E);break;default:throw Error(t(161))}}catch(O){st(n,n.return,O)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Lw(n,i,a){ue=n,sg(n)}function sg(n,i,a){for(var h=(n.mode&1)!==0;ue!==null;){var f=ue,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||wu;if(!E){var C=f.alternate,O=C!==null&&C.memoizedState!==null||Bt;C=wu;var q=Bt;if(wu=E,(Bt=O)&&!q)for(ue=f;ue!==null;)E=ue,O=E.child,E.tag===22&&E.memoizedState!==null?ag(f):O!==null?(O.return=E,ue=O):ag(f);for(;g!==null;)ue=g,sg(g),g=g.sibling;ue=f,wu=C,Bt=q}ig(n)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,ue=g):ig(n)}}function ig(n){for(;ue!==null;){var i=ue;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Bt||Eu(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Bt)if(a===null)h.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Mn(i.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&om(i,g,h);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}om(i,E,a)}break;case 5:var C=i.stateNode;if(a===null&&i.flags&4){a=C;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&a.focus();break;case"img":O.src&&(a.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var J=q.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&On(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||i.flags&512&&Yh(i)}catch(X){st(i,i.return,X)}}if(i===n){ue=null;break}if(a=i.sibling,a!==null){a.return=i.return,ue=a;break}ue=i.return}}function og(n){for(;ue!==null;){var i=ue;if(i===n){ue=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ue=a;break}ue=i.return}}function ag(n){for(;ue!==null;){var i=ue;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Eu(4,i)}catch(O){st(i,a,O)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var f=i.return;try{h.componentDidMount()}catch(O){st(i,f,O)}}var g=i.return;try{Yh(i)}catch(O){st(i,g,O)}break;case 5:var E=i.return;try{Yh(i)}catch(O){st(i,E,O)}}}catch(O){st(i,i.return,O)}if(i===n){ue=null;break}var C=i.sibling;if(C!==null){C.return=i.return,ue=C;break}ue=i.return}}var Mw=Math.ceil,Tu=se.ReactCurrentDispatcher,Zh=se.ReactCurrentOwner,Sn=se.ReactCurrentBatchConfig,Ve=0,It=null,ht=null,xt=0,pn=0,co=Xr(0),vt=0,Da=null,ti=0,Iu=0,ed=0,Oa=null,rn=null,td=0,ho=1/0,Ar=null,Su=!1,nd=null,rs=null,Au=!1,ss=null,Ru=0,ba=0,rd=null,Cu=-1,ku=0;function Yt(){return(Ve&6)!==0?Ke():Cu!==-1?Cu:Cu=Ke()}function is(n){return(n.mode&1)===0?1:(Ve&2)!==0&&xt!==0?xt&-xt:ww.transition!==null?(ku===0&&(ku=$s()),ku):(n=xe,n!==0||(n=window.event,n=n===void 0?16:la(n.type)),n)}function Un(n,i,a,h){if(50<ba)throw ba=0,rd=null,Error(t(185));$r(n,a,h),((Ve&2)===0||n!==It)&&(n===It&&((Ve&2)===0&&(Iu|=a),vt===4&&os(n,xt)),sn(n,h),a===1&&Ve===0&&(i.mode&1)===0&&(ho=Ke()+500,nu&&Zr()))}function sn(n,i){var a=n.callbackNode;fr(n,i);var h=zs(n,n===It?xt:0);if(h===0)a!==null&&ra(a),n.callbackNode=null,n.callbackPriority=0;else if(i=h&-h,n.callbackPriority!==i){if(a!=null&&ra(a),i===1)n.tag===0?_w(ug.bind(null,n)):Kp(ug.bind(null,n)),mw(function(){(Ve&6)===0&&Zr()}),a=null;else{switch(qr(h)){case 1:a=Us;break;case 4:a=Ur;break;case 16:a=yn;break;case 536870912:a=kl;break;default:a=yn}a=yg(a,lg.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function lg(n,i){if(Cu=-1,ku=0,(Ve&6)!==0)throw Error(t(327));var a=n.callbackNode;if(fo()&&n.callbackNode!==a)return null;var h=zs(n,n===It?xt:0);if(h===0)return null;if((h&30)!==0||(h&n.expiredLanes)!==0||i)i=Pu(n,h);else{i=h;var f=Ve;Ve|=2;var g=hg();(It!==n||xt!==i)&&(Ar=null,ho=Ke()+500,ri(n,i));do try{Uw();break}catch(C){cg(n,C)}while(!0);Eh(),Tu.current=g,Ve=f,ht!==null?i=0:(It=null,xt=0,i=vt)}if(i!==0){if(i===2&&(f=un(n),f!==0&&(h=f,i=sd(n,f))),i===1)throw a=Da,ri(n,0),os(n,h),sn(n,Ke()),a;if(i===6)os(n,h);else{if(f=n.current.alternate,(h&30)===0&&!jw(f)&&(i=Pu(n,h),i===2&&(g=un(n),g!==0&&(h=g,i=sd(n,g))),i===1))throw a=Da,ri(n,0),os(n,h),sn(n,Ke()),a;switch(n.finishedWork=f,n.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:si(n,rn,Ar);break;case 3:if(os(n,h),(h&130023424)===h&&(i=td+500-Ke(),10<i)){if(zs(n,0)!==0)break;if(f=n.suspendedLanes,(f&h)!==h){Yt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=ch(si.bind(null,n,rn,Ar),i);break}si(n,rn,Ar);break;case 4:if(os(n,h),(h&4194240)===h)break;for(i=n.eventTimes,f=-1;0<h;){var E=31-Gt(h);g=1<<E,E=i[E],E>f&&(f=E),h&=~g}if(h=f,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Mw(h/1960))-h,10<h){n.timeoutHandle=ch(si.bind(null,n,rn,Ar),h);break}si(n,rn,Ar);break;case 5:si(n,rn,Ar);break;default:throw Error(t(329))}}}return sn(n,Ke()),n.callbackNode===a?lg.bind(null,n):null}function sd(n,i){var a=Oa;return n.current.memoizedState.isDehydrated&&(ri(n,i).flags|=256),n=Pu(n,i),n!==2&&(i=rn,rn=a,i!==null&&id(i)),n}function id(n){rn===null?rn=n:rn.push.apply(rn,n)}function jw(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!Vn(g(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function os(n,i){for(i&=~ed,i&=~Iu,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Gt(i),h=1<<a;n[a]=-1,i&=~h}}function ug(n){if((Ve&6)!==0)throw Error(t(327));fo();var i=zs(n,0);if((i&1)===0)return sn(n,Ke()),null;var a=Pu(n,i);if(n.tag!==0&&a===2){var h=un(n);h!==0&&(i=h,a=sd(n,h))}if(a===1)throw a=Da,ri(n,0),os(n,i),sn(n,Ke()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,si(n,rn,Ar),sn(n,Ke()),null}function od(n,i){var a=Ve;Ve|=1;try{return n(i)}finally{Ve=a,Ve===0&&(ho=Ke()+500,nu&&Zr())}}function ni(n){ss!==null&&ss.tag===0&&(Ve&6)===0&&fo();var i=Ve;Ve|=1;var a=Sn.transition,h=xe;try{if(Sn.transition=null,xe=1,n)return n()}finally{xe=h,Sn.transition=a,Ve=i,(Ve&6)===0&&Zr()}}function ad(){pn=co.current,Xe(co)}function ri(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,pw(a)),ht!==null)for(a=ht.return;a!==null;){var h=a;switch(gh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&eu();break;case 3:ao(),Xe(en),Xe(jt),Ph();break;case 5:Ch(h);break;case 4:ao();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:Th(h.type._context);break;case 22:case 23:ad()}a=a.return}if(It=n,ht=n=as(n.current,null),xt=pn=i,vt=0,Da=null,ed=Iu=ti=0,rn=Oa=null,Js!==null){for(i=0;i<Js.length;i++)if(a=Js[i],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}a.pending=h}Js=null}return n}function cg(n,i){do{var a=ht;try{if(Eh(),du.current=gu,fu){for(var h=nt.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}fu=!1}if(ei=0,Tt=yt=nt=null,Ra=!1,Ca=0,Zh.current=null,a===null||a.return===null){vt=1,Da=i,ht=null;break}e:{var g=n,E=a.return,C=a,O=i;if(i=xt,C.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=O,J=C,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=Vm(E);if(oe!==null){oe.flags&=-257,Lm(oe,E,C,g,i),oe.mode&1&&bm(g,q,i),i=oe,O=q;var ce=i.updateQueue;if(ce===null){var he=new Set;he.add(O),i.updateQueue=he}else ce.add(O);break e}else{if((i&1)===0){bm(g,q,i),ld();break e}O=Error(t(426))}}else if(et&&C.mode&1){var at=Vm(E);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),Lm(at,E,C,g,i),_h(lo(O,C));break e}}g=O=lo(O,C),vt!==4&&(vt=2),Oa===null?Oa=[g]:Oa.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var z=Dm(g,O,i);im(g,z);break e;case 1:C=O;var M=g.type,W=g.stateNode;if((g.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(rs===null||!rs.has(W)))){g.flags|=65536,i&=-i,g.lanes|=i;var te=Om(g,C,i);im(g,te);break e}}g=g.return}while(g!==null)}fg(a)}catch(fe){i=fe,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function hg(){var n=Tu.current;return Tu.current=gu,n===null?gu:n}function ld(){(vt===0||vt===3||vt===2)&&(vt=4),It===null||(ti&268435455)===0&&(Iu&268435455)===0||os(It,xt)}function Pu(n,i){var a=Ve;Ve|=2;var h=hg();(It!==n||xt!==i)&&(Ar=null,ri(n,i));do try{Fw();break}catch(f){cg(n,f)}while(!0);if(Eh(),Ve=a,Tu.current=h,ht!==null)throw Error(t(261));return It=null,xt=0,vt}function Fw(){for(;ht!==null;)dg(ht)}function Uw(){for(;ht!==null&&!Rl();)dg(ht)}function dg(n){var i=gg(n.alternate,n,pn);n.memoizedProps=n.pendingProps,i===null?fg(n):ht=i,Zh.current=null}function fg(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=Dw(a,i,pn),a!==null){ht=a;return}}else{if(a=Ow(a,i),a!==null){a.flags&=32767,ht=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{vt=6,ht=null;return}}if(i=i.sibling,i!==null){ht=i;return}ht=i=n}while(i!==null);vt===0&&(vt=5)}function si(n,i,a){var h=xe,f=Sn.transition;try{Sn.transition=null,xe=1,Bw(n,i,a,h)}finally{Sn.transition=f,xe=h}return null}function Bw(n,i,a,h){do fo();while(ss!==null);if((Ve&6)!==0)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(qe(n,g),n===It&&(ht=It=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Au||(Au=!0,yg(yn,function(){return fo(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Sn.transition,Sn.transition=null;var E=xe;xe=1;var C=Ve;Ve|=4,Zh.current=null,Vw(n,a),rg(a,n),aw(lh),Gr=!!ah,lh=ah=null,n.current=a,Lw(a),qc(),Ve=C,xe=E,Sn.transition=g}else n.current=a;if(Au&&(Au=!1,ss=n,Ru=f),g=n.pendingLanes,g===0&&(rs=null),Pl(a.stateNode),sn(n,Ke()),i!==null)for(h=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(Su)throw Su=!1,n=nd,nd=null,n;return(Ru&1)!==0&&n.tag!==0&&fo(),g=n.pendingLanes,(g&1)!==0?n===rd?ba++:(ba=0,rd=n):ba=0,Zr(),null}function fo(){if(ss!==null){var n=qr(Ru),i=Sn.transition,a=xe;try{if(Sn.transition=null,xe=16>n?16:n,ss===null)var h=!1;else{if(n=ss,ss=null,Ru=0,(Ve&6)!==0)throw Error(t(331));var f=Ve;for(Ve|=4,ue=n.current;ue!==null;){var g=ue,E=g.child;if((ue.flags&16)!==0){var C=g.deletions;if(C!==null){for(var O=0;O<C.length;O++){var q=C[O];for(ue=q;ue!==null;){var J=ue;switch(J.tag){case 0:case 11:case 15:Na(8,J,g)}var ee=J.child;if(ee!==null)ee.return=J,ue=ee;else for(;ue!==null;){J=ue;var X=J.sibling,oe=J.return;if(Jm(J),J===q){ue=null;break}if(X!==null){X.return=oe,ue=X;break}ue=oe}}}var ce=g.alternate;if(ce!==null){var he=ce.child;if(he!==null){ce.child=null;do{var at=he.sibling;he.sibling=null,he=at}while(he!==null)}}ue=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,ue=E;else e:for(;ue!==null;){if(g=ue,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Na(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,ue=z;break e}ue=g.return}}var M=n.current;for(ue=M;ue!==null;){E=ue;var W=E.child;if((E.subtreeFlags&2064)!==0&&W!==null)W.return=E,ue=W;else e:for(E=M;ue!==null;){if(C=ue,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Eu(9,C)}}catch(fe){st(C,C.return,fe)}if(C===E){ue=null;break e}var te=C.sibling;if(te!==null){te.return=C.return,ue=te;break e}ue=C.return}}if(Ve=f,Zr(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Bs,n)}catch{}h=!0}return h}finally{xe=a,Sn.transition=i}}return!1}function pg(n,i,a){i=lo(a,i),i=Dm(n,i,1),n=ts(n,i,1),i=Yt(),n!==null&&($r(n,1,i),sn(n,i))}function st(n,i,a){if(n.tag===3)pg(n,n,a);else for(;i!==null;){if(i.tag===3){pg(i,n,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(rs===null||!rs.has(h))){n=lo(a,n),n=Om(i,n,1),i=ts(i,n,1),n=Yt(),i!==null&&($r(i,1,n),sn(i,n));break}}i=i.return}}function zw(n,i,a){var h=n.pingCache;h!==null&&h.delete(i),i=Yt(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(xt&a)===a&&(vt===4||vt===3&&(xt&130023424)===xt&&500>Ke()-td?ri(n,0):ed|=a),sn(n,i)}function mg(n,i){i===0&&((n.mode&1)===0?i=1:(i=Vi,Vi<<=1,(Vi&130023424)===0&&(Vi=4194304)));var a=Yt();n=Tr(n,i),n!==null&&($r(n,i,a),sn(n,a))}function $w(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),mg(n,a)}function Ww(n,i){var a=0;switch(n.tag){case 13:var h=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),mg(n,a)}var gg;gg=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||en.current)nn=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return nn=!1,Nw(n,i,a);nn=(n.flags&131072)!==0}else nn=!1,et&&(i.flags&1048576)!==0&&Qp(i,su,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;_u(n,i),n=i.pendingProps;var f=eo(i,jt.current);oo(i,a),f=Dh(null,i,h,n,f,a);var g=Oh();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,tn(h)?(g=!0,tu(i)):g=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Ah(i),f.updater=yu,i.stateNode=f,f._reactInternals=i,Fh(i,h,n,a),i=$h(null,i,h,!0,g,a)):(i.tag=0,et&&g&&mh(i),Qt(null,i,f,a),i=i.child),i;case 16:h=i.elementType;e:{switch(_u(n,i),n=i.pendingProps,f=h._init,h=f(h._payload),i.type=h,f=i.tag=Hw(h),n=Mn(h,n),f){case 0:i=zh(null,i,h,n,a);break e;case 1:i=zm(null,i,h,n,a);break e;case 11:i=Mm(null,i,h,n,a);break e;case 14:i=jm(null,i,h,Mn(h.type,n),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Mn(h,f),zh(n,i,h,f,a);case 1:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Mn(h,f),zm(n,i,h,f,a);case 3:e:{if($m(i),n===null)throw Error(t(387));h=i.pendingProps,g=i.memoizedState,f=g.element,sm(n,i),cu(i,h,null,a);var E=i.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){f=lo(Error(t(423)),i),i=Wm(n,i,h,a,f);break e}else if(h!==f){f=lo(Error(t(424)),i),i=Wm(n,i,h,a,f);break e}else for(fn=Yr(i.stateNode.containerInfo.firstChild),dn=i,et=!0,Ln=null,a=nm(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ro(),h===f){i=Sr(n,i,a);break e}Qt(n,i,h,a)}i=i.child}return i;case 5:return am(i),n===null&&vh(i),h=i.type,f=i.pendingProps,g=n!==null?n.memoizedProps:null,E=f.children,uh(h,f)?E=null:g!==null&&uh(h,g)&&(i.flags|=32),Bm(n,i),Qt(n,i,E,a),i.child;case 6:return n===null&&vh(i),null;case 13:return qm(n,i,a);case 4:return Rh(i,i.stateNode.containerInfo),h=i.pendingProps,n===null?i.child=so(i,null,h,a):Qt(n,i,h,a),i.child;case 11:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Mn(h,f),Mm(n,i,h,f,a);case 7:return Qt(n,i,i.pendingProps,a),i.child;case 8:return Qt(n,i,i.pendingProps.children,a),i.child;case 12:return Qt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,f=i.pendingProps,g=i.memoizedProps,E=f.value,Qe(au,h._currentValue),h._currentValue=E,g!==null)if(Vn(g.value,E)){if(g.children===f.children&&!en.current){i=Sr(n,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var C=g.dependencies;if(C!==null){E=g.child;for(var O=C.firstContext;O!==null;){if(O.context===h){if(g.tag===1){O=Ir(-1,a&-a),O.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var J=q.pending;J===null?O.next=O:(O.next=J.next,J.next=O),q.pending=O}}g.lanes|=a,O=g.alternate,O!==null&&(O.lanes|=a),Ih(g.return,a,i),C.lanes|=a;break}O=O.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,C=E.alternate,C!==null&&(C.lanes|=a),Ih(E,a,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Qt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,h=i.pendingProps.children,oo(i,a),f=Tn(f),h=h(f),i.flags|=1,Qt(n,i,h,a),i.child;case 14:return h=i.type,f=Mn(h,i.pendingProps),f=Mn(h.type,f),jm(n,i,h,f,a);case 15:return Fm(n,i,i.type,i.pendingProps,a);case 17:return h=i.type,f=i.pendingProps,f=i.elementType===h?f:Mn(h,f),_u(n,i),i.tag=1,tn(h)?(n=!0,tu(i)):n=!1,oo(i,a),xm(i,h,f),Fh(i,h,f,a),$h(null,i,h,!0,n,a);case 19:return Gm(n,i,a);case 22:return Um(n,i,a)}throw Error(t(156,i.tag))};function yg(n,i){return Oi(n,i)}function qw(n,i,a,h){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,i,a,h){return new qw(n,i,a,h)}function ud(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hw(n){if(typeof n=="function")return ud(n)?1:0;if(n!=null){if(n=n.$$typeof,n===F)return 11;if(n===Lt)return 14}return 2}function as(n,i){var a=n.alternate;return a===null?(a=An(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function xu(n,i,a,h,f,g){var E=2;if(h=n,typeof n=="function")ud(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case b:return ii(a.children,f,g,i);case R:E=8,f|=8;break;case x:return n=An(12,a,i,f|2),n.elementType=x,n.lanes=g,n;case N:return n=An(13,a,i,f),n.elementType=N,n.lanes=g,n;case it:return n=An(19,a,i,f),n.elementType=it,n.lanes=g,n;case $e:return Nu(a,f,g,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:E=10;break e;case j:E=9;break e;case F:E=11;break e;case Lt:E=14;break e;case Mt:E=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=An(E,a,i,f),i.elementType=n,i.type=h,i.lanes=g,i}function ii(n,i,a,h){return n=An(7,n,h,i),n.lanes=a,n}function Nu(n,i,a,h){return n=An(22,n,h,i),n.elementType=$e,n.lanes=a,n.stateNode={isHidden:!1},n}function cd(n,i,a){return n=An(6,n,null,i),n.lanes=a,n}function hd(n,i,a){return i=An(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Gw(n,i,a,h,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zr(0),this.expirationTimes=zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function dd(n,i,a,h,f,g,E,C,O){return n=new Gw(n,i,a,C,O),i===1?(i=1,g===!0&&(i|=8)):i=0,g=An(3,null,null,i),n.current=g,g.stateNode=n,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ah(g),n}function Kw(n,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:h==null?null:""+h,children:n,containerInfo:i,implementation:a}}function vg(n){if(!n)return Jr;n=n._reactInternals;e:{if(kn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(tn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(tn(a))return Hp(n,a,i)}return i}function _g(n,i,a,h,f,g,E,C,O){return n=dd(a,h,!0,n,f,g,E,C,O),n.context=vg(null),a=n.current,h=Yt(),f=is(a),g=Ir(h,f),g.callback=i??null,ts(a,g,f),n.current.lanes=f,$r(n,f,h),sn(n,h),n}function Du(n,i,a,h){var f=i.current,g=Yt(),E=is(f);return a=vg(a),i.context===null?i.context=a:i.pendingContext=a,i=Ir(g,E),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=ts(f,i,E),n!==null&&(Un(n,f,E,g),uu(n,f,E)),E}function Ou(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function wg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function fd(n,i){wg(n,i),(n=n.alternate)&&wg(n,i)}function Qw(){return null}var Eg=typeof reportError=="function"?reportError:function(n){console.error(n)};function pd(n){this._internalRoot=n}bu.prototype.render=pd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Du(n,i,null,null)},bu.prototype.unmount=pd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;ni(function(){Du(null,n,null,null)}),i[vr]=null}};function bu(n){this._internalRoot=n}bu.prototype.unstable_scheduleHydration=function(n){if(n){var i=bl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Gn.length&&i!==0&&i<Gn[a].priority;a++);Gn.splice(a,0,n),a===0&&Ml(n)}};function md(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Vu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function Yw(n,i,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var q=Ou(E);g.call(q)}}var E=_g(i,h,n,0,null,!1,!1,"",Tg);return n._reactRootContainer=E,n[vr]=E.current,va(n.nodeType===8?n.parentNode:n),ni(),E}for(;f=n.lastChild;)n.removeChild(f);if(typeof h=="function"){var C=h;h=function(){var q=Ou(O);C.call(q)}}var O=dd(n,0,!1,null,null,!1,!1,"",Tg);return n._reactRootContainer=O,n[vr]=O.current,va(n.nodeType===8?n.parentNode:n),ni(function(){Du(i,O,a,h)}),O}function Lu(n,i,a,h,f){var g=a._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var C=f;f=function(){var O=Ou(E);C.call(O)}}Du(i,E,n,f)}else E=Yw(a,i,n,f,h);return Ou(E)}Dl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Br(i.pendingLanes);a!==0&&(Wr(i,a|1),sn(i,Ke()),(Ve&6)===0&&(ho=Ke()+500,Zr()))}break;case 13:ni(function(){var h=Tr(n,1);if(h!==null){var f=Yt();Un(h,n,1,f)}}),fd(n,1)}},Li=function(n){if(n.tag===13){var i=Tr(n,134217728);if(i!==null){var a=Yt();Un(i,n,134217728,a)}fd(n,134217728)}},Ol=function(n){if(n.tag===13){var i=is(n),a=Tr(n,i);if(a!==null){var h=Yt();Un(a,n,i,h)}fd(n,i)}},bl=function(){return xe},Vl=function(n,i){var a=xe;try{return xe=n,i()}finally{xe=a}},Ci=function(n,i,a){switch(i){case"input":if($o(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==n&&h.form===n.form){var f=Zl(h);if(!f)throw Error(t(90));Ei(h),$o(h,f)}}}break;case"textarea":Ai(n,a);break;case"select":i=a.value,i!=null&&cr(n,!!a.multiple,i,!1)}},Ls=od,Zo=ni;var Xw={usingClientEntryPoint:!1,Events:[Ea,Ji,Zl,qn,Jo,od]},Va={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jw={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=na(n),n===null?null:n.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||Qw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{Bs=Mu.inject(Jw),ln=Mu}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xw,on.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!md(i))throw Error(t(200));return Kw(n,i,null,a)},on.createRoot=function(n,i){if(!md(n))throw Error(t(299));var a=!1,h="",f=Eg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=dd(n,1,!1,null,null,a,!1,h,f),n[vr]=i.current,va(n.nodeType===8?n.parentNode:n),new pd(i)},on.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=na(i),n=n===null?null:n.stateNode,n},on.flushSync=function(n){return ni(n)},on.hydrate=function(n,i,a){if(!Vu(i))throw Error(t(200));return Lu(null,n,i,!0,a)},on.hydrateRoot=function(n,i,a){if(!md(n))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",E=Eg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=_g(i,null,n,1,a??null,f,!1,g,E),n[vr]=i.current,va(n),h)for(n=0;n<h.length;n++)a=h[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new bu(i)},on.render=function(n,i,a){if(!Vu(i))throw Error(t(200));return Lu(null,n,i,!1,a)},on.unmountComponentAtNode=function(n){if(!Vu(n))throw Error(t(40));return n._reactRootContainer?(ni(function(){Lu(null,null,n,!1,function(){n._reactRootContainer=null,n[vr]=null})}),!0):!1},on.unstable_batchedUpdates=od,on.unstable_renderSubtreeIntoContainer=function(n,i,a,h){if(!Vu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Lu(n,i,a,!1,h)},on.version="18.3.1-next-f1338f8080-20240426",on}var xg;function yv(){if(xg)return vd.exports;xg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vd.exports=aE(),vd.exports}var Ng;function lE(){if(Ng)return ju;Ng=1;var r=yv();return ju.createRoot=r.createRoot,ju.hydrateRoot=r.hydrateRoot,ju}var uE=lE();const cE=mv(uE);yv();function Ya(){return Ya=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Ya.apply(this,arguments)}var ms;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(ms||(ms={}));const Dg="popstate";function hE(r){r===void 0&&(r={});function e(s,o){let{pathname:l,search:c,hash:d}=s.location;return Ud("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:sc(o)}return fE(e,t,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yf(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dE(){return Math.random().toString(36).substr(2,8)}function Og(r,e){return{usr:r.state,key:r.key,idx:e}}function Ud(r,e,t,s){return t===void 0&&(t=null),Ya({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Do(e):e,{state:t,key:e&&e.key||s||dE()})}function sc(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Do(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function fE(r,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d=ms.Pop,p=null,y=w();y==null&&(y=0,c.replaceState(Ya({},c.state,{idx:y}),""));function w(){return(c.state||{idx:null}).idx}function T(){d=ms.Pop;let k=w(),$=k==null?null:k-y;y=k,p&&p({action:d,location:P.location,delta:$})}function S(k,$){d=ms.Push;let G=Ud(P.location,k,$);y=w()+1;let K=Og(G,y),se=P.createHref(G);try{c.pushState(K,"",se)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(se)}l&&p&&p({action:d,location:P.location,delta:1})}function A(k,$){d=ms.Replace;let G=Ud(P.location,k,$);y=w();let K=Og(G,y),se=P.createHref(G);c.replaceState(K,"",se),l&&p&&p({action:d,location:P.location,delta:0})}function L(k){let $=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof k=="string"?k:sc(k);return G=G.replace(/ $/,"%20"),ut($,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,$)}let P={get action(){return d},get location(){return r(o,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Dg,T),p=k,()=>{o.removeEventListener(Dg,T),p=null}},createHref(k){return e(o,k)},createURL:L,encodeLocation(k){let $=L(k);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:A,go(k){return c.go(k)}};return P}var bg;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(bg||(bg={}));function pE(r,e,t){return t===void 0&&(t="/"),mE(r,e,t)}function mE(r,e,t,s){let o=typeof e=="string"?Do(e):e,l=vf(o.pathname||"/",t);if(l==null)return null;let c=vv(r);gE(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let y=kE(l);d=AE(c[p],y)}return d}function vv(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let y=vs([s,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(ut(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),vv(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:IE(y,l.index),routesMeta:w})};return r.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let p of _v(l.path))o(l,c,p)}),e}function _v(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=_v(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function gE(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:SE(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const yE=/^:[\w-]+$/,vE=3,_E=2,wE=1,EE=10,TE=-2,Vg=r=>r==="*";function IE(r,e){let t=r.split("/"),s=t.length;return t.some(Vg)&&(s+=TE),e&&(s+=_E),t.filter(o=>!Vg(o)).reduce((o,l)=>o+(yE.test(l)?vE:l===""?wE:EE),s)}function SE(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function AE(r,e,t){let{routesMeta:s}=r,o={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],y=d===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=RE({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),S=p.route;if(!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:vs([l,T.pathname]),pathnameBase:OE(vs([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=vs([l,T.pathnameBase]))}return c}function RE(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=CE(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((y,w,T)=>{let{paramName:S,isOptional:A}=w;if(S==="*"){let P=d[T]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const L=d[T];return A&&!L?y[S]=void 0:y[S]=(L||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:c,pattern:r}}function CE(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),yf(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kE(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yf(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function vf(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}const PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xE=r=>PE.test(r);function NE(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Do(r):r,l;if(t)if(xE(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),yf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+t))}t.startsWith("/")?l=Lg(t.substring(1),"/"):l=Lg(t,e)}else l=e;return{pathname:l,search:bE(s),hash:VE(o)}}function Lg(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ed(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DE(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _f(r,e){let t=DE(r);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function wf(r,e,t,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Do(r):(o=Ya({},r),ut(!o.pathname||!o.pathname.includes("?"),Ed("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Ed("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Ed("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=NE(o,d),y=c&&c!=="/"&&c.endsWith("/"),w=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}const vs=r=>r.join("/").replace(/\/\/+/g,"/"),OE=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),bE=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,VE=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function LE(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const wv=["post","put","patch","delete"];new Set(wv);const ME=["get",...wv];new Set(ME);function Xa(){return Xa=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Xa.apply(this,arguments)}const Ef=D.createContext(null),jE=D.createContext(null),Cs=D.createContext(null),Ec=D.createContext(null),Lr=D.createContext({outlet:null,matches:[],isDataRoute:!1}),Ev=D.createContext(null);function FE(r,e){let{relative:t}=e===void 0?{}:e;Oo()||ut(!1);let{basename:s,navigator:o}=D.useContext(Cs),{hash:l,pathname:c,search:d}=Iv(r,{relative:t}),p=c;return s!=="/"&&(p=c==="/"?s:vs([s,c])),o.createHref({pathname:p,search:d,hash:l})}function Oo(){return D.useContext(Ec)!=null}function ul(){return Oo()||ut(!1),D.useContext(Ec).location}function Tv(r){D.useContext(Cs).static||D.useLayoutEffect(r)}function Tc(){let{isDataRoute:r}=D.useContext(Lr);return r?eT():UE()}function UE(){Oo()||ut(!1);let r=D.useContext(Ef),{basename:e,future:t,navigator:s}=D.useContext(Cs),{matches:o}=D.useContext(Lr),{pathname:l}=ul(),c=JSON.stringify(_f(o,t.v7_relativeSplatPath)),d=D.useRef(!1);return Tv(()=>{d.current=!0}),D.useCallback(function(y,w){if(w===void 0&&(w={}),!d.current)return;if(typeof y=="number"){s.go(y);return}let T=wf(y,JSON.parse(c),l,w.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:vs([e,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[e,s,c,l,r])}const BE=D.createContext(null);function zE(r){let e=D.useContext(Lr).outlet;return e&&D.createElement(BE.Provider,{value:r},e)}function Iv(r,e){let{relative:t}=e===void 0?{}:e,{future:s}=D.useContext(Cs),{matches:o}=D.useContext(Lr),{pathname:l}=ul(),c=JSON.stringify(_f(o,s.v7_relativeSplatPath));return D.useMemo(()=>wf(r,JSON.parse(c),l,t==="path"),[r,c,l,t])}function $E(r,e){return WE(r,e)}function WE(r,e,t,s){Oo()||ut(!1);let{navigator:o}=D.useContext(Cs),{matches:l}=D.useContext(Lr),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let y=ul(),w;if(e){var T;let k=typeof e=="string"?Do(e):e;p==="/"||(T=k.pathname)!=null&&T.startsWith(p)||ut(!1),w=k}else w=y;let S=w.pathname||"/",A=S;if(p!=="/"){let k=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(k.length).join("/")}let L=pE(r,{pathname:A}),P=QE(L&&L.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:vs([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:vs([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,s);return e&&P?D.createElement(Ec.Provider,{value:{location:Xa({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:ms.Pop}},P):P}function qE(){let r=ZE(),e=LE(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:o},t):null,null)}const HE=D.createElement(qE,null);class GE extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?D.createElement(Lr.Provider,{value:this.props.routeContext},D.createElement(Ev.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KE(r){let{routeContext:e,match:t,children:s}=r,o=D.useContext(Ef);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Lr.Provider,{value:e},s)}function QE(r,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,d=(o=t)==null?void 0:o.errors;if(d!=null){let w=c.findIndex(T=>T.route.id&&d?.[T.route.id]!==void 0);w>=0||ut(!1),c=c.slice(0,Math.min(c.length,w+1))}let p=!1,y=-1;if(t&&s&&s.v7_partialHydration)for(let w=0;w<c.length;w++){let T=c[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=w),T.route.id){let{loaderData:S,errors:A}=t,L=T.route.loader&&S[T.route.id]===void 0&&(!A||A[T.route.id]===void 0);if(T.route.lazy||L){p=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}return c.reduceRight((w,T,S)=>{let A,L=!1,P=null,k=null;t&&(A=d&&T.route.id?d[T.route.id]:void 0,P=T.route.errorElement||HE,p&&(y<0&&S===0?(tT("route-fallback"),L=!0,k=null):y===S&&(L=!0,k=T.route.hydrateFallbackElement||null)));let $=e.concat(c.slice(0,S+1)),G=()=>{let K;return A?K=P:L?K=k:T.route.Component?K=D.createElement(T.route.Component,null):T.route.element?K=T.route.element:K=w,D.createElement(KE,{match:T,routeContext:{outlet:w,matches:$,isDataRoute:t!=null},children:K})};return t&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?D.createElement(GE,{location:t.location,revalidation:t.revalidation,component:P,error:A,children:G(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):G()},null)}var Sv=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(Sv||{}),Av=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Av||{});function YE(r){let e=D.useContext(Ef);return e||ut(!1),e}function XE(r){let e=D.useContext(jE);return e||ut(!1),e}function JE(r){let e=D.useContext(Lr);return e||ut(!1),e}function Rv(r){let e=JE(),t=e.matches[e.matches.length-1];return t.route.id||ut(!1),t.route.id}function ZE(){var r;let e=D.useContext(Ev),t=XE(),s=Rv();return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function eT(){let{router:r}=YE(Sv.UseNavigateStable),e=Rv(Av.UseNavigateStable),t=D.useRef(!1);return Tv(()=>{t.current=!0}),D.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Xa({fromRouteId:e},l)))},[r,e])}const Mg={};function tT(r,e,t){Mg[r]||(Mg[r]=!0)}function nT(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function rT(r){let{to:e,replace:t,state:s,relative:o}=r;Oo()||ut(!1);let{future:l,static:c}=D.useContext(Cs),{matches:d}=D.useContext(Lr),{pathname:p}=ul(),y=Tc(),w=wf(e,_f(d,l.v7_relativeSplatPath),p,o==="path"),T=JSON.stringify(w);return D.useEffect(()=>y(JSON.parse(T),{replace:t,state:s,relative:o}),[y,T,o,t,s]),null}function sT(r){return zE(r.context)}function Ue(r){ut(!1)}function iT(r){let{basename:e="/",children:t=null,location:s,navigationType:o=ms.Pop,navigator:l,static:c=!1,future:d}=r;Oo()&&ut(!1);let p=e.replace(/^\/*/,"/"),y=D.useMemo(()=>({basename:p,navigator:l,static:c,future:Xa({v7_relativeSplatPath:!1},d)}),[p,d,l,c]);typeof s=="string"&&(s=Do(s));let{pathname:w="/",search:T="",hash:S="",state:A=null,key:L="default"}=s,P=D.useMemo(()=>{let k=vf(w,p);return k==null?null:{location:{pathname:k,search:T,hash:S,state:A,key:L},navigationType:o}},[p,w,T,S,A,L,o]);return P==null?null:D.createElement(Cs.Provider,{value:y},D.createElement(Ec.Provider,{children:t,value:P}))}function oT(r){let{children:e,location:t}=r;return $E(Bd(e),t)}new Promise(()=>{});function Bd(r,e){e===void 0&&(e=[]);let t=[];return D.Children.forEach(r,(s,o)=>{if(!D.isValidElement(s))return;let l=[...e,o];if(s.type===D.Fragment){t.push.apply(t,Bd(s.props.children,l));return}s.type!==Ue&&ut(!1),!s.props.index||!s.props.children||ut(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Bd(s.props.children,l)),t.push(c)}),t}function zd(){return zd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},zd.apply(this,arguments)}function aT(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function lT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uT(r,e){return r.button===0&&(!e||e==="_self")&&!lT(r)}const cT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hT="6";try{window.__reactRouterVersion=hT}catch{}const dT="startTransition",jg=sE[dT];function fT(r){let{basename:e,children:t,future:s,window:o}=r,l=D.useRef();l.current==null&&(l.current=hE({window:o,v5Compat:!0}));let c=l.current,[d,p]=D.useState({action:c.action,location:c.location}),{v7_startTransition:y}=s||{},w=D.useCallback(T=>{y&&jg?jg(()=>p(T)):p(T)},[p,y]);return D.useLayoutEffect(()=>c.listen(w),[c,w]),D.useEffect(()=>nT(s),[s]),D.createElement(iT,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:s})}const pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=D.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:d,target:p,to:y,preventScrollReset:w,viewTransition:T}=e,S=aT(e,cT),{basename:A}=D.useContext(Cs),L,P=!1;if(typeof y=="string"&&mT.test(y)&&(L=y,pT))try{let K=new URL(window.location.href),se=y.startsWith("//")?new URL(K.protocol+y):new URL(y),ie=vf(se.pathname,A);se.origin===K.origin&&ie!=null?y=ie+se.search+se.hash:P=!0}catch{}let k=FE(y,{relative:o}),$=gT(y,{replace:c,state:d,target:p,preventScrollReset:w,relative:o,viewTransition:T});function G(K){s&&s(K),K.defaultPrevented||$(K)}return D.createElement("a",zd({},S,{href:L||k,onClick:P||l?s:G,ref:t,target:p}))});var Fg;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Fg||(Fg={}));var Ug;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Ug||(Ug={}));function gT(r,e){let{target:t,replace:s,state:o,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,p=Tc(),y=ul(),w=Iv(r,{relative:c});return D.useCallback(T=>{if(uT(T,t)){T.preventDefault();let S=s!==void 0?s:sc(y)===sc(w);p(r,{replace:S,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[y,p,w,s,o,t,r,l,c,d])}var Bg={};const Cv=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},yT=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],c=r[t++],d=r[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],c=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,d=c?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,w=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|y>>6,A=y&63;p||(A=64,c||(S=64)),s.push(t[w],t[T],t[S],t[A])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Cv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):yT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||y==null||T==null)throw new vT;const S=l<<2|d>>4;if(s.push(S),y!==64){const A=d<<4&240|y>>2;if(s.push(A),T!==64){const L=y<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class vT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _T=function(r){const e=Cv(r);return kv.encodeByteArray(e,!0)},ic=function(r){return _T(r).replace(/\./g,"")},Pv=function(r){try{return kv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ET=()=>wT().__FIREBASE_DEFAULTS__,TT=()=>{if(typeof process>"u"||typeof Bg>"u")return;const r=Bg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Pv(r[1]);return e&&JSON.parse(e)},Ic=()=>{try{return ET()||TT()||IT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xv=r=>{var e,t;return(t=(e=Ic())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},ST=r=>{const e=xv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Nv=()=>{var r;return(r=Ic())===null||r===void 0?void 0:r.config},Dv=r=>{var e;return(e=Ic())===null||e===void 0?void 0:e[`_${r}`]};class AT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function RT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ic(JSON.stringify(t)),ic(JSON.stringify(c)),""].join(".")}function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function kT(){var r;const e=(r=Ic())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function NT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DT(){const r=Ht();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function OT(){return!kT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bT(){try{return typeof indexedDB=="object"}catch{return!1}}function VT(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}const LT="FirebaseError";class Mr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=LT,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cl.prototype.create)}}class cl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?MT(l,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Mr(o,d,s)}}function MT(r,e){return r.replace(jT,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jT=/\{\$([^}]+)}/g;function FT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ja(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],c=e[o];if(zg(l)&&zg(c)){if(!Ja(l,c))return!1}else if(l!==c)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function zg(r){return r!==null&&typeof r=="object"}function hl(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fa(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ua(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function UT(r,e){const t=new BT(r,e);return t.subscribe.bind(t)}class BT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");zT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Td),o.error===void 0&&(o.error=Td),o.complete===void 0&&(o.complete=Td);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zT(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Td(){}function Rt(r){return r&&r._delegate?r._delegate:r}class di{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const oi="[DEFAULT]";class $T{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new AT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qT(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WT(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WT(r){return r===oi?void 0:r}function qT(r){return r.instantiationMode==="EAGER"}class HT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $T(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const GT={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},KT=Ne.INFO,QT={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},YT=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=QT[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=KT,this._logHandler=YT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const XT=(r,e)=>e.some(t=>r instanceof t);let $g,Wg;function JT(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZT(){return Wg||(Wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,$d=new WeakMap,bv=new WeakMap,Id=new WeakMap,If=new WeakMap;function eI(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(_s(r.result)),o()},c=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ov.set(t,r)}).catch(()=>{}),If.set(e,r),e}function tI(r){if($d.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});$d.set(r,e)}let Wd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return $d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bv.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _s(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nI(r){Wd=r(Wd)}function rI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Sd(this),e,...t);return bv.set(s,e.sort?e.sort():[e]),_s(s)}:ZT().includes(r)?function(...e){return r.apply(Sd(this),e),_s(Ov.get(this))}:function(...e){return _s(r.apply(Sd(this),e))}}function sI(r){return typeof r=="function"?rI(r):(r instanceof IDBTransaction&&tI(r),XT(r,JT())?new Proxy(r,Wd):r)}function _s(r){if(r instanceof IDBRequest)return eI(r);if(Id.has(r))return Id.get(r);const e=sI(r);return e!==r&&(Id.set(r,e),If.set(e,r)),e}const Sd=r=>If.get(r);function iI(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),d=_s(c);return s&&c.addEventListener("upgradeneeded",p=>{s(_s(c.result),p.oldVersion,p.newVersion,_s(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const oI=["get","getKey","getAll","getAllKeys","count"],aI=["put","add","delete","clear"],Ad=new Map;function qg(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Ad.get(e))return Ad.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=aI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oI.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return Ad.set(e,l),l}nI(r=>({...r,get:(e,t,s)=>qg(e,t)||r.get(e,t,s),has:(e,t)=>!!qg(e,t)||r.has(e,t)}));class lI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function uI(r){const e=r.getComponent();return e?.type==="VERSION"}const qd="@firebase/app",Hg="0.10.13";const Dr=new Tf("@firebase/app"),cI="@firebase/app-compat",hI="@firebase/analytics-compat",dI="@firebase/analytics",fI="@firebase/app-check-compat",pI="@firebase/app-check",mI="@firebase/auth",gI="@firebase/auth-compat",yI="@firebase/database",vI="@firebase/data-connect",_I="@firebase/database-compat",wI="@firebase/functions",EI="@firebase/functions-compat",TI="@firebase/installations",II="@firebase/installations-compat",SI="@firebase/messaging",AI="@firebase/messaging-compat",RI="@firebase/performance",CI="@firebase/performance-compat",kI="@firebase/remote-config",PI="@firebase/remote-config-compat",xI="@firebase/storage",NI="@firebase/storage-compat",DI="@firebase/firestore",OI="@firebase/vertexai-preview",bI="@firebase/firestore-compat",VI="firebase",LI="10.14.1";const Hd="[DEFAULT]",MI={[qd]:"fire-core",[cI]:"fire-core-compat",[dI]:"fire-analytics",[hI]:"fire-analytics-compat",[pI]:"fire-app-check",[fI]:"fire-app-check-compat",[mI]:"fire-auth",[gI]:"fire-auth-compat",[yI]:"fire-rtdb",[vI]:"fire-data-connect",[_I]:"fire-rtdb-compat",[wI]:"fire-fn",[EI]:"fire-fn-compat",[TI]:"fire-iid",[II]:"fire-iid-compat",[SI]:"fire-fcm",[AI]:"fire-fcm-compat",[RI]:"fire-perf",[CI]:"fire-perf-compat",[kI]:"fire-rc",[PI]:"fire-rc-compat",[xI]:"fire-gcs",[NI]:"fire-gcs-compat",[DI]:"fire-fst",[bI]:"fire-fst-compat",[OI]:"fire-vertex","fire-js":"fire-js",[VI]:"fire-js-all"};const oc=new Map,jI=new Map,Gd=new Map;function Gg(r,e){try{r.container.addComponent(e)}catch(t){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function To(r){const e=r.name;if(Gd.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Gd.set(e,r);for(const t of oc.values())Gg(t,r);for(const t of jI.values())Gg(t,r);return!0}function Sf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function tr(r){return r.settings!==void 0}const FI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new cl("app","Firebase",FI);class UI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}const bo=LI;function Vv(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Hd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ws.create("bad-app-name",{appName:String(o)});if(t||(t=Nv()),!t)throw ws.create("no-options");const l=oc.get(o);if(l){if(Ja(t,l.options)&&Ja(s,l.config))return l;throw ws.create("duplicate-app",{appName:o})}const c=new HT(o);for(const p of Gd.values())c.addComponent(p);const d=new UI(t,s,c);return oc.set(o,d),d}function Lv(r=Hd){const e=oc.get(r);if(!e&&r===Hd&&Nv())return Vv();if(!e)throw ws.create("no-app",{appName:r});return e}function Es(r,e,t){var s;let o=(s=MI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(d.join(" "));return}To(new di(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const BI="firebase-heartbeat-database",zI=1,Za="firebase-heartbeat-store";let Rd=null;function Mv(){return Rd||(Rd=iI(BI,zI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Za)}catch(t){console.warn(t)}}}}).catch(r=>{throw ws.create("idb-open",{originalErrorMessage:r.message})})),Rd}async function $I(r){try{const t=(await Mv()).transaction(Za),s=await t.objectStore(Za).get(jv(r));return await t.done,s}catch(e){if(e instanceof Mr)Dr.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(t.message)}}}async function Kg(r,e){try{const s=(await Mv()).transaction(Za,"readwrite");await s.objectStore(Za).put(e,jv(r)),await s.done}catch(t){if(t instanceof Mr)Dr.warn(t.message);else{const s=ws.create("idb-set",{originalErrorMessage:t?.message});Dr.warn(s.message)}}}function jv(r){return`${r.name}!${r.options.appId}`}const WI=1024,qI=720*60*60*1e3;class HI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new KI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Qg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=qI}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qg(),{heartbeatsToSend:s,unsentEntries:o}=GI(this._heartbeatsCache.heartbeats),l=ic(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Dr.warn(t),""}}}function Qg(){return new Date().toISOString().substring(0,10)}function GI(r,e=WI){const t=[];let s=r.slice();for(const o of r){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Yg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Yg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class KI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bT()?VT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $I(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yg(r){return ic(JSON.stringify({version:2,heartbeats:r})).length}function QI(r){To(new di("platform-logger",e=>new lI(e),"PRIVATE")),To(new di("heartbeat",e=>new HI(e),"PRIVATE")),Es(qd,Hg,r),Es(qd,Hg,"esm2017"),Es("fire-js","")}QI("");function Af(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YI=Fv,Uv=new cl("auth","Firebase",Fv());const ac=new Tf("@firebase/auth");function XI(r,...e){ac.logLevel<=Ne.WARN&&ac.warn(`Auth (${bo}): ${r}`,...e)}function Qu(r,...e){ac.logLevel<=Ne.ERROR&&ac.error(`Auth (${bo}): ${r}`,...e)}function zn(r,...e){throw Rf(r,...e)}function nr(r,...e){return Rf(r,...e)}function Bv(r,e,t){const s=Object.assign(Object.assign({},YI()),{[e]:t});return new cl("auth","Firebase",s).create(e,{appName:r.name})}function xr(r){return Bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rf(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return Uv.create(r,...e)}function _e(r,e,...t){if(!r)throw Rf(e,...t)}function Cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qu(e),new Error(e)}function Or(r,e){r||Cr(e)}function Kd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function JI(){return Xg()==="http:"||Xg()==="https:"}function Xg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function ZI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JI()||xT()||"connection"in navigator)?navigator.onLine:!0}function eS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class dl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile=CT()||NT()}get(){return ZI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Cf(r,e){Or(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class zv{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nS=new dl(3e4,6e4);function ks(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ps(r,e,t,s,o={}){return $v(r,o,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=hl(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return PT()||(y.referrerPolicy="no-referrer"),zv.fetch()(Wv(r,r.config.apiHost,t,d),y)})}async function $v(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},tS),e);try{const o=new sS(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Fu(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Fu(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw Fu(r,"user-disabled",c);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Bv(r,w,y);zn(r,w)}}catch(o){if(o instanceof Mr)throw o;zn(r,"network-request-failed",{message:String(o)})}}async function fl(r,e,t,s,o={}){const l=await Ps(r,e,t,s,o);return"mfaPendingCredential"in l&&zn(r,"multi-factor-auth-required",{_serverResponse:l}),l}function Wv(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?Cf(r.config,o):`${r.config.apiScheme}://${o}`}function rS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(nr(this.auth,"network-request-failed")),nS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=nr(r,e,s);return o.customData._tokenResponse=t,o}function Jg(r){return r!==void 0&&r.enterprise!==void 0}class iS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function oS(r,e){return Ps(r,"GET","/v2/recaptchaConfig",ks(r,e))}async function aS(r,e){return Ps(r,"POST","/v1/accounts:delete",e)}async function qv(r,e){return Ps(r,"POST","/v1/accounts:lookup",e)}function qa(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lS(r,e=!1){const t=Rt(r),s=await t.getIdToken(e),o=kf(s);_e(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:s,authTime:qa(Cd(o.auth_time)),issuedAtTime:qa(Cd(o.iat)),expirationTime:qa(Cd(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Cd(r){return Number(r)*1e3}function kf(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Pv(t);return o?JSON.parse(o):(Qu("Failed to decode base64 JWT payload"),null)}catch(o){return Qu("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Zg(r){const e=kf(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function el(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Mr&&uS(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function uS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class cS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lc(r){var e;const t=r.auth,s=await r.getIdToken(),o=await el(r,qv(t,{idToken:s}));_e(o?.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Hv(l.providerUserInfo):[],d=dS(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,w=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Qd(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,T)}async function hS(r){const e=Rt(r);await lc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dS(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Hv(r){return r.map(e=>{var{providerId:t}=e,s=Af(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}async function fS(r,e){const t=await $v(r,{},async()=>{const s=hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=Wv(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",zv.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pS(r,e){return Ps(r,"POST","/v2/accounts:revokeToken",ks(r,e))}class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const t=Zg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await fS(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,c=new vo;return s&&(_e(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(_e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return Cr("not implemented")}}function us(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Qd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await el(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lS(this,e)}reload(){return hS(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await lc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(xr(this.auth));const e=await this.getIdToken();return await el(this,aS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,c,d,p,y,w;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,L=(c=t.photoURL)!==null&&c!==void 0?c:void 0,P=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,$=(y=t.createdAt)!==null&&y!==void 0?y:void 0,G=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:K,emailVerified:se,isAnonymous:ie,providerData:we,stsTokenManager:b}=t;_e(K&&b,e,"internal-error");const R=vo.fromJSON(this.name,b);_e(typeof K=="string",e,"internal-error"),us(T,e.name),us(S,e.name),_e(typeof se=="boolean",e,"internal-error"),_e(typeof ie=="boolean",e,"internal-error"),us(A,e.name),us(L,e.name),us(P,e.name),us(k,e.name),us($,e.name),us(G,e.name);const x=new kr({uid:K,auth:e,email:S,emailVerified:se,displayName:T,isAnonymous:ie,photoURL:L,phoneNumber:A,tenantId:P,stsTokenManager:R,createdAt:$,lastLoginAt:G});return we&&Array.isArray(we)&&(x.providerData=we.map(V=>Object.assign({},V))),k&&(x._redirectEventId=k),x}static async _fromIdTokenResponse(e,t,s=!1){const o=new vo;o.updateFromServerResponse(t);const l=new kr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await lc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];_e(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Hv(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new vo;d.updateFromIdToken(s);const p=new kr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,y),p}}const ey=new Map;function Pr(r){Or(r instanceof Function,"Expected a class definition");let e=ey.get(r);return e?(Or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ey.set(r,e),e)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Gv.type="NONE";const ty=Gv;function Yu(r,e,t){return`firebase:${r}:${e}:${t}`}class _o{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Yu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Yu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new _o(Pr(ty),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Pr(ty);const c=Yu(s,e.config.apiKey,e.name);let d=null;for(const y of t)try{const w=await y._get(c);if(w){const T=kr._fromJSON(e,w);y!==l&&(d=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new _o(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(c)}catch{}})),new _o(l,e,s))}}function ny(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zv(e))return"Blackberry";if(e_(e))return"Webos";if(Qv(e))return"Safari";if((e.includes("chrome/")||Yv(e))&&!e.includes("edge/"))return"Chrome";if(Jv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if(s?.length===2)return s[1]}return"Other"}function Kv(r=Ht()){return/firefox\//i.test(r)}function Qv(r=Ht()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yv(r=Ht()){return/crios\//i.test(r)}function Xv(r=Ht()){return/iemobile/i.test(r)}function Jv(r=Ht()){return/android/i.test(r)}function Zv(r=Ht()){return/blackberry/i.test(r)}function e_(r=Ht()){return/webos/i.test(r)}function Pf(r=Ht()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mS(r=Ht()){var e;return Pf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gS(){return DT()&&document.documentMode===10}function t_(r=Ht()){return Pf(r)||Jv(r)||e_(r)||Zv(r)||/windows phone/i.test(r)||Xv(r)}function n_(r,e=[]){let t;switch(r){case"Browser":t=ny(Ht());break;case"Worker":t=`${ny(Ht())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bo}/${s}`}class yS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function vS(r,e={}){return Ps(r,"GET","/v2/passwordPolicy",ks(r,e))}const _S=6;class wS{constructor(e){var t,s,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:_S,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class ES{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ry(this),this.idTokenSubscription=new ry(this),this.beforeStateQueue=new yS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await _o.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qv(this,{idToken:e}),s=await kr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(tr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(xr(this));const t=e?Rt(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vS(this),t=new wS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await pS(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pr(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=await _o.create(this,[Pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&XI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function vi(r){return Rt(r)}class ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=UT(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TS(r){Sc=r}function r_(r){return Sc.loadJS(r)}function IS(){return Sc.recaptchaEnterpriseScript}function SS(){return Sc.gapiScript}function AS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const RS="recaptcha-enterprise",CS="NO_RECAPTCHA";class kS{constructor(e){this.type=RS,this.auth=vi(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{oS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new iS(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(l,c,d){const p=window.grecaptcha;Jg(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{c(y)}).catch(()=>{c(CS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&Jg(window.grecaptcha))o(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=IS();p.length!==0&&(p+=d),r_(p).then(()=>{o(d,l,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function sy(r,e,t,s=!1){const o=new kS(r);let l;try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c=Object.assign({},e);return s?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Yd(r,e,t,s){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await sy(r,e,t,t==="getOobCode");return s(r,l)}else return s(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await sy(r,e,t,t==="getOobCode");return s(r,c)}else return Promise.reject(l)})}function PS(r,e){const t=Sf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ja(l,e??{}))return o;zn(o,"already-initialized")}return t.initialize({options:e})}function xS(r,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Pr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function NS(r,e,t){const s=vi(r);_e(s._canInitEmulator,s,"emulator-config-failed"),_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=s_(e),{host:c,port:d}=DS(e),p=d===null?"":`:${d}`;s.config.emulator={url:`${l}//${c}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),OS()}function s_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function DS(r){const e=s_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:iy(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:iy(c)}}}function iy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function OS(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class xf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Cr("not implemented")}_getIdTokenResponse(e){return Cr("not implemented")}_linkToIdToken(e,t){return Cr("not implemented")}_getReauthenticationResolver(e){return Cr("not implemented")}}async function bS(r,e){return Ps(r,"POST","/v1/accounts:signUp",e)}async function VS(r,e){return fl(r,"POST","/v1/accounts:signInWithPassword",ks(r,e))}async function LS(r,e){return fl(r,"POST","/v1/accounts:signInWithEmailLink",ks(r,e))}async function MS(r,e){return fl(r,"POST","/v1/accounts:signInWithEmailLink",ks(r,e))}class tl extends xf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new tl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new tl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(e,t,"signInWithPassword",VS);case"emailLink":return LS(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Yd(e,s,"signUpPassword",bS);case"emailLink":return MS(e,{idToken:t,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wo(r,e){return fl(r,"POST","/v1/accounts:signInWithIdp",ks(r,e))}const jS="http://localhost";class fi extends xf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Af(t,["providerId","signInMethod"]);if(!s||!o)return null;const c=new fi(s,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,wo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:jS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hl(t)}return e}}function FS(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function US(r){const e=Fa(Ua(r)).link,t=e?Fa(Ua(e)).deep_link_id:null,s=Fa(Ua(r)).deep_link_id;return(s?Fa(Ua(s)).link:null)||s||t||e||r}class Nf{constructor(e){var t,s,o,l,c,d;const p=Fa(Ua(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(s=p.oobCode)!==null&&s!==void 0?s:null,T=FS((o=p.mode)!==null&&o!==void 0?o:null);_e(y&&w&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=US(e);try{return new Nf(t)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,t){return tl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Nf.parseLink(t);return _e(s,"argument-error"),tl._fromEmailAndCode(e,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class i_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pl extends i_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hs extends pl{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";class ds extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fi._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ds.credential(t,s)}catch{return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com";ds.PROVIDER_ID="google.com";class fs extends pl{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";class ps extends pl{constructor(){super("twitter.com")}static credential(e,t){return fi._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ps.credential(t,s)}catch{return null}}}ps.TWITTER_SIGN_IN_METHOD="twitter.com";ps.PROVIDER_ID="twitter.com";async function BS(r,e){return fl(r,"POST","/v1/accounts:signUp",ks(r,e))}class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await kr._fromIdTokenResponse(e,s,o),c=oy(s);return new pi({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=oy(s);return new pi({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function oy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class uc extends Mr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new uc(e,t,s,o)}}function o_(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(r,l,e,s):l})}async function zS(r,e,t=!1){const s=await el(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return pi._forOperation(r,"link",s)}async function $S(r,e,t=!1){const{auth:s}=r;if(tr(s.app))return Promise.reject(xr(s));const o="reauthenticate";try{const l=await el(r,o_(s,o,e,r),t);_e(l.idToken,s,"internal-error");const c=kf(l.idToken);_e(c,s,"internal-error");const{sub:d}=c;return _e(r.uid===d,s,"user-mismatch"),pi._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&zn(s,"user-mismatch"),l}}async function a_(r,e,t=!1){if(tr(r.app))return Promise.reject(xr(r));const s="signIn",o=await o_(r,s,e),l=await pi._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}async function WS(r,e){return a_(vi(r),e)}async function l_(r){const e=vi(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qS(r,e,t){if(tr(r.app))return Promise.reject(xr(r));const s=vi(r),c=await Yd(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&l_(r),p}),d=await pi._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function HS(r,e,t){return tr(r.app)?Promise.reject(xr(r)):WS(Rt(r),Vo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&l_(r),s})}function GS(r,e,t,s){return Rt(r).onIdTokenChanged(e,t,s)}function KS(r,e,t){return Rt(r).beforeAuthStateChanged(e,t)}function QS(r,e,t,s){return Rt(r).onAuthStateChanged(e,t,s)}function YS(r){return Rt(r).signOut()}const cc="__sak";class u_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cc,"1"),this.storage.removeItem(cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const XS=1e3,JS=10;class c_ extends u_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);gS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JS):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},XS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}c_.type="LOCAL";const ZS=c_;class h_ extends u_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}h_.type="SESSION";const d_=h_;function eA(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Ac(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,l)),p=await eA(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];function Df(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}class tA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const y=Df("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function rr(){return window}function nA(r){rr().location.href=r}function f_(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function rA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sA(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function iA(){return f_()?self:null}const p_="firebaseLocalStorageDb",oA=1,hc="firebaseLocalStorage",m_="fbase_key";class ml{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rc(r,e){return r.transaction([hc],e?"readwrite":"readonly").objectStore(hc)}function aA(){const r=indexedDB.deleteDatabase(p_);return new ml(r).toPromise()}function Xd(){const r=indexedDB.open(p_,oA);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(hc,{keyPath:m_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(hc)?e(s):(s.close(),await aA(),e(await Xd()))})})}async function ay(r,e,t){const s=Rc(r,!0).put({[m_]:e,value:t});return new ml(s).toPromise()}async function lA(r,e){const t=Rc(r,!1).get(e),s=await new ml(t).toPromise();return s===void 0?null:s.value}function ly(r,e){const t=Rc(r,!0).delete(e);return new ml(t).toPromise()}const uA=800,cA=3;class g_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>cA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(iA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rA(),!this.activeServiceWorker)return;this.sender=new tA(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xd();return await ay(e,cc,"1"),await ly(e,cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ay(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>lA(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ly(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Rc(o,!1).getAll();return new ml(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g_.type="LOCAL";const hA=g_;new dl(3e4,6e4);function dA(r,e){return e?Pr(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Of extends xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fA(r){return a_(r.auth,new Of(r),r.bypassAuthState)}function pA(r){const{auth:e,user:t}=r;return _e(t,e,"internal-error"),$S(t,new Of(r),r.bypassAuthState)}async function mA(r){const{auth:e,user:t}=r;return _e(t,e,"internal-error"),zS(t,new Of(r),r.bypassAuthState)}class y_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fA;case"linkViaPopup":case"linkViaRedirect":return mA;case"reauthViaPopup":case"reauthViaRedirect":return pA;default:zn(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gA=new dl(2e3,1e4);class yo extends y_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,yo.currentPopupAction&&yo.currentPopupAction.cancel(),yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Df();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gA.get())};e()}}yo.currentPopupAction=null;const yA="pendingRedirect",Xu=new Map;class vA extends y_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Xu.get(this.auth._key());if(!e){try{const s=await _A(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Xu.set(this.auth._key(),e)}return this.bypassAuthState||Xu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _A(r,e){const t=TA(e),s=EA(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function wA(r,e){Xu.set(r._key(),e)}function EA(r){return Pr(r._redirectPersistence)}function TA(r){return Yu(yA,r.config.apiKey,r.name)}async function IA(r,e,t=!1){if(tr(r.app))return Promise.reject(xr(r));const s=vi(r),o=dA(s,e),c=await new vA(s,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const SA=600*1e3;class AA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!v_(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(nr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SA&&this.cachedEventUids.clear(),this.cachedEventUids.has(uy(e))}saveEventToCache(e){this.cachedEventUids.add(uy(e)),this.lastProcessedEventTime=Date.now()}}function uy(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function v_({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function RA(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v_(r);default:return!1}}async function CA(r,e={}){return Ps(r,"GET","/v1/projects",e)}const kA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PA=/^https?/;async function xA(r){if(r.config.emulator)return;const{authorizedDomains:e}=await CA(r);for(const t of e)try{if(NA(t))return}catch{}zn(r,"unauthorized-domain")}function NA(r){const e=Kd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!PA.test(t))return!1;if(kA.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const DA=new dl(3e4,6e4);function cy(){const r=rr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function OA(r){return new Promise((e,t)=>{var s,o,l;function c(){cy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cy(),t(nr(r,"network-request-failed"))},timeout:DA.get()})}if(!((o=(s=rr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=rr().gapi)===null||l===void 0)&&l.load)c();else{const d=AS("iframefcb");return rr()[d]=()=>{gapi.load?c():t(nr(r,"network-request-failed"))},r_(`${SS()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ju=null,e})}let Ju=null;function bA(r){return Ju=Ju||OA(r),Ju}const VA=new dl(5e3,15e3),LA="__/auth/iframe",MA="emulator/auth/iframe",jA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UA(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Cf(e,MA):`https://${r.config.authDomain}/${LA}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=FA.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${hl(s).slice(1)}`}async function BA(r){const e=await bA(r),t=rr().gapi;return _e(t,r,"internal-error"),e.open({where:document.body,url:UA(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jA,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const c=nr(r,"network-request-failed"),d=rr().setTimeout(()=>{l(c)},VA.get());function p(){rr().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(c)})}))}const zA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$A=500,WA=600,qA="_blank",HA="http://localhost";class hy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GA(r,e,t,s=$A,o=WA){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},zA),{width:s.toString(),height:o.toString(),top:l,left:c}),y=Ht().toLowerCase();t&&(d=Yv(y)?qA:t),Kv(y)&&(e=e||HA,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[A,L])=>`${S}${A}=${L},`,"");if(mS(y)&&d!=="_self")return KA(e||"",d),new hy(null);const T=window.open(e||"",d,w);_e(T,r,"popup-blocked");try{T.focus()}catch{}return new hy(T)}function KA(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const QA="__/auth/handler",YA="emulator/auth/handler",XA=encodeURIComponent("fac");async function dy(r,e,t,s,o,l){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:bo,eventId:o};if(e instanceof i_){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",FT(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))c[w]=T}if(e instanceof pl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(c.scopes=w.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const p=await r._getAppCheckToken(),y=p?`#${XA}=${encodeURIComponent(p)}`:"";return`${JA(r)}?${hl(d).slice(1)}${y}`}function JA({config:r}){return r.emulator?Cf(r,YA):`https://${r.authDomain}/${QA}`}const kd="webStorageSupport";class ZA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d_,this._completeRedirectFn=IA,this._overrideRedirectResult=wA}async _openPopup(e,t,s,o){var l;Or((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await dy(e,t,s,Kd(),o);return GA(e,c,Df())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await dy(e,t,s,Kd(),o);return nA(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Or(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await BA(e),s=new AA(e);return t.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kd,{type:kd},o=>{var l;const c=(l=o?.[0])===null||l===void 0?void 0:l[kd];c!==void 0&&t(!!c),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return t_()||Qv()||Pf()}}const eR=ZA;var fy="@firebase/auth",py="1.7.9";class tR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(r){To(new di("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n_(r)},y=new ES(s,o,l,p);return xS(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),To(new di("auth-internal",e=>{const t=vi(e.getProvider("auth").getImmediate());return(s=>new tR(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(fy,py,nR(r)),Es(fy,py,"esm2017")}const sR=300,iR=Dv("authIdTokenMaxAge")||sR;let my=null;const oR=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>iR)return;const o=t?.token;my!==o&&(my=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aR(r=Lv()){const e=Sf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=PS(r,{popupRedirectResolver:eR,persistence:[hA,ZS,d_]}),s=Dv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=oR(l.toString());KS(t,c,()=>c(t.currentUser)),GS(t,d=>c(d))}}const o=xv("auth");return o&&NS(t,`http://${o}`),t}function lR(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}TS({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=nr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",lR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var gy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ci,__;(function(){var r;function e(b,R){function x(){}x.prototype=R.prototype,b.D=R.prototype,b.prototype=new x,b.prototype.constructor=b,b.C=function(V,j,F){for(var N=Array(arguments.length-2),it=2;it<arguments.length;it++)N[it-2]=arguments[it];return R.prototype[j].apply(V,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,R,x){x||(x=0);var V=Array(16);if(typeof R=="string")for(var j=0;16>j;++j)V[j]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(j=0;16>j;++j)V[j]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=b.g[0],x=b.g[1],j=b.g[2];var F=b.g[3],N=R+(F^x&(j^F))+V[0]+3614090360&4294967295;R=x+(N<<7&4294967295|N>>>25),N=F+(j^R&(x^j))+V[1]+3905402710&4294967295,F=R+(N<<12&4294967295|N>>>20),N=j+(x^F&(R^x))+V[2]+606105819&4294967295,j=F+(N<<17&4294967295|N>>>15),N=x+(R^j&(F^R))+V[3]+3250441966&4294967295,x=j+(N<<22&4294967295|N>>>10),N=R+(F^x&(j^F))+V[4]+4118548399&4294967295,R=x+(N<<7&4294967295|N>>>25),N=F+(j^R&(x^j))+V[5]+1200080426&4294967295,F=R+(N<<12&4294967295|N>>>20),N=j+(x^F&(R^x))+V[6]+2821735955&4294967295,j=F+(N<<17&4294967295|N>>>15),N=x+(R^j&(F^R))+V[7]+4249261313&4294967295,x=j+(N<<22&4294967295|N>>>10),N=R+(F^x&(j^F))+V[8]+1770035416&4294967295,R=x+(N<<7&4294967295|N>>>25),N=F+(j^R&(x^j))+V[9]+2336552879&4294967295,F=R+(N<<12&4294967295|N>>>20),N=j+(x^F&(R^x))+V[10]+4294925233&4294967295,j=F+(N<<17&4294967295|N>>>15),N=x+(R^j&(F^R))+V[11]+2304563134&4294967295,x=j+(N<<22&4294967295|N>>>10),N=R+(F^x&(j^F))+V[12]+1804603682&4294967295,R=x+(N<<7&4294967295|N>>>25),N=F+(j^R&(x^j))+V[13]+4254626195&4294967295,F=R+(N<<12&4294967295|N>>>20),N=j+(x^F&(R^x))+V[14]+2792965006&4294967295,j=F+(N<<17&4294967295|N>>>15),N=x+(R^j&(F^R))+V[15]+1236535329&4294967295,x=j+(N<<22&4294967295|N>>>10),N=R+(j^F&(x^j))+V[1]+4129170786&4294967295,R=x+(N<<5&4294967295|N>>>27),N=F+(x^j&(R^x))+V[6]+3225465664&4294967295,F=R+(N<<9&4294967295|N>>>23),N=j+(R^x&(F^R))+V[11]+643717713&4294967295,j=F+(N<<14&4294967295|N>>>18),N=x+(F^R&(j^F))+V[0]+3921069994&4294967295,x=j+(N<<20&4294967295|N>>>12),N=R+(j^F&(x^j))+V[5]+3593408605&4294967295,R=x+(N<<5&4294967295|N>>>27),N=F+(x^j&(R^x))+V[10]+38016083&4294967295,F=R+(N<<9&4294967295|N>>>23),N=j+(R^x&(F^R))+V[15]+3634488961&4294967295,j=F+(N<<14&4294967295|N>>>18),N=x+(F^R&(j^F))+V[4]+3889429448&4294967295,x=j+(N<<20&4294967295|N>>>12),N=R+(j^F&(x^j))+V[9]+568446438&4294967295,R=x+(N<<5&4294967295|N>>>27),N=F+(x^j&(R^x))+V[14]+3275163606&4294967295,F=R+(N<<9&4294967295|N>>>23),N=j+(R^x&(F^R))+V[3]+4107603335&4294967295,j=F+(N<<14&4294967295|N>>>18),N=x+(F^R&(j^F))+V[8]+1163531501&4294967295,x=j+(N<<20&4294967295|N>>>12),N=R+(j^F&(x^j))+V[13]+2850285829&4294967295,R=x+(N<<5&4294967295|N>>>27),N=F+(x^j&(R^x))+V[2]+4243563512&4294967295,F=R+(N<<9&4294967295|N>>>23),N=j+(R^x&(F^R))+V[7]+1735328473&4294967295,j=F+(N<<14&4294967295|N>>>18),N=x+(F^R&(j^F))+V[12]+2368359562&4294967295,x=j+(N<<20&4294967295|N>>>12),N=R+(x^j^F)+V[5]+4294588738&4294967295,R=x+(N<<4&4294967295|N>>>28),N=F+(R^x^j)+V[8]+2272392833&4294967295,F=R+(N<<11&4294967295|N>>>21),N=j+(F^R^x)+V[11]+1839030562&4294967295,j=F+(N<<16&4294967295|N>>>16),N=x+(j^F^R)+V[14]+4259657740&4294967295,x=j+(N<<23&4294967295|N>>>9),N=R+(x^j^F)+V[1]+2763975236&4294967295,R=x+(N<<4&4294967295|N>>>28),N=F+(R^x^j)+V[4]+1272893353&4294967295,F=R+(N<<11&4294967295|N>>>21),N=j+(F^R^x)+V[7]+4139469664&4294967295,j=F+(N<<16&4294967295|N>>>16),N=x+(j^F^R)+V[10]+3200236656&4294967295,x=j+(N<<23&4294967295|N>>>9),N=R+(x^j^F)+V[13]+681279174&4294967295,R=x+(N<<4&4294967295|N>>>28),N=F+(R^x^j)+V[0]+3936430074&4294967295,F=R+(N<<11&4294967295|N>>>21),N=j+(F^R^x)+V[3]+3572445317&4294967295,j=F+(N<<16&4294967295|N>>>16),N=x+(j^F^R)+V[6]+76029189&4294967295,x=j+(N<<23&4294967295|N>>>9),N=R+(x^j^F)+V[9]+3654602809&4294967295,R=x+(N<<4&4294967295|N>>>28),N=F+(R^x^j)+V[12]+3873151461&4294967295,F=R+(N<<11&4294967295|N>>>21),N=j+(F^R^x)+V[15]+530742520&4294967295,j=F+(N<<16&4294967295|N>>>16),N=x+(j^F^R)+V[2]+3299628645&4294967295,x=j+(N<<23&4294967295|N>>>9),N=R+(j^(x|~F))+V[0]+4096336452&4294967295,R=x+(N<<6&4294967295|N>>>26),N=F+(x^(R|~j))+V[7]+1126891415&4294967295,F=R+(N<<10&4294967295|N>>>22),N=j+(R^(F|~x))+V[14]+2878612391&4294967295,j=F+(N<<15&4294967295|N>>>17),N=x+(F^(j|~R))+V[5]+4237533241&4294967295,x=j+(N<<21&4294967295|N>>>11),N=R+(j^(x|~F))+V[12]+1700485571&4294967295,R=x+(N<<6&4294967295|N>>>26),N=F+(x^(R|~j))+V[3]+2399980690&4294967295,F=R+(N<<10&4294967295|N>>>22),N=j+(R^(F|~x))+V[10]+4293915773&4294967295,j=F+(N<<15&4294967295|N>>>17),N=x+(F^(j|~R))+V[1]+2240044497&4294967295,x=j+(N<<21&4294967295|N>>>11),N=R+(j^(x|~F))+V[8]+1873313359&4294967295,R=x+(N<<6&4294967295|N>>>26),N=F+(x^(R|~j))+V[15]+4264355552&4294967295,F=R+(N<<10&4294967295|N>>>22),N=j+(R^(F|~x))+V[6]+2734768916&4294967295,j=F+(N<<15&4294967295|N>>>17),N=x+(F^(j|~R))+V[13]+1309151649&4294967295,x=j+(N<<21&4294967295|N>>>11),N=R+(j^(x|~F))+V[4]+4149444226&4294967295,R=x+(N<<6&4294967295|N>>>26),N=F+(x^(R|~j))+V[11]+3174756917&4294967295,F=R+(N<<10&4294967295|N>>>22),N=j+(R^(F|~x))+V[2]+718787259&4294967295,j=F+(N<<15&4294967295|N>>>17),N=x+(F^(j|~R))+V[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+j&4294967295,b.g[3]=b.g[3]+F&4294967295}s.prototype.u=function(b,R){R===void 0&&(R=b.length);for(var x=R-this.blockSize,V=this.B,j=this.h,F=0;F<R;){if(j==0)for(;F<=x;)o(this,b,F),F+=this.blockSize;if(typeof b=="string"){for(;F<R;)if(V[j++]=b.charCodeAt(F++),j==this.blockSize){o(this,V),j=0;break}}else for(;F<R;)if(V[j++]=b[F++],j==this.blockSize){o(this,V),j=0;break}}this.h=j,this.o+=R},s.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;var x=8*this.o;for(R=b.length-8;R<b.length;++R)b[R]=x&255,x/=256;for(this.u(b),b=Array(16),R=x=0;4>R;++R)for(var V=0;32>V;V+=8)b[x++]=this.g[R]>>>V&255;return b};function l(b,R){var x=d;return Object.prototype.hasOwnProperty.call(x,b)?x[b]:x[b]=R(b)}function c(b,R){this.h=R;for(var x=[],V=!0,j=b.length-1;0<=j;j--){var F=b[j]|0;V&&F==R||(x[j]=F,V=!1)}this.g=x}var d={};function p(b){return-128<=b&&128>b?l(b,function(R){return new c([R|0],0>R?-1:0)}):new c([b|0],0>b?-1:0)}function y(b){if(isNaN(b)||!isFinite(b))return T;if(0>b)return k(y(-b));for(var R=[],x=1,V=0;b>=x;V++)R[V]=b/x|0,x*=4294967296;return new c(R,0)}function w(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return k(w(b.substring(1),R));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(R,8)),V=T,j=0;j<b.length;j+=8){var F=Math.min(8,b.length-j),N=parseInt(b.substring(j,j+F),R);8>F?(F=y(Math.pow(R,F)),V=V.j(F).add(y(N))):(V=V.j(x),V=V.add(y(N)))}return V}var T=p(0),S=p(1),A=p(16777216);r=c.prototype,r.m=function(){if(P(this))return-k(this).m();for(var b=0,R=1,x=0;x<this.g.length;x++){var V=this.i(x);b+=(0<=V?V:4294967296+V)*R,R*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(L(this))return"0";if(P(this))return"-"+k(this).toString(b);for(var R=y(Math.pow(b,6)),x=this,V="";;){var j=se(x,R).g;x=$(x,j.j(R));var F=((0<x.g.length?x.g[0]:x.h)>>>0).toString(b);if(x=j,L(x))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function L(b){if(b.h!=0)return!1;for(var R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function P(b){return b.h==-1}r.l=function(b){return b=$(this,b),P(b)?-1:L(b)?0:1};function k(b){for(var R=b.g.length,x=[],V=0;V<R;V++)x[V]=~b.g[V];return new c(x,~b.h).add(S)}r.abs=function(){return P(this)?k(this):this},r.add=function(b){for(var R=Math.max(this.g.length,b.g.length),x=[],V=0,j=0;j<=R;j++){var F=V+(this.i(j)&65535)+(b.i(j)&65535),N=(F>>>16)+(this.i(j)>>>16)+(b.i(j)>>>16);V=N>>>16,F&=65535,N&=65535,x[j]=N<<16|F}return new c(x,x[x.length-1]&-2147483648?-1:0)};function $(b,R){return b.add(k(R))}r.j=function(b){if(L(this)||L(b))return T;if(P(this))return P(b)?k(this).j(k(b)):k(k(this).j(b));if(P(b))return k(this.j(k(b)));if(0>this.l(A)&&0>b.l(A))return y(this.m()*b.m());for(var R=this.g.length+b.g.length,x=[],V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var j=0;j<b.g.length;j++){var F=this.i(V)>>>16,N=this.i(V)&65535,it=b.i(j)>>>16,Lt=b.i(j)&65535;x[2*V+2*j]+=N*Lt,G(x,2*V+2*j),x[2*V+2*j+1]+=F*Lt,G(x,2*V+2*j+1),x[2*V+2*j+1]+=N*it,G(x,2*V+2*j+1),x[2*V+2*j+2]+=F*it,G(x,2*V+2*j+2)}for(V=0;V<R;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=R;V<2*R;V++)x[V]=0;return new c(x,0)};function G(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function K(b,R){this.g=b,this.h=R}function se(b,R){if(L(R))throw Error("division by zero");if(L(b))return new K(T,T);if(P(b))return R=se(k(b),R),new K(k(R.g),k(R.h));if(P(R))return R=se(b,k(R)),new K(k(R.g),R.h);if(30<b.g.length){if(P(b)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,V=R;0>=V.l(b);)x=ie(x),V=ie(V);var j=we(x,1),F=we(V,1);for(V=we(V,2),x=we(x,2);!L(V);){var N=F.add(V);0>=N.l(b)&&(j=j.add(x),F=N),V=we(V,1),x=we(x,1)}return R=$(b,j.j(R)),new K(j,R)}for(j=T;0<=b.l(R);){for(x=Math.max(1,Math.floor(b.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=y(x),N=F.j(R);P(N)||0<N.l(b);)x-=V,F=y(x),N=F.j(R);L(F)&&(F=S),j=j.add(F),b=$(b,N)}return new K(j,b)}r.A=function(b){return se(this,b).h},r.and=function(b){for(var R=Math.max(this.g.length,b.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)&b.i(V);return new c(x,this.h&b.h)},r.or=function(b){for(var R=Math.max(this.g.length,b.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)|b.i(V);return new c(x,this.h|b.h)},r.xor=function(b){for(var R=Math.max(this.g.length,b.g.length),x=[],V=0;V<R;V++)x[V]=this.i(V)^b.i(V);return new c(x,this.h^b.h)};function ie(b){for(var R=b.g.length+1,x=[],V=0;V<R;V++)x[V]=b.i(V)<<1|b.i(V-1)>>>31;return new c(x,b.h)}function we(b,R){var x=R>>5;R%=32;for(var V=b.g.length-x,j=[],F=0;F<V;F++)j[F]=0<R?b.i(F+x)>>>R|b.i(F+x+1)<<32-R:b.i(F+x);return new c(j,b.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,__=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,ci=c}).apply(typeof gy<"u"?gy:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var w_,Ba,E_,Zu,Jd,T_,I_,S_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var _=s;u=u.split(".");for(var I=0;I<u.length-1;I++){var B=u[I];if(!(B in _))break e;_=_[B]}u=u[u.length-1],I=_[u],m=m(I),m!=I&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,I=!1,B={next:function(){if(!I&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(I,B,H){for(var ne=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ne[Be-2]=arguments[Be];return m.prototype[B].apply(I,ne)}}function P(u){const m=u.length;if(0<m){const _=Array(m);for(let I=0;I<m;I++)_[I]=u[I];return _}return[]}function k(u,m){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(p(I)){const B=u.length||0,H=I.length||0;u.length=B+H;for(let ne=0;ne<H;ne++)u[B+ne]=I[ne]}else u.push(I)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function se(u){return se[" "](u),u}se[" "]=function(){};var ie=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function we(u,m,_){for(const I in u)m.call(_,u[I],I,u)}function b(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let _,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(_ in I)u[_]=I[_];for(let H=0;H<x.length;H++)_=x[H],Object.prototype.hasOwnProperty.call(I,_)&&(u[_]=I[_])}}function j(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function F(u){d.setTimeout(()=>{throw u},0)}function N(){var u=ge;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class it{constructor(){this.h=this.g=null}add(m,_){const I=Lt.get();I.set(m,_),this.h?this.h.next=I:this.g=I,this.h=I}}var Lt=new $(()=>new Mt,u=>u.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,re=!1,ge=new it,le=()=>{const u=d.Promise.resolve(void 0);$e=()=>{u.then(U)}};var U=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(_){F(_)}var m=Lt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Re=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function Ce(u,m){if(pe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ie){e:{try{se(m.nodeName);var B=!0;break e}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}L(Ce,pe);var De={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Ge(u,m,_,I,B){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!I,this.ha=B,this.key=++Fe,this.da=this.fa=!1}function wt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function lr(u){this.src=u,this.g={},this.h=0}lr.prototype.add=function(u,m,_,I,B){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var ne=jr(u,m,I,B);return-1<ne?(m=u[ne],_||(m.fa=!1)):(m=new Ge(m,this.src,H,!!I,B),m.fa=_,u.push(m)),m};function Ei(u,m){var _=m.type;if(_ in u.g){var I=u.g[_],B=Array.prototype.indexOf.call(I,m,void 0),H;(H=0<=B)&&Array.prototype.splice.call(I,B,1),H&&(wt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function jr(u,m,_,I){for(var B=0;B<u.length;++B){var H=u[B];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==I)return B}return-1}var Ds="closure_lm_"+(1e6*Math.random()|0),Ti={};function zo(u,m,_,I,B){if(Array.isArray(m)){for(var H=0;H<m.length;H++)zo(u,m[H],_,I,B);return null}return _=qo(_),u&&u[je]?u.K(m,_,y(I)?!!I.capture:!1,B):$o(u,m,_,!1,I,B)}function $o(u,m,_,I,B,H){if(!m)throw Error("Invalid event type");var ne=y(B)?!!B.capture:!!B,Be=Si(u);if(Be||(u[Ds]=Be=new lr(u)),_=Be.add(m,_,I,ne,H),_.proxy)return _;if(I=Il(),_.proxy=I,I.src=u,I.listener=_,u.addEventListener)Re||(B=ne),B===void 0&&(B=!1),u.addEventListener(m.toString(),I,B);else if(u.attachEvent)u.attachEvent(cr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Il(){function u(_){return m.call(u.src,u.listener,_)}const m=Wo;return u}function Ii(u,m,_,I,B){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ii(u,m[H],_,I,B);else I=y(I)?!!I.capture:!!I,_=qo(_),u&&u[je]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=jr(H,_,I,B),-1<_&&(wt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Si(u))&&(m=u.g[m.toString()],u=-1,m&&(u=jr(m,_,I,B)),(_=-1<u?m[u]:null)&&ur(_))}function ur(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[je])Ei(m.i,u);else{var _=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(_,I,u.capture):m.detachEvent?m.detachEvent(cr(_),I):m.addListener&&m.removeListener&&m.removeListener(I),(_=Si(m))?(Ei(_,u),_.h==0&&(_.src=null,m[Ds]=null)):wt(u)}}}function cr(u){return u in Ti?Ti[u]:Ti[u]="on"+u}function Wo(u,m){if(u.da)u=!0;else{m=new Ce(m,this);var _=u.listener,I=u.ha||u.src;u.fa&&ur(u),u=_.call(I,m)}return u}function Si(u){return u=u[Ds],u instanceof lr?u:null}var Ai="__closure_events_fn_"+(1e9*Math.random()>>>0);function qo(u){return typeof u=="function"?u:(u[Ai]||(u[Ai]=function(m){return u.handleEvent(m)}),u[Ai])}function pt(){Y.call(this),this.i=new lr(this),this.M=this,this.F=null}L(pt,Y),pt.prototype[je]=!0,pt.prototype.removeEventListener=function(u,m,_,I){Ii(this,u,m,_,I)};function mt(u,m){var _,I=u.F;if(I)for(_=[];I;I=I.F)_.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new pe(m,u);else if(m instanceof pe)m.target=m.target||u;else{var B=m;m=new pe(I,u),V(m,B)}if(B=!0,_)for(var H=_.length-1;0<=H;H--){var ne=m.g=_[H];B=hr(ne,I,!0,m)&&B}if(ne=m.g=u,B=hr(ne,I,!0,m)&&B,B=hr(ne,I,!1,m)&&B,_)for(H=0;H<_.length;H++)ne=m.g=_[H],B=hr(ne,I,!1,m)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],I=0;I<_.length;I++)wt(_[I]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,_,I){return this.i.add(String(u),m,!1,_,I)},pt.prototype.L=function(u,m,_,I){return this.i.add(String(u),m,!0,_,I)};function hr(u,m,_,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,H=0;H<m.length;++H){var ne=m[H];if(ne&&!ne.da&&ne.capture==_){var Be=ne.listener,gt=ne.ha||ne.src;ne.fa&&Ei(u.i,ne),B=Be.call(gt,I)!==!1&&B}}return B&&!I.defaultPrevented}function Ho(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function Fr(u){u.g=Ho(()=>{u.g=null,u.i&&(u.i=!1,Fr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Os extends Y{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(u){Y.call(this),this.h=u,this.g={}}L(bs,Y);var Go=[];function Ko(u){we(u.g,function(m,_){this.g.hasOwnProperty(_)&&ur(m)},u),u.g={}}bs.prototype.N=function(){bs.aa.N.call(this),Ko(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qo=d.JSON.stringify,Yo=d.JSON.parse,Xo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Vs(){}Vs.prototype.h=null;function Ri(u){return u.h||(u.h=u.i())}function Ci(){}var gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){pe.call(this,"d")}L(Wn,pe);function ki(){pe.call(this,"c")}L(ki,pe);var qn={},Jo=null;function Ls(){return Jo=Jo||new pt}qn.La="serverreachability";function Zo(u){pe.call(this,qn.La,u)}L(Zo,pe);function dr(u){const m=Ls();mt(m,new Zo(m))}qn.STAT_EVENT="statevent";function ea(u,m){pe.call(this,qn.STAT_EVENT,u),this.stat=m}L(ea,pe);function ot(u){const m=Ls();mt(m,new ea(m,u))}qn.Ma="timingevent";function Pi(u,m){pe.call(this,qn.Ma,u),this.size=m}L(Pi,pe);function Rn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function js(u,m,_,I,B,H){u.info(function(){if(u.g)if(H)for(var ne="",Be=H.split("&"),gt=0;gt<Be.length;gt++){var Oe=Be[gt].split("=");if(1<Oe.length){var Et=Oe[0];Oe=Oe[1];var ct=Et.split("_");ne=2<=ct.length&&ct[1]=="type"?ne+(Et+"="+Oe+"&"):ne+(Et+"=redacted&")}}else ne=null;else ne=H;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+m+`
`+_+`
`+ne})}function xi(u,m,_,I,B,H,ne){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+m+`
`+_+`
`+H+" "+ne})}function Cn(u,m,_,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wc(u,_)+(I?" "+I:"")})}function ta(u,m){u.info(function(){return"TIMEOUT: "+m})}Ms.prototype.info=function(){};function Wc(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var I=_[u];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var H=B[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ne=1;ne<B.length;ne++)B[ne]=""}}}}return Qo(_)}catch{return m}}var Ni={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Fs(){}L(Fs,Vs),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},kn=new Fs;function Pn(u,m,_,I){this.j=u,this.i=m,this.l=_,this.R=I||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Al}function Al(){this.i=null,this.g="",this.h=!1}var na={},Di={};function Oi(u,m,_){u.L=1,u.v=Wr(un(m)),u.m=_,u.P=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),Ke(u),u.A=un(u.v);var _=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),Hr(_.i,"t",I),u.C=0,_=u.j.J,u.h=new Al,u.g=$l(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Os(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,I=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Go[0]=B.toString()),B=Go);for(var H=0;H<B.length;H++){var ne=zo(_,B[H],I||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),dr(),js(u.i,u.u,u.A,u.l,u.R,u.m)}Pn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Zt(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Zt(this.g);var m=this.g.Ba();const _n=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||ua(this.g)))){this.J||ct!=4||m==7||(m==8||0>=_n?dr(3):dr(2)),Us(this);var _=this.g.Z();this.X=_;t:if(Rl(this)){var I=ua(this.g);u="";var B=I.length,H=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),Ur(this);var ne="";break t}this.h.i=new d.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(H&&m==B-1)});I.length=0,this.h.g+=u,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=_==200,xi(this.i,this.u,this.A,this.l,this.R,ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,gt=this.g;if((Be=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Be)){var Oe=Be;break t}}Oe=null}if(_=Oe)Cn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,_);else{this.o=!1,this.s=3,ot(12),yn(this),Ur(this);break e}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<ne.length;)if(hn=qc(this,ne),hn==Di){ct==4&&(this.s=4,ot(14),_=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==na){this.s=4,ot(15),Cn(this.i,this.l,ne,"[Invalid Chunk]"),_=!1;break}else Cn(this.i,this.l,hn,null),sa(this,hn);if(Rl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||ne.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Cn(this.i,this.l,ne,"[Invalid Chunked Response]"),yn(this),Ur(this);else if(0<ne.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),ha(Et),Et.M=!0,ot(11))}}else Cn(this.i,this.l,ne,null),sa(this,ne);ct==4&&yn(this),this.o&&!this.J&&(ct==4?Wi(this.j,this):(this.o=!1,Ke(this)))}else Fi(this.g),_==400&&0<ne.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),yn(this),Ur(this)}}}catch{}};function Rl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function qc(u,m){var _=u.C,I=m.indexOf(`
`,_);return I==-1?Di:(_=Number(m.substring(_,I)),isNaN(_)?na:(I+=1,I+_>m.length?Di:(m=m.slice(I,I+_),u.C=I+_,m)))}Pn.prototype.cancel=function(){this.J=!0,yn(this)};function Ke(u){u.S=Date.now()+u.I,Cl(u,u.I)}function Cl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Rn(S(u.ba,u),m)}function Us(u){u.B&&(d.clearTimeout(u.B),u.B=null)}Pn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ta(this.i,this.A),this.L!=2&&(dr(),ot(17)),yn(this),this.s=2,Ur(this)):Cl(this,this.S-u)};function Ur(u){u.j.G==0||u.J||Wi(u.j,u)}function yn(u){Us(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ko(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function sa(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Gt(_.h,u))){if(!u.K&&Gt(_.h,u)&&_.G==3){try{var I=_.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)$i(_),bn(_);else break e;zi(_),ot(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Rn(S(_.Za,_),6e3));if(1>=Pl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yr(_,11)}else if((u.K||_.g==u)&&$i(_),!G(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let Oe=B[m];if(_.T=Oe[0],Oe=Oe[1],_.G==2)if(Oe[0]=="c"){_.K=Oe[1],_.ia=Oe[2];const Et=Oe[3];Et!=null&&(_.la=Et,_.j.info("VER="+_.la));const ct=Oe[4];ct!=null&&(_.Aa=ct,_.j.info("SVER="+_.Aa));const _n=Oe[5];_n!=null&&typeof _n=="number"&&0<_n&&(I=1.5*_n,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const hn=u.g;if(hn){const Gs=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var H=I.h;H.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ia(H,H.h),H.h=null))}if(I.D){const Hi=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hi&&(I.ya=Hi,qe(I.I,I.D,Hi))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var ne=u;if(I.qa=zl(I,I.J?I.ia:null,I.W),ne.K){xl(I.h,ne);var Be=ne,gt=I.L;gt&&(Be.I=gt),Be.B&&(Us(Be),Ke(Be)),I.g=ne}else Hs(I);0<_.i.length&&Qn(_)}else Oe[0]!="stop"&&Oe[0]!="close"||yr(_,7);else _.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?yr(_,7):kt(_):Oe[0]!="noop"&&_.l&&_.l.ta(Oe),_.v=0)}}dr(4)}catch{}}var kl=class{constructor(u,m){this.g=u,this.map=m}};function Bs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Pl(u){return u.h?1:u.g?u.g.size:0}function Gt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ia(u,m){u.g?u.g.add(m):u.h=m}function xl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Bs.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return P(u.i)}function bi(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,I=0;I<_;I++)m.push(u[I]);return m}m=[],_=0;for(I in u)m[_++]=u[I];return m}function Vi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const I in u)m[_++]=I;return m}}}function Br(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Vi(u),I=bi(u),B=I.length,H=0;H<B;H++)m.call(void 0,I[H],_&&_[H],u)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var I=u[_].indexOf("="),B=null;if(0<=I){var H=u[_].substring(0,I);B=u[_].substring(I+1)}else H=u[_];m(H,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fr){this.h=u.h,$s(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var m=u.i,_=new Hn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),$r(this,_),this.m=u.m}else u&&(m=String(u).match(zs))?(this.h=!1,$s(this,m[1]||"",!0),this.o=xe(m[2]||""),this.g=xe(m[3]||"",!0),zr(this,m[4]),this.l=xe(m[5]||"",!0),$r(this,m[6]||"",!0),this.m=xe(m[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}fr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(qr(m,Li,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qr(m,Li,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(qr(_,_.charAt(0)=="/"?bl:Ol,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",qr(_,oa)),u.join("")};function un(u){return new fr(u)}function $s(u,m,_){u.j=_?xe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function $r(u,m,_){m instanceof Hn?(u.i=m,Gn(u.i,u.h)):(_||(m=qr(m,Vl)),u.i=new Hn(m,u.h))}function qe(u,m,_){u.i.set(m,_)}function Wr(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Dl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Li=/[#\/\?@]/g,Ol=/[#\?:]/g,bl=/[#\?]/g,Vl=/[#\?@]/g,oa=/#/g;function Hn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ct(u){u.g||(u.g=new Map,u.h=0,u.i&&Hc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Hn.prototype,r.add=function(u,m){Ct(this),this.i=null,u=vn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function xn(u,m){Ct(u),m=vn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nn(u,m){return Ct(u),m=vn(u,m),u.g.has(m)}r.forEach=function(u,m){Ct(this),this.g.forEach(function(_,I){_.forEach(function(B){u.call(m,B,I,this)},this)},this)},r.na=function(){Ct(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let I=0;I<m.length;I++){const B=u[I];for(let H=0;H<B.length;H++)_.push(m[I])}return _},r.V=function(u){Ct(this);let m=[];if(typeof u=="string")Nn(this,u)&&(m=m.concat(this.g.get(vn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Ct(this),this.i=null,u=vn(this,u),Nn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Hr(u,m,_){xn(u,m),0<_.length&&(u.i=null,u.g.set(vn(u,m),P(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var I=m[_];const H=encodeURIComponent(String(I)),ne=this.V(I);for(I=0;I<ne.length;I++){var B=H;ne[I]!==""&&(B+="="+encodeURIComponent(String(ne[I]))),u.push(B)}}return this.i=u.join("&")};function vn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Gn(u,m){m&&!u.j&&(Ct(u),u.i=null,u.g.forEach(function(_,I){var B=I.toLowerCase();I!=B&&(xn(this,I),Hr(this,B,_))},u)),u.j=m}function Gc(u,m){const _=new Ms;if(d.Image){const I=new Image;I.onload=A(Jt,_,"TestLoadImage: loaded",!0,m,I),I.onerror=A(Jt,_,"TestLoadImage: error",!1,m,I),I.onabort=A(Jt,_,"TestLoadImage: abort",!1,m,I),I.ontimeout=A(Jt,_,"TestLoadImage: timeout",!1,m,I),d.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function Ll(u,m){const _=new Ms,I=new AbortController,B=setTimeout(()=>{I.abort(),Jt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(H=>{clearTimeout(B),H.ok?Jt(_,"TestPingServer: ok",!0,m):Jt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Jt(_,"TestPingServer: error",!1,m)})}function Jt(u,m,_,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(_)}catch{}}function Kc(){this.g=new Xo}function Ml(u,m,_){const I=_||"";try{Br(u,function(B,H){let ne=B;y(B)&&(ne=Qo(B)),m.push(I+H+"="+encodeURIComponent(ne))})}catch(B){throw m.push(I+"type="+encodeURIComponent("_badmap")),B}}function pr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(pr,Vs),pr.prototype.g=function(){return new Ws(this.l,this.j)},pr.prototype.i=(function(u){return function(){return u}})({});function Ws(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ws,pt),r=Ws.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,On(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function jl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Dn(this):On(this),this.readyState==3&&jl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Dn(this))},r.Qa=function(u){this.g&&(this.response=u,Dn(this))},r.ga=function(){this.g&&Dn(this)};function Dn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,On(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function On(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mr(u){let m="";return we(u,function(_,I){m+=I,m+=":",m+=_,m+=`\r
`}),m}function Gr(u,m,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=mr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):qe(u,m,_))}function Ze(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ze,pt);var Qc=/^https?$/i,aa=["POST","PUT"];r=Ze.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Ri(this.o):Ri(kn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){qs(this,H);return}if(u=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)_.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const H of I.keys())_.set(H,I.get(H));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),B=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(aa,m,void 0))||I||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ne]of _)this.g.setRequestHeader(H,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ji(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){qs(this,H)}};function qs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Mi(u),cn(u)}function Mi(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),cn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?la(this):this.bb())},r.bb=function(){la(this)};function la(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Zt(u)!=4||u.Z()!=2)){if(u.u&&Zt(u)==4)Ho(u.Ea,0,u);else if(mt(u,"readystatechange"),Zt(u)==4){u.h=!1;try{const ne=u.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var I;if(I=ne===0){var B=String(u.D).match(zs)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),I=!Qc.test(B?B.toLowerCase():"")}_=I}if(_)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var H=2<Zt(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Mi(u)}}finally{cn(u)}}}}function cn(u,m){if(u.g){ji(u);const _=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{_.onreadystatechange=I}catch{}}}function ji(u){u.I&&(d.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Zt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Yo(m)}};function ua(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&2<=Zt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(G(u[I]))continue;var _=j(u[I]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[B]||[];m[B]=H,H.push(_)}b(m,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ca(u){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,u),this.cb=Kn("retryDelaySeedMs",1e4,u),this.Wa=Kn("forwardChannelMaxRetries",2,u),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(u&&u.concurrentRequestLimit),this.Da=new Kc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,I){ot(0),this.W=u,this.H=m||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=zl(this,null,this.W),Qn(this)};function kt(u){if(Ui(u),u.G==3){var m=u.U++,_=un(u.I);if(qe(_,"SID",u.K),qe(_,"RID",m),qe(_,"TYPE","terminate"),gr(u,_),m=new Pn(u,u.j,m),m.L=2,m.v=Wr(un(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.v,_=!0),_||(m.g=$l(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ke(m)}Bl(u)}function bn(u){u.g&&(ha(u),u.g.cancel(),u.g=null)}function Ui(u){bn(u),u.u&&(d.clearTimeout(u.u),u.u=null),$i(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Qn(u){if(!ln(u.h)&&!u.s){u.s=!0;var m=u.Ga;$e||le(),re||($e(),re=!0),ge.add(m,u),u.B=0}}function Yc(u,m){return Pl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Rn(S(u.Ga,u,m),Ul(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Pn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=R(H),V(H,this.S)):H=this.S),this.m!==null||this.O||(B.H=H,H=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=Kr(this,B,m),_=un(this.I),qe(_,"RID",u),qe(_,"CVER",22),this.D&&qe(_,"X-HTTP-Session-Id",this.D),gr(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(mr(H)))+"&"+m:this.m&&Gr(_,this.m,H)),ia(this.h,B),this.Ua&&qe(_,"TYPE","init"),this.P?(qe(_,"$req",m),qe(_,"SID","null"),B.T=!0,Oi(B,_,null)):Oi(B,_,m),this.G=2}}else this.G==3&&(u?Bi(this,u):this.i.length==0||ln(this.h)||Bi(this))};function Bi(u,m){var _;m?_=m.l:_=u.U++;const I=un(u.I);qe(I,"SID",u.K),qe(I,"RID",_),qe(I,"AID",u.T),gr(u,I),u.m&&u.o&&Gr(I,u.m,u.o),_=new Pn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Kr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ia(u.h,_),Oi(_,I,m)}function gr(u,m){u.H&&we(u.H,function(_,I){qe(m,I,_)}),u.l&&Br({},function(_,I){qe(m,I,_)})}function Kr(u,m,_){_=Math.min(u.i.length,_);var I=u.l?S(u.l.Na,u.l,u):null;e:{var B=u.i;let H=-1;for(;;){const ne=["count="+_];H==-1?0<_?(H=B[0].g,ne.push("ofs="+H)):H=0:ne.push("ofs="+H);let Be=!0;for(let gt=0;gt<_;gt++){let Oe=B[gt].g;const Et=B[gt].map;if(Oe-=H,0>Oe)H=Math.max(0,B[gt].g-100),Be=!1;else try{Ml(Et,ne,"req"+Oe+"_")}catch{I&&I(Et)}}if(Be){I=ne.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,I}function Hs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;$e||le(),re||($e(),re=!0),ge.add(m,u),u.v=0}}function zi(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Rn(S(u.Fa,u),Ul(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Fl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Rn(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),bn(this),Fl(this))};function ha(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Fl(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);qe(m,"RID","rpc"),qe(m,"SID",u.K),qe(m,"AID",u.T),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(m,"TO",u.ja),qe(m,"TYPE","xmlhttp"),gr(u,m),u.m&&u.o&&Gr(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Wr(un(m)),_.m=null,_.P=!0,ra(_,u)}r.Za=function(){this.C!=null&&(this.C=null,bn(this),zi(this),ot(19))};function $i(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Wi(u,m){var _=null;if(u.g==m){$i(u),ha(u),u.g=null;var I=2}else if(Gt(u.h,m))_=m.D,xl(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;I=Ls(),mt(I,new Pi(I,_)),Qn(u)}else Hs(u);else if(B=m.s,B==3||B==0&&0<m.X||!(I==1&&Yc(u,m)||I==2&&zi(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),B){case 1:yr(u,5);break;case 4:yr(u,10);break;case 3:yr(u,6);break;default:yr(u,2)}}}function Ul(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function yr(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),I=u.Xa;const B=!I;I=new fr(I||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$s(I,"https"),Wr(I),B?Gc(I.toString(),_):Ll(I.toString(),_)}else ot(2);u.G=0,u.l&&u.l.sa(m),Bl(u),Ui(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Bl(u){if(u.G=0,u.ka=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(k(u.ka,m),k(u.ka,u.i),u.h.i.length=0,P(u.i),u.i.length=0),u.l.ra()}}function zl(u,m,_){var I=_ instanceof fr?un(_):new fr(_);if(I.g!="")m&&(I.g=m+"."+I.g),zr(I,I.s);else{var B=d.location;I=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var H=new fr(null);I&&$s(H,I),m&&(H.g=m),B&&zr(H,B),_&&(H.l=_),I=H}return _=u.D,m=u.ya,_&&m&&qe(I,_,m),qe(I,"VER",u.la),gr(u,I),I}function $l(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ze(new pr({eb:_})):new Ze(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function da(){}r=da.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function qi(){}qi.prototype.g=function(u,m){return new Kt(u,m)};function Kt(u,m){pt.call(this),this.g=new ca(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!G(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!G(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}L(Kt,pt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){kt(this.g)},Kt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Qo(u),u=_);m.i.push(new kl(m.Ya++,u)),m.G==3&&Qn(m)},Kt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Kt.aa.N.call(this)};function Wl(u){Wn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(Wl,Wn);function ql(){ki.call(this),this.status=1}L(ql,ki);function Yn(u){this.g=u}L(Yn,da),Yn.prototype.ua=function(){mt(this.g,"a")},Yn.prototype.ta=function(u){mt(this.g,new Wl(u))},Yn.prototype.sa=function(u){mt(this.g,new ql)},Yn.prototype.ra=function(){mt(this.g,"b")},qi.prototype.createWebChannel=qi.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,S_=function(){return new qi},I_=function(){return Ls()},T_=qn,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ni.NO_ERROR=0,Ni.TIMEOUT=8,Ni.HTTP_ERROR=6,Zu=Ni,Sl.COMPLETE="complete",E_=Sl,Ci.EventType=gn,gn.OPEN="a",gn.CLOSE="b",gn.ERROR="c",gn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ba=Ci,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,w_=Ze}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const yy="@firebase/firestore";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let Lo="10.14.0";const mi=new Tf("@firebase/firestore");function Ma(){return mi.logLevel}function de(r,...e){if(mi.logLevel<=Ne.DEBUG){const t=e.map(bf);mi.debug(`Firestore (${Lo}): ${r}`,...t)}}function br(r,...e){if(mi.logLevel<=Ne.ERROR){const t=e.map(bf);mi.error(`Firestore (${Lo}): ${r}`,...t)}}function Io(r,...e){if(mi.logLevel<=Ne.WARN){const t=e.map(bf);mi.warn(`Firestore (${Lo}): ${r}`,...t)}}function bf(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Te(r="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+r;throw br(e),new Error(e)}function ze(r,e){r||Te()}function Se(r,e){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class A_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class cR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hR{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Nr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Nr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string"),new A_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new $t(e)}}class dR{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fR{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new dR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string"),this.R=t.token,new pR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=gR(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%e.length))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function So(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}class _t{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new _t(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new _t(0,0))}static max(){return new Ie(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class nl{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(),s===void 0?s=e.length-t:s>e.length-t&&Te(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return nl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof nl?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=e.get(o),c=t.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Je extends nl{construct(e,t,s){return new Je(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Je(t)}static emptyPath(){return new Je([])}}const yR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends nl{construct(e,t,s){return new Ot(e,t,s)}static isValidIdentifier(e){return yR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(l(),o++)}if(l(),c)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(Je.fromString(e))}static fromName(e){return new me(Je.fromString(e).popFirst(5))}static empty(){return new me(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Je(e.slice()))}}function vR(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new _t(t+1,0):new _t(t,s));return new Is(o,me.empty(),e)}function _R(r){return new Is(r.readTime,r.key,-1)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(Ie.min(),me.empty(),-1)}static max(){return new Is(Ie.max(),me.empty(),-1)}}function wR(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(r.documentKey,e.documentKey),t!==0?t:Me(r.largestBatchId,e.largestBatchId))}const ER="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==ER)throw r;de("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Z.reject(t)}static resolve(e){return new Z(((t,s)=>{t(e)}))}static reject(e){return new Z(((t,s)=>{s(e)}))}static waitFor(e){return new Z(((t,s)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&t()}),(p=>s(p)))})),c=!0,l===o&&t()}))}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next((o=>o?Z.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new Z(((s,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((w=>{c[y]=w,++d,d===l&&s(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new Z(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function IR(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yl(r){return r.name==="IndexedDbTransactionError"}class Vf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vf.oe=-1;function Cc(r){return r==null}function dc(r){return r===0&&1/r==-1/0}function SR(r){return typeof r=="number"&&Number.isInteger(r)&&!dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function vy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function _i(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function C_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class rt{constructor(e,t){this.comparator=e,this.root=t||Dt.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Dt.RED,this.left=o??Dt.EMPTY,this.right=l??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Dt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Dt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _y(this.data.getIterator())}getIteratorFrom(e){return new _y(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class _y{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new mn([])}unionWith(e){let t=new bt(Ot.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new k_("Invalid base64 string: "+l):l}})(e);return new Vt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const AR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(r){if(ze(!!r),typeof r=="string"){let e=0;const t=AR.exec(r);if(ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:lt(r.seconds),nanos:lt(r.nanos)}}function lt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gi(r){return typeof r=="string"?Vt.fromBase64String(r):Vt.fromUint8Array(r)}function Lf(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Mf(r){const e=r.mapValue.fields.__previous_value__;return Lf(e)?Mf(e):e}function rl(r){const e=Ss(r.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}class RR{constructor(e,t,s,o,l,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class sl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}const zu={mapValue:{}};function yi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lf(r)?4:kR(r)?9007199254740991:CR(r)?10:11:Te()}function or(r,e){if(r===e)return!0;const t=yi(r);if(t!==yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return rl(r).isEqual(rl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ss(o.timestampValue),d=Ss(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return gi(o.bytesValue).isEqual(gi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return lt(o.geoPointValue.latitude)===lt(l.geoPointValue.latitude)&&lt(o.geoPointValue.longitude)===lt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return lt(o.integerValue)===lt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=lt(o.doubleValue),d=lt(l.doubleValue);return c===d?dc(c)===dc(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return So(r.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(vy(c)!==vy(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!or(c[p],d[p])))return!1;return!0})(r,e);default:return Te()}}function il(r,e){return(r.values||[]).find((t=>or(t,e)))!==void 0}function Ao(r,e){if(r===e)return 0;const t=yi(r),s=yi(e);if(t!==s)return Me(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=lt(l.integerValue||l.doubleValue),p=lt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return wy(r.timestampValue,e.timestampValue);case 4:return wy(rl(r),rl(e));case 5:return Me(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=gi(l),p=gi(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=Me(d[y],p[y]);if(w!==0)return w}return Me(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Me(lt(l.latitude),lt(c.latitude));return d!==0?d:Me(lt(l.longitude),lt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Ey(r.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,p,y,w;const T=l.fields||{},S=c.fields||{},A=(d=T.value)===null||d===void 0?void 0:d.arrayValue,L=(p=S.value)===null||p===void 0?void 0:p.arrayValue,P=Me(((y=A?.values)===null||y===void 0?void 0:y.length)||0,((w=L?.values)===null||w===void 0?void 0:w.length)||0);return P!==0?P:Ey(A,L)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===zu.mapValue&&c===zu.mapValue)return 0;if(l===zu.mapValue)return 1;if(c===zu.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=Me(p[T],w[T]);if(S!==0)return S;const A=Ao(d[p[T]],y[w[T]]);if(A!==0)return A}return Me(p.length,w.length)})(r.mapValue,e.mapValue);default:throw Te()}}function wy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const t=Ss(r),s=Ss(e),o=Me(t.seconds,s.seconds);return o!==0?o:Me(t.nanos,s.nanos)}function Ey(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Ao(t[o],s[o]);if(l)return l}return Me(t.length,s.length)}function Ro(r){return Zd(r)}function Zd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Ss(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return gi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return me.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Zd(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of s)l?l=!1:o+=",",o+=`${c}:${Zd(t.fields[c])}`;return o+"}"})(r.mapValue):Te()}function Ty(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ef(r){return!!r&&"integerValue"in r}function jf(r){return!!r&&"arrayValue"in r}function Iy(r){return!!r&&"nullValue"in r}function Sy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function CR(r){var e,t;return((t=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ha(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return _i(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Ha(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ha(r.arrayValue.values[t]);return e}return Object.assign({},r)}function kR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ec(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(t)}setAll(e){let t=Ot.emptyPath(),s={},o=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}c?s[d.lastSegment()]=Ha(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ec(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){_i(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new an(Ha(this.value))}}function P_(r){const e=[];return _i(r.fields,((t,s)=>{const o=new Ot([t]);if(ec(s)){const l=P_(s.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new mn(e)}class qt{constructor(e,t,s,o,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new qt(e,0,Ie.min(),Ie.min(),Ie.min(),an.empty(),0)}static newFoundDocument(e,t,s,o){return new qt(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new qt(e,2,t,Ie.min(),Ie.min(),an.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ie.min(),Ie.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fc{constructor(e,t){this.position=e,this.inclusive=t}}function Ay(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?s=me.comparator(me.fromName(c.referenceValue),t.key):s=Ao(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ry(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!or(r.position[t],e.position[t]))return!1;return!0}class ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function PR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class x_{}class ft extends x_{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new NR(e,t,s):t==="array-contains"?new bR(e,s):t==="in"?new VR(e,s):t==="not-in"?new LR(e,s):t==="array-contains-any"?new MR(e,s):new ft(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new DR(e,s):new OR(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ao(t,this.value)):t!==null&&yi(this.value)===yi(t)&&this.matchesComparison(Ao(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends x_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $n(e,t)}matches(e){return N_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function N_(r){return r.op==="and"}function D_(r){return xR(r)&&N_(r)}function xR(r){for(const e of r.filters)if(e instanceof $n)return!1;return!0}function tf(r){if(r instanceof ft)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(D_(r))return r.filters.map((e=>tf(e))).join(",");{const e=r.filters.map((t=>tf(t))).join(",");return`${r.op}(${e})`}}function O_(r,e){return r instanceof ft?(function(s,o){return o instanceof ft&&s.op===o.op&&s.field.isEqual(o.field)&&or(s.value,o.value)})(r,e):r instanceof $n?(function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,c,d)=>l&&O_(c,o.filters[d])),!0):!1})(r,e):void Te()}function b_(r){return r instanceof ft?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ro(t.value)}`})(r):r instanceof $n?(function(t){return t.op.toString()+" {"+t.getFilters().map(b_).join(" ,")+"}"})(r):"Filter"}class NR extends ft{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class DR extends ft{constructor(e,t){super(e,"in",t),this.keys=V_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class OR extends ft{constructor(e,t){super(e,"not-in",t),this.keys=V_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function V_(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>me.fromName(s.referenceValue)))}class bR extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jf(t)&&il(t.arrayValue,this.value)}}class VR extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&il(this.value.arrayValue,t)}}class LR extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!il(this.value.arrayValue,t)}}class MR extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>il(this.value.arrayValue,s)))}}class jR{constructor(e,t=null,s=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function Cy(r,e=null,t=[],s=[],o=null,l=null,c=null){return new jR(r,e,t,s,o,l,c)}function Ff(r){const e=Se(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>tf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Cc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ro(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ro(s))).join(",")),e.ue=t}return e.ue}function Uf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!PR(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!O_(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ry(r.startAt,e.startAt)&&Ry(r.endAt,e.endAt)}function nf(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Mo{constructor(e,t=null,s=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FR(r,e,t,s,o,l,c,d){return new Mo(r,e,t,s,o,l,c,d)}function Bf(r){return new Mo(r)}function ky(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function L_(r){return r.collectionGroup!==null}function Ga(r){const e=Se(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new bt(Ot.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(d=d.add(y.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new ol(l,s))})),t.has(Ot.keyField().canonicalString())||e.ce.push(new ol(Ot.keyField(),s))}return e.ce}function sr(r){const e=Se(r);return e.le||(e.le=UR(e,Ga(r))),e.le}function UR(r,e){if(r.limitType==="F")return Cy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new ol(o.field,l)}));const t=r.endAt?new fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fc(r.startAt.position,r.startAt.inclusive):null;return Cy(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function rf(r,e){const t=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function pc(r,e,t){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function kc(r,e){return Uf(sr(r),sr(e))&&r.limitType===e.limitType}function M_(r){return`${Ff(sr(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>b_(o))).join(", ")}]`),Cc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Ro(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Ro(o))).join(",")),`Target(${s})`})(sr(r))}; limitType=${r.limitType})`}function Pc(r,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,o){for(const l of Ga(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const y=Ay(c,d,p);return c.inclusive?y<=0:y<0})(s.startAt,Ga(s),o)||s.endAt&&!(function(c,d,p){const y=Ay(c,d,p);return c.inclusive?y>=0:y>0})(s.endAt,Ga(s),o))})(r,e)}function BR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function j_(r){return(e,t)=>{let s=!1;for(const o of Ga(r)){const l=zR(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function zR(r,e,t){const s=r.field.isKeyField()?me.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),y=d.data.field(l);return p!==null&&y!==null?Ao(p,y):Te()})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_i(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return C_(this.inner)}size(){return this.innerSize}}const $R=new rt(me.comparator);function Vr(){return $R}const F_=new rt(me.comparator);function za(...r){let e=F_;for(const t of r)e=e.insert(t.key,t);return e}function U_(r){let e=F_;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function ai(){return Ka()}function B_(){return Ka()}function Ka(){return new jo((r=>r.toString()),((r,e)=>r.isEqual(e)))}const WR=new rt(me.comparator),qR=new bt(me.comparator);function Pe(...r){let e=qR;for(const t of r)e=e.add(t);return e}const HR=new bt(Me);function GR(){return HR}function zf(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function z_(r){return{integerValue:""+r}}function $_(r,e){return SR(e)?z_(e):zf(r,e)}class xc{constructor(){this._=void 0}}function KR(r,e,t){return r instanceof mc?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Lf(l)&&(l=Mf(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(t,e):r instanceof Co?q_(r,e):r instanceof al?H_(r,e):(function(o,l){const c=W_(o,l),d=Py(c)+Py(o.Pe);return ef(c)&&ef(o.Pe)?z_(d):zf(o.serializer,d)})(r,e)}function QR(r,e,t){return r instanceof Co?q_(r,e):r instanceof al?H_(r,e):t}function W_(r,e){return r instanceof ll?(function(s){return ef(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class mc extends xc{}class Co extends xc{constructor(e){super(),this.elements=e}}function q_(r,e){const t=G_(e);for(const s of r.elements)t.some((o=>or(o,s)))||t.push(s);return{arrayValue:{values:t}}}class al extends xc{constructor(e){super(),this.elements=e}}function H_(r,e){let t=G_(e);for(const s of r.elements)t=t.filter((o=>!or(o,s)));return{arrayValue:{values:t}}}class ll extends xc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Py(r){return lt(r.integerValue||r.doubleValue)}function G_(r){return jf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class K_{constructor(e,t){this.field=e,this.transform=t}}function YR(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Co&&o instanceof Co||s instanceof al&&o instanceof al?So(s.elements,o.elements,or):s instanceof ll&&o instanceof ll?or(s.Pe,o.Pe):s instanceof mc&&o instanceof mc})(r.transform,e.transform)}class XR{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nc{}function Q_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new X_(r.key,Bn.none()):new vl(r.key,r.data,Bn.none());{const t=r.data,s=an.empty();let o=new bt(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),o=o.add(l)}return new xs(r.key,s,new mn(o.toArray()),Bn.none())}}function JR(r,e,t){r instanceof vl?(function(o,l,c){const d=o.value.clone(),p=Ny(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof xs?(function(o,l,c){if(!tc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Ny(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Y_(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Qa(r,e,t,s){return r instanceof vl?(function(l,c,d,p){if(!tc(l.precondition,c))return d;const y=l.value.clone(),w=Dy(l.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(r,e,t,s):r instanceof xs?(function(l,c,d,p){if(!tc(l.precondition,c))return d;const y=Dy(l.fieldTransforms,p,c),w=c.data;return w.setAll(Y_(l)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,s):(function(l,c,d){return tc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function ZR(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=W_(s.transform,o||null);l!=null&&(t===null&&(t=an.empty()),t.set(s.field,l))}return t||null}function xy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((l,c)=>YR(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vl extends Nc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xs extends Nc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Y_(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function Ny(r,e,t){const s=new Map;ze(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],c=l.transform,d=e.data.field(l.field);s.set(l.field,QR(c,d,t[o]))}return s}function Dy(r,e,t){const s=new Map;for(const o of r){const l=o.transform,c=t.data.field(o.field);s.set(o.field,KR(l,c,e))}return s}class X_ extends Nc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eC extends Nc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&JR(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Qa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Qa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=B_();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(o.key)?null:d;const p=Q_(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((t,s)=>xy(t,s)))&&So(this.baseMutations,e.baseMutations,((t,s)=>xy(t,s)))}}class $f{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length);let o=(function(){return WR})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,s[c].version);return new $f(e,t,s,o)}}class nC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rC{constructor(e,t){this.count=e,this.unchangedNames=t}}var dt,be;function sC(r){switch(r){default:return Te();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function J_(r){if(r===void 0)return br("GRPC error has no .code"),Q.UNKNOWN;switch(r){case dt.OK:return Q.OK;case dt.CANCELLED:return Q.CANCELLED;case dt.UNKNOWN:return Q.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Q.INTERNAL;case dt.UNAVAILABLE:return Q.UNAVAILABLE;case dt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case dt.NOT_FOUND:return Q.NOT_FOUND;case dt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case dt.ABORTED:return Q.ABORTED;case dt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case dt.DATA_LOSS:return Q.DATA_LOSS;default:return Te()}}(be=dt||(dt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";function iC(){return new TextEncoder}const oC=new ci([4294967295,4294967295],0);function Oy(r){const e=iC().encode(r),t=new __;return t.update(e),new Uint8Array(t.digest())}function by(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ci([t,s],0),new ci([o,l],0)]}class Wf{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new $a(`Invalid padding: ${t}`);if(s<0)throw new $a(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $a(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new $a(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ci.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(ci.fromNumber(s)));return o.compare(oC)===1&&(o=new ci([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Oy(e),[s,o]=by(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(s,o,l);if(!this.de(c))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Wf(l,o,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const t=Oy(e),[s,o]=by(t);for(let l=0;l<this.hashCount;l++){const c=this.Ee(s,o,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class $a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Dc(Ie.min(),o,new rt(Me),Vr(),Pe())}}class _l{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new _l(s,t,Pe(),Pe(),Pe())}}class nc{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class Z_{constructor(e,t){this.targetId=e,this.me=t}}class e0{constructor(e,t,s=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Vy{constructor(){this.fe=0,this.ge=My(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),t=Pe(),s=Pe();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te()}})),new _l(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=My()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aC{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=Ly(),this.Qe=new rt(Me)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:Te()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((s,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const l=o.target;if(nf(l))if(s===0){const c=new me(l.path);this.Ue(t,c,qt.newNoDocument(c,Ie.min()))}else ze(s===1);else{const c=this.Ye(t);if(c!==s){const d=this.Ze(e),p=d?this.Xe(d,e,c):1;if(p!==0){this.je(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,y)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let c,d;try{c=gi(s).toUint8Array()}catch(p){if(p instanceof k_)return Io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Wf(c,o,l)}catch(p){return Io(p instanceof $a?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(t,l,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&nf(d.target)){const p=new me(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,qt.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}}));let s=Pe();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const y=this.Je(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new Dc(e,t,this.Qe,this.ke,s);return this.ke=Vr(),this.qe=Ly(),this.Qe=new rt(Me),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Vy,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(Me),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Vy),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ly(){return new rt(me.comparator)}function My(){return new rt(me.comparator)}const lC={asc:"ASCENDING",desc:"DESCENDING"},uC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cC={and:"AND",or:"OR"};class hC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sf(r,e){return r.useProto3Json||Cc(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function dC(r,e){return gc(r,e.toTimestamp())}function ir(r){return ze(!!r),Ie.fromTimestamp((function(t){const s=Ss(t);return new _t(s.seconds,s.nanos)})(r))}function qf(r,e){return of(r,e).canonicalString()}function of(r,e){const t=(function(o){return new Je(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function n0(r){const e=Je.fromString(r);return ze(a0(e)),e}function af(r,e){return qf(r.databaseId,e.path)}function Pd(r,e){const t=n0(e);if(t.get(1)!==r.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new me(s0(t))}function r0(r,e){return qf(r.databaseId,e)}function fC(r){const e=n0(r);return e.length===4?Je.emptyPath():s0(e)}function lf(r){return new Je(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s0(r){return ze(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function jy(r,e,t){return{name:af(r,e),fields:t.value.mapValue.fields}}function pC(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,w){return y.useProto3Json?(ze(w===void 0||typeof w=="string"),Vt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Vt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(y){const w=y.code===void 0?Q.UNKNOWN:J_(y.code);return new ae(w,y.message||"")})(c);t=new e0(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pd(r,s.document.name),l=ir(s.document.updateTime),c=s.document.createTime?ir(s.document.createTime):Ie.min(),d=new an({mapValue:{fields:s.document.fields}}),p=qt.newFoundDocument(o,l,c,d),y=s.targetIds||[],w=s.removedTargetIds||[];t=new nc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pd(r,s.document),l=s.readTime?ir(s.readTime):Ie.min(),c=qt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new nc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pd(r,s.document),l=s.removedTargetIds||[];t=new nc([],l,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,c=new rC(o,l),d=s.targetId;t=new Z_(d,c)}}return t}function mC(r,e){let t;if(e instanceof vl)t={update:jy(r,e.key,e.value)};else if(e instanceof X_)t={delete:af(r,e.key)};else if(e instanceof xs)t={update:jy(r,e.key,e.data),updateMask:SC(e.fieldMask)};else{if(!(e instanceof eC))return Te();t={verify:af(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof mc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Co)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof al)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ll)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Te()})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:dC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te()})(r,e.precondition)),t}function gC(r,e){return r&&r.length>0?(ze(e!==void 0),r.map((t=>(function(o,l){let c=o.updateTime?ir(o.updateTime):ir(l);return c.isEqual(Ie.min())&&(c=ir(l)),new XR(c,o.transformResults||[])})(t,e)))):[]}function yC(r,e){return{documents:[r0(r,e.path)]}}function vC(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=r0(r,o);const l=(function(y){if(y.length!==0)return o0($n.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(y){if(y.length!==0)return y.map((w=>(function(S){return{field:mo(S.field),direction:EC(S.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=sf(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{_t:t,parent:o}}function _C(r){let e=fC(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(T){const S=i0(T);return S instanceof $n&&D_(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((S=>(function(L){return new ol(go(L.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,Cc(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,A=T.values||[];return new fc(A,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const S=!T.before,A=T.values||[];return new fc(A,S)})(t.endAt)),FR(e,o,c,l,d,"F",p,y)}function wC(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function i0(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=go(t.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=go(t.unaryFilter.field);return ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=go(t.unaryFilter.field);return ft.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Te()}})(r):r.fieldFilter!==void 0?(function(t){return ft.create(go(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return $n.create(t.compositeFilter.filters.map((s=>i0(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}})(t.compositeFilter.op))})(r):Te()}function EC(r){return lC[r]}function TC(r){return uC[r]}function IC(r){return cC[r]}function mo(r){return{fieldPath:r.canonicalString()}}function go(r){return Ot.fromServerFormat(r.fieldPath)}function o0(r){return r instanceof ft?(function(t){if(t.op==="=="){if(Sy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NAN"}};if(Iy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Sy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NAN"}};if(Iy(t.value))return{unaryFilter:{field:mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(t.field),op:TC(t.op),value:t.value}}})(r):r instanceof $n?(function(t){const s=t.getFilters().map((o=>o0(o)));return s.length===1?s[0]:{compositeFilter:{op:IC(t.op),filters:s}}})(r):Te()}function SC(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function a0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class gs{constructor(e,t,s,o,l=Ie.min(),c=Ie.min(),d=Vt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class AC{constructor(e){this.ct=e}}function RC(r){const e=_C({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?pc(e,e.limit,"L"):e}class CC{constructor(){this.un=new kC}addToCollectionParentIndex(e,t){return this.un.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Is.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class kC{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new bt(Je.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new bt(Je.comparator)).toArray()}}class ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ko(0)}static kn(){return new ko(-1)}}class PC{constructor(){this.changes=new jo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NC{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&Qa(s.mutation,o,mn.empty(),_t.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Pe()){const o=ai();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let c=za();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=ai();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Pe())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,o){let l=Vr();const c=Ka(),d=(function(){return Ka()})();return t.forEach(((p,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof xs)?l=l.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Qa(w.mutation,y,w.mutation.getFieldMask(),_t.now())):c.set(y.key,mn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,w)=>c.set(y,w))),t.forEach(((y,w)=>{var T;return d.set(y,new xC(w,(T=c.get(y))!==null&&T!==void 0?T:null))})),d)))}recalculateAndSaveOverlays(e,t){const s=Ka();let o=new rt(((c,d)=>c-d)),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let w=s.get(p)||mn.empty();w=d.applyToLocalView(y,w),s.set(p,w);const T=(o.get(d.batchId)||Pe()).add(p);o=o.insert(d.batchId,T)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,T=B_();w.forEach((S=>{if(!l.has(S)){const A=Q_(t.get(S),s.get(S));A!==null&&T.set(S,A),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Z.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(c){return me.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):L_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):Z.resolve(ai());let d=-1,p=l;return c.next((y=>Z.forEach(y,((w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(e,w).next((S=>{p=p.insert(w,S)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,Pe()))).next((w=>({batchId:d,changes:U_(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((s=>{let o=za();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let c=za();return this.indexManager.getCollectionParents(e,l).next((d=>Z.forEach(d,(p=>{const y=(function(T,S){return new Mo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((w=>{w.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((c=>{l.forEach(((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,qt.newInvalidDocument(w)))}));let d=za();return c.forEach(((p,y)=>{const w=l.get(p);w!==void 0&&Qa(w.mutation,y,mn.empty(),_t.now()),Pc(t,y)&&(d=d.insert(p,y))})),d}))}}class DC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Z.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ir(o.createTime)}})(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:RC(o.bundledQuery),readTime:ir(o.readTime)}})(t)),Z.resolve()}}class OC{constructor(){this.overlays=new rt(me.comparator),this.Ir=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ai();return Z.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.ht(e,t,l)})),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=ai(),l=t.length+1,c=new me(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new rt(((y,w)=>y-w));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let w=l.get(y.largestBatchId);w===null&&(w=ai(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=ai(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>d.set(y,w))),!(d.size()>=o)););return Z.resolve(d)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new nC(t,s));let l=this.Ir.get(t);l===void 0&&(l=Pe(),this.Ir.set(t,l)),this.Ir.set(t,l.add(s.key))}}class bC{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}class Hf{constructor(){this.Tr=new bt(At.Er),this.dr=new bt(At.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new At(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Vr(new At(e,t))}mr(e,t){e.forEach((s=>this.removeReference(s,t)))}gr(e){const t=new me(new Je([])),s=new At(t,e),o=new At(t,e+1),l=[];return this.dr.forEachInRange([s,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new me(new Je([])),s=new At(t,e),o=new At(t,e+1);let l=Pe();return this.dr.forEachInRange([s,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new At(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class At{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return me.comparator(e.key,t.key)||Me(e.wr,t.wr)}static Ar(e,t){return Me(e.wr,t.wr)||me.comparator(e.key,t.key)}}class VC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new bt(At.Er)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tC(l,t,s,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new At(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,t){return Z.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),l=o<0?0:o;return Z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new At(t,0),o=new At(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([s,o],(c=>{const d=this.Dr(c.wr);l.push(d)})),Z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new bt(Me);return t.forEach((o=>{const l=new At(o,0),c=new At(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{s=s.add(d.wr)}))})),Z.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;me.isDocumentKey(l)||(l=l.child(""));const c=new At(new me(l),0);let d=new bt(Me);return this.br.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.wr)),!0)}),c),Z.resolve(this.Cr(d))}Cr(e){const t=[];return e.forEach((s=>{const o=this.Dr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return Z.forEach(t.mutations,(o=>{const l=new At(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=s}))}On(e){}containsKey(e,t){const s=new At(t,0),o=this.br.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class LC{constructor(e){this.Mr=e,this.docs=(function(){return new rt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let s=Vr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():qt.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Vr();const c=t.path,d=new me(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||wR(_R(w),s)<=0||(o.has(w.key)||Pc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Z.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te()}Or(e,t){return Z.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new MC(this)}getSize(e){return Z.resolve(this.size)}}class MC extends PC{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)})),Z.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class jC{constructor(e){this.persistence=e,this.Nr=new jo((t=>Ff(t)),Uf),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Hf,this.targetCount=0,this.kr=ko.Bn()}forEachTarget(e,t){return this.Nr.forEach(((s,o)=>t(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),Z.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Kn(t),Z.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Z.waitFor(l).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Z.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this.Br.containsKey(t))}}class FC{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Vf(0),this.Kr=!1,this.Kr=!0,this.$r=new bC,this.referenceDelegate=e(this),this.Ur=new jC(this),this.indexManager=new CC,this.remoteDocumentCache=(function(o){return new LC(o)})((s=>this.referenceDelegate.Wr(s))),this.serializer=new AC(t),this.Gr=new DC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new VC(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new UC(this.Qr.next());return this.referenceDelegate.zr(),s(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,t){return Z.or(Object.values(this.qr).map((s=>()=>s.containsKey(e,t))))}}class UC extends TR{constructor(e){super(),this.currentSequenceNumber=e}}class Gf{constructor(e){this.persistence=e,this.Jr=new Hf,this.Yr=null}static Zr(e){return new Gf(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.Xr,(s=>{const o=me.fromPath(s);return this.ei(e,o).next((l=>{l||t.removeEntry(o,Ie.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Z.or([()=>Z.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Kf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=Pe(),o=Pe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Kf(e,t.fromCache,s,o)}}class BC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zC{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return OT()?8:IR(Ht())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.Yi(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,t,o,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new BC;return this.Xi(e,t,c).next((d=>{if(l.result=d,this.zi)return this.es(e,t,c,d.size)}))})).next((()=>l.result))}es(e,t,s,o){return s.documentReadCount<this.ji?(Ma()<=Ne.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",po(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Z.resolve()):(Ma()<=Ne.DEBUG&&de("QueryEngine","Query:",po(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Ma()<=Ne.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",po(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(t))):Z.resolve())}Yi(e,t){if(ky(t))return Z.resolve(null);let s=sr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=pc(t,null,"F"),s=sr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Pe(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.ts(t,d);return this.ns(t,y,c,p.readTime)?this.Yi(e,pc(t,null,"F")):this.rs(e,y,t,p)}))))})))))}Zi(e,t,s,o){return ky(t)||o.isEqual(Ie.min())?Z.resolve(null):this.Ji.getDocuments(e,s).next((l=>{const c=this.ts(t,l);return this.ns(t,c,s,o)?Z.resolve(null):(Ma()<=Ne.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(t)),this.rs(e,c,t,vR(o,-1)).next((d=>d)))}))}ts(e,t){let s=new bt(j_(e));return t.forEach(((o,l)=>{Pc(e,l)&&(s=s.add(l))})),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,t,s){return Ma()<=Ne.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",po(t)),this.Ji.getDocumentsMatchingQuery(e,t,Is.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}class $C{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new rt(Me),this._s=new jo((l=>Ff(l)),Uf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function WC(r,e,t,s){return new $C(r,e,t,s)}async function l0(r,e){const t=Se(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.ls(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let p=Pe();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(s,p).next((y=>({hs:y,removedBatchIds:c,addedBatchIds:d})))}))}))}function qC(r,e){const t=Se(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return(function(d,p,y,w){const T=y.batch,S=T.keys();let A=Z.resolve();return S.forEach((L=>{A=A.next((()=>w.getEntry(p,L))).next((P=>{const k=y.docVersions.get(L);ze(k!==null),P.version.compareTo(k)<0&&(T.applyToRemoteDocument(P,y),P.isValidDocument()&&(P.setReadTime(y.commitVersion),w.addEntry(P)))}))})),A.next((()=>d.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Pe();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function u0(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function HC(r,e){const t=Se(r),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const d=[];e.targetChanges.forEach(((w,T)=>{const S=o.get(T);if(!S)return;d.push(t.Ur.removeMatchingKeys(l,w.removedDocuments,T).next((()=>t.Ur.addMatchingKeys(l,w.addedDocuments,T))));let A=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(Vt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):w.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(w.resumeToken,s)),o=o.insert(T,A),(function(P,k,$){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(S,A,w)&&d.push(t.Ur.updateTargetData(l,A))}));let p=Vr(),y=Pe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),d.push(GC(l,c,e.documentUpdates).next((w=>{p=w.Ps,y=w.Is}))),!s.isEqual(Ie.min())){const w=t.Ur.getLastRemoteSnapshotVersion(l).next((T=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(w)}return Z.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.os=o,l)))}function GC(r,e,t){let s=Pe(),o=Pe();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let c=Vr();return t.forEach(((d,p)=>{const y=l.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)})),{Ps:c,Is:o}}))}function KC(r,e){const t=Se(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function QC(r,e){const t=Se(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.Ur.getTargetData(s,e).next((l=>l?(o=l,Z.resolve(o)):t.Ur.allocateTargetId(s).next((c=>(o=new gs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s}))}async function uf(r,e,t){const s=Se(r),o=s.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!yl(c))throw c;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Fy(r,e,t){const s=Se(r);let o=Ie.min(),l=Pe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,w){const T=Se(p),S=T._s.get(w);return S!==void 0?Z.resolve(T.os.get(S)):T.Ur.getTargetData(y,w)})(s,c,sr(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>s.ss.getDocumentsMatchingQuery(c,e,t?o:Ie.min(),t?l:Pe()))).next((d=>(YC(s,BR(e),d),{documents:d,Ts:l})))))}function YC(r,e,t){let s=r.us.get(e)||Ie.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.us.set(e,s)}class Uy{constructor(){this.activeTargetIds=GR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XC{constructor(){this.so=new Uy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Uy,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JC{_o(e){}shutdown(){}}class By{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let $u=null;function xd(){return $u===null?$u=(function(){return 268435456+Math.round(2147483648*Math.random())})():$u++,"0x"+$u.toString(16)}const ZC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ek{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const zt="WebChannelConnection";class tk extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(t,s,o,l,c){const d=xd(),p=this.xo(t,s.toUriEncodedString());de("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,l,c),this.No(t,p,y,o).then((w=>(de("RestConnection",`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Io("RestConnection",`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",o),w}))}Lo(t,s,o,l,c,d){return this.Mo(t,s,o,l,c)}Oo(t,s,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Lo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((l,c)=>t[c]=l)),o&&o.headers.forEach(((l,c)=>t[c]=l))}xo(t,s){const o=ZC[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const l=xd();return new Promise(((c,d)=>{const p=new w_;p.setWithCredentials(!0),p.listenOnce(E_.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Zu.NO_ERROR:const w=p.getResponseJson();de(zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),c(w);break;case Zu.TIMEOUT:de(zt,`RPC '${e}' ${l} timed out`),d(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const T=p.getStatus();if(de(zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S?.error;if(A&&A.status&&A.message){const L=(function(k){const $=k.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf($)>=0?$:Q.UNKNOWN})(A.status);d(new ae(L,A.message))}else d(new ae(Q.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{de(zt,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(o);de(zt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,s,15)}))}Bo(e,t,s){const o=xd(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=S_(),d=I_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const w=l.join("");de(zt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=c.createWebChannel(w,p);let S=!1,A=!1;const L=new ek({Io:k=>{A?de(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(S||(de(zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),de(zt,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},To:()=>T.close()}),P=(k,$,G)=>{k.listen($,(K=>{try{G(K)}catch(se){setTimeout((()=>{throw se}),0)}}))};return P(T,Ba.EventType.OPEN,(()=>{A||(de(zt,`RPC '${e}' stream ${o} transport opened.`),L.yo())})),P(T,Ba.EventType.CLOSE,(()=>{A||(A=!0,de(zt,`RPC '${e}' stream ${o} transport closed`),L.So())})),P(T,Ba.EventType.ERROR,(k=>{A||(A=!0,Io(zt,`RPC '${e}' stream ${o} transport errored:`,k),L.So(new ae(Q.UNAVAILABLE,"The operation could not be completed")))})),P(T,Ba.EventType.MESSAGE,(k=>{var $;if(!A){const G=k.data[0];ze(!!G);const K=G,se=K.error||(($=K[0])===null||$===void 0?void 0:$.error);if(se){de(zt,`RPC '${e}' stream ${o} received error:`,se);const ie=se.status;let we=(function(x){const V=dt[x];if(V!==void 0)return J_(V)})(ie),b=se.message;we===void 0&&(we=Q.INTERNAL,b="Unknown error status: "+ie+" with message "+se.message),A=!0,L.So(new ae(we,b)),T.close()}else de(zt,`RPC '${e}' stream ${o} received:`,G),L.bo(G)}})),P(d,T_.STAT_EVENT,(k=>{k.stat===Jd.PROXY?de(zt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Jd.NOPROXY&&de(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.wo()}),0),L}}function Nd(){return typeof document<"u"?document:null}function Oc(r){return new hC(r,!0)}class c0{constructor(e,t,s=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class h0{constructor(e,t,s,o,l,c,d,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new c0(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.Yo===t&&this.P_(s,o)}),(s=>{e((()=>{const o=new ae(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)}))}))}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{s((()=>this.listener.Eo()))})),this.stream.Ro((()=>{s((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{s((()=>this.I_(o)))})),this.stream.onMessage((o=>{s((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nk extends h0{constructor(e,t,s,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=pC(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?ir(c.readTime):Ie.min()})(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=lf(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=nf(p)?{documents:yC(l,p)}:{query:vC(l,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=t0(l,c.resumeToken);const y=sf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=gc(l,c.snapshotVersion.toTimestamp());const y=sf(l,c.expectedCount);y!==null&&(d.expectedCount=y)}return d})(this.serializer,e);const s=wC(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=lf(this.serializer),t.removeTarget=e,this.a_(t)}}class rk extends h0{constructor(e,t,s,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=gC(e.writeResults,e.commitTime),s=ir(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=lf(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>mC(this.serializer,s)))};this.a_(t)}}class sk extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,of(t,s),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(Q.UNKNOWN,l.toString())}))}Lo(e,t,s,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,of(t,s),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Q.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class ik{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(br(t),this.D_=!1):de("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class ok{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{s.enqueueAndForget((async()=>{wi(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const y=Se(p);y.L_.add(4),await wl(y),y.q_.set("Unknown"),y.L_.delete(4),await bc(y)})(this))}))})),this.q_=new ik(s,o)}}async function bc(r){if(wi(r))for(const e of r.B_)await e(!0)}async function wl(r){for(const e of r.B_)await e(!1)}function d0(r,e){const t=Se(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Jf(t)?Xf(t):Fo(t).r_()&&Yf(t,e))}function Qf(r,e){const t=Se(r),s=Fo(t);t.N_.delete(e),s.r_()&&f0(t,e),t.N_.size===0&&(s.r_()?s.o_():wi(t)&&t.q_.set("Unknown"))}function Yf(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(r).A_(e)}function f0(r,e){r.Q_.xe(e),Fo(r).R_(e)}function Xf(r){r.Q_=new aC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Fo(r).start(),r.q_.v_()}function Jf(r){return wi(r)&&!Fo(r).n_()&&r.N_.size>0}function wi(r){return Se(r).L_.size===0}function p0(r){r.Q_=void 0}async function ak(r){r.q_.set("Online")}async function lk(r){r.N_.forEach(((e,t)=>{Yf(r,e)}))}async function uk(r,e){p0(r),Jf(r)?(r.q_.M_(e),Xf(r)):r.q_.set("Unknown")}async function ck(r,e,t){if(r.q_.set("Online"),e instanceof e0&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))})(r,e)}catch(s){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yc(r,s)}else if(e instanceof nc?r.Q_.Ke(e):e instanceof Z_?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ie.min()))try{const s=await u0(r.localStore);t.compareTo(s)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.N_.get(y);w&&l.N_.set(y,w.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,y)=>{const w=l.N_.get(p);if(!w)return;l.N_.set(p,w.withResumeToken(Vt.EMPTY_BYTE_STRING,w.snapshotVersion)),f0(l,p);const T=new gs(w.target,p,y,w.sequenceNumber);Yf(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(s){de("RemoteStore","Failed to raise snapshot:",s),await yc(r,s)}}async function yc(r,e,t){if(!yl(e))throw e;r.L_.add(1),await wl(r),r.q_.set("Offline"),t||(t=()=>u0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await bc(r)}))}function m0(r,e){return e().catch((t=>yc(r,t,e)))}async function Vc(r){const e=Se(r),t=As(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hk(e);)try{const o=await KC(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,dk(e,o)}catch(o){await yc(e,o)}g0(e)&&y0(e)}function hk(r){return wi(r)&&r.O_.length<10}function dk(r,e){r.O_.push(e);const t=As(r);t.r_()&&t.V_&&t.m_(e.mutations)}function g0(r){return wi(r)&&!As(r).n_()&&r.O_.length>0}function y0(r){As(r).start()}async function fk(r){As(r).p_()}async function pk(r){const e=As(r);for(const t of r.O_)e.m_(t.mutations)}async function mk(r,e,t){const s=r.O_.shift(),o=$f.from(s,e,t);await m0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Vc(r)}async function gk(r,e){e&&As(r).V_&&await(async function(s,o){if((function(c){return sC(c)&&c!==Q.ABORTED})(o.code)){const l=s.O_.shift();As(s).s_(),await m0(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Vc(s)}})(r,e),g0(r)&&y0(r)}async function zy(r,e){const t=Se(r);t.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const s=wi(t);t.L_.add(3),await wl(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await bc(t)}async function yk(r,e){const t=Se(r);e?(t.L_.delete(2),await bc(t)):e||(t.L_.add(2),await wl(t),t.q_.set("Unknown"))}function Fo(r){return r.K_||(r.K_=(function(t,s,o){const l=Se(t);return l.w_(),new nk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:ak.bind(null,r),Ro:lk.bind(null,r),mo:uk.bind(null,r),d_:ck.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Jf(r)?Xf(r):r.q_.set("Unknown")):(await r.K_.stop(),p0(r))}))),r.K_}function As(r){return r.U_||(r.U_=(function(t,s,o){const l=Se(t);return l.w_(),new rk(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fk.bind(null,r),mo:gk.bind(null,r),f_:pk.bind(null,r),g_:mk.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Vc(r)):(await r.U_.stop(),r.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class Zf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const c=Date.now()+s,d=new Zf(e,t,c,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(r,e){if(br("AsyncQueue",`${e}: ${r}`),yl(r))return new ae(Q.UNAVAILABLE,`${e}: ${r}`);throw r}class Eo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=za(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class $y{constructor(){this.W_=new rt(me.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Po{constructor(e,t,s,o,l,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new Po(e,t,Eo.emptySet(t),c,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}class vk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class _k{constructor(){this.queries=Wy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=Se(t),l=o.queries;o.queries=Wy(),l.forEach(((c,d)=>{for(const p of d.j_)p.onError(s)}))})(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function Wy(){return new jo((r=>M_(r)),kc)}async function v0(r,e){const t=Se(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.H_()&&e.J_()&&(s=2):(l=new vk,s=e.J_()?0:1);try{switch(s){case 0:l.z_=await t.onListen(o,!0);break;case 1:l.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=ep(c,`Initialization of query '${po(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&tp(t)}async function _0(r,e){const t=Se(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function wk(r,e){const t=Se(r);let s=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(s=!0);c.z_=o}}s&&tp(t)}function Ek(r,e,t){const s=Se(r),o=s.queries.get(e);if(o)for(const l of o.j_)l.onError(t);s.queries.delete(e)}function tp(r){r.Y_.forEach((e=>{e.next()}))}var cf,qy;(qy=cf||(cf={})).ea="default",qy.Cache="cache";class w0{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==cf.Cache}}class E0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class Tk{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=j_(e),this.Ra=new Eo(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new $y,o=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const S=o.get(w),A=Pc(this.query,T)?T:null,L=!!S&&this.mutatedKeys.has(S.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;S&&A?S.data.isEqual(A.data)?L!==P&&(s.track({type:3,doc:A}),k=!0):this.ga(S,A)||(s.track({type:2,doc:A}),k=!0,(p&&this.Aa(A,p)>0||y&&this.Aa(A,y)<0)&&(d=!0)):!S&&A?(s.track({type:0,doc:A}),k=!0):S&&!A&&(s.track({type:1,doc:S}),k=!0,(p||y)&&(d=!0)),k&&(A?(c=c.add(A),l=P?l.add(w):l.delete(w)):(c=c.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{Ra:c,fa:s,ns:d,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((w,T)=>(function(A,L){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return P(A)-P(L)})(w.type,T.type)||this.Aa(w.doc,T.doc))),this.pa(s),o=o!=null&&o;const d=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,y=p!==this.Ea;return this.Ea=p,c.length!==0||y?{snapshot:new Po(this.query,e.Ra,l,c,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $y,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach((s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))}));const t=[];return e.forEach((s=>{this.da.has(s)||t.push(new T0(s))})),this.da.forEach((s=>{e.has(s)||t.push(new E0(s))})),t}ba(e){this.Ta=e.Ts,this.da=Pe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Po.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Ik{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class Sk{constructor(e){this.key=e,this.va=!1}}class Ak{constructor(e,t,s,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new jo((d=>M_(d)),kc),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(me.comparator),this.Na=new Map,this.La=new Hf,this.Ba={},this.ka=new Map,this.qa=ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Rk(r,e,t=!0){const s=k0(r);let o;const l=s.Fa.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await I0(s,e,t,!0),o}async function Ck(r,e){const t=k0(r);await I0(t,e,!0,!1)}async function I0(r,e,t,s){const o=await QC(r.localStore,sr(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await kk(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&d0(r.remoteStore,o),d}async function kk(r,e,t,s,o){r.Ka=(T,S,A)=>(async function(P,k,$,G){let K=k.view.ma($);K.ns&&(K=await Fy(P.localStore,k.query,!1).then((({documents:b})=>k.view.ma(b,K))));const se=G&&G.targetChanges.get(k.targetId),ie=G&&G.targetMismatches.get(k.targetId)!=null,we=k.view.applyChanges(K,P.isPrimaryClient,se,ie);return Gy(P,k.targetId,we.wa),we.snapshot})(r,T,S,A);const l=await Fy(r.localStore,e,!0),c=new Tk(e,l.Ts),d=c.ma(l.documents),p=_l.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=c.applyChanges(d,r.isPrimaryClient,p);Gy(r,t,y.wa);const w=new Ik(e,t,c);return r.Fa.set(e,w),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),y.snapshot}async function Pk(r,e,t){const s=Se(r),o=s.Fa.get(e),l=s.Ma.get(o.targetId);if(l.length>1)return s.Ma.set(o.targetId,l.filter((c=>!kc(c,e)))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await uf(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Qf(s.remoteStore,o.targetId),hf(s,o.targetId)})).catch(gl)):(hf(s,o.targetId),await uf(s.localStore,o.targetId,!0))}async function xk(r,e){const t=Se(r),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Qf(t.remoteStore,s.targetId))}async function Nk(r,e,t){const s=jk(r);try{const o=await(function(c,d){const p=Se(c),y=_t.now(),w=d.reduce(((A,L)=>A.add(L.key)),Pe());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let L=Vr(),P=Pe();return p.cs.getEntries(A,w).next((k=>{L=k,L.forEach((($,G)=>{G.isValidDocument()||(P=P.add($))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,L))).next((k=>{T=k;const $=[];for(const G of d){const K=ZR(G,T.get(G.key).overlayedDocument);K!=null&&$.push(new xs(G.key,K,P_(K.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(A,y,$,d)})).next((k=>{S=k;const $=k.applyToLocalDocumentSet(T,P);return p.documentOverlayCache.saveOverlays(A,k.batchId,$)}))})).then((()=>({batchId:S.batchId,changes:U_(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let y=c.Ba[c.currentUser.toKey()];y||(y=new rt(Me)),y=y.insert(d,p),c.Ba[c.currentUser.toKey()]=y})(s,o.batchId,t),await El(s,o.changes),await Vc(s.remoteStore)}catch(o){const l=ep(o,"Failed to persist write");t.reject(l)}}async function S0(r,e){const t=Se(r);try{const s=await HC(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Na.get(l);c&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?ze(c.va):o.removedDocuments.size>0&&(ze(c.va),c.va=!1))})),await El(t,s,e)}catch(s){await gl(s)}}function Hy(r,e,t){const s=Se(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=Se(c);p.onlineState=d;let y=!1;p.queries.forEach(((w,T)=>{for(const S of T.j_)S.Z_(d)&&(y=!0)})),y&&tp(p)})(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Dk(r,e,t){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),l=o&&o.key;if(l){let c=new rt(me.comparator);c=c.insert(l,qt.newNoDocument(l,Ie.min()));const d=Pe().add(l),p=new Dc(Ie.min(),new Map,new rt(Me),c,d);await S0(s,p),s.Oa=s.Oa.remove(l),s.Na.delete(e),np(s)}else await uf(s.localStore,e,!1).then((()=>hf(s,e,t))).catch(gl)}async function Ok(r,e){const t=Se(r),s=e.batch.batchId;try{const o=await qC(t.localStore,e);R0(t,s,null),A0(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await El(t,o)}catch(o){await gl(o)}}async function bk(r,e,t){const s=Se(r);try{const o=await(function(c,d){const p=Se(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,d).next((T=>(ze(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(s.localStore,e);R0(s,e,t),A0(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await El(s,o)}catch(o){await gl(o)}}function A0(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function R0(r,e,t){const s=Se(r);let o=s.Ba[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function hf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),t&&r.Ca.$a(s,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((s=>{r.La.containsKey(s)||C0(r,s)}))}function C0(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Qf(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),np(r))}function Gy(r,e,t){for(const s of t)s instanceof E0?(r.La.addReference(s.key,e),Vk(r,s)):s instanceof T0?(de("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||C0(r,s.key)):Te()}function Vk(r,e){const t=e.key,s=t.path.canonicalString();r.Oa.get(t)||r.xa.has(s)||(de("SyncEngine","New document in limbo: "+t),r.xa.add(s),np(r))}function np(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new me(Je.fromString(e)),s=r.qa.next();r.Na.set(s,new Sk(t)),r.Oa=r.Oa.insert(t,s),d0(r.remoteStore,new gs(sr(Bf(t.path)),s,"TargetPurposeLimboResolution",Vf.oe))}}async function El(r,e,t){const s=Se(r),o=[],l=[],c=[];s.Fa.isEmpty()||(s.Fa.forEach(((d,p)=>{c.push(s.Ka(p,e,t).then((y=>{var w;if((y||t)&&s.isPrimaryClient){const T=y?!y.fromCache:(w=t?.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Kf.Wi(p.targetId,y);l.push(T)}})))})),await Promise.all(c),s.Ca.d_(o),await(async function(p,y){const w=Se(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Z.forEach(y,(S=>Z.forEach(S.$i,(A=>w.persistence.referenceDelegate.addReference(T,S.targetId,A))).next((()=>Z.forEach(S.Ui,(A=>w.persistence.referenceDelegate.removeReference(T,S.targetId,A)))))))))}catch(T){if(!yl(T))throw T;de("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const A=w.os.get(S),L=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(L);w.os=w.os.insert(S,P)}}})(s.localStore,l))}async function Lk(r,e){const t=Se(r);if(!t.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const s=await l0(t.localStore,e);t.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((p=>{p.reject(new ae(Q.CANCELLED,c))}))})),l.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await El(t,s.hs)}}function Mk(r,e){const t=Se(r),s=t.Na.get(e);if(s&&s.va)return Pe().add(s.key);{let o=Pe();const l=t.Ma.get(e);if(!l)return o;for(const c of l){const d=t.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function k0(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=S0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dk.bind(null,e),e.Ca.d_=wk.bind(null,e.eventManager),e.Ca.$a=Ek.bind(null,e.eventManager),e}function jk(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ok.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bk.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return WC(this.persistence,new zC,e.initialUser,this.serializer)}Ga(e){return new FC(Gf.Zr,this.serializer)}Wa(e){return new XC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class df{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Hy(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lk.bind(null,this.syncEngine),await yk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new _k})()}createDatastore(e){const t=Oc(e.databaseInfo.databaseId),s=(function(l){return new tk(l)})(e.databaseInfo);return(function(l,c,d,p){return new sk(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,c,d){return new ok(s,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Hy(this.syncEngine,t,0)),(function(){return By.D()?new By:new JC})())}createSyncEngine(e,t){return(function(o,l,c,d,p,y,w){const T=new Ak(o,l,c,d,p,y);return w&&(T.Qa=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Se(o);de("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await wl(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}df.provider={build:()=>new df};class P0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Fk{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{de("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(de("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ep(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dd(r,e){r.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await l0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Ky(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Uk(r);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>zy(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>zy(e.remoteStore,o))),r._onlineComponents=e}async function Uk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Io("Error using user provided cache. Falling back to memory cache: "+t),await Dd(r,new vc)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await Dd(r,new vc);return r._offlineComponents}async function x0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await Ky(r,r._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await Ky(r,new df))),r._onlineComponents}function Bk(r){return x0(r).then((e=>e.syncEngine))}async function N0(r){const e=await x0(r),t=e.eventManager;return t.onListen=Rk.bind(null,e.syncEngine),t.onUnlisten=Pk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ck.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xk.bind(null,e.syncEngine),t}function zk(r,e,t={}){const s=new Nr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,y){const w=new P0({next:S=>{w.Za(),c.enqueueAndForget((()=>_0(l,T)));const A=S.docs.has(d);!A&&S.fromCache?y.reject(new ae(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&S.fromCache&&p&&p.source==="server"?y.reject(new ae(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new w0(Bf(d.path),w,{includeMetadataChanges:!0,_a:!0});return v0(l,T)})(await N0(r),r.asyncQueue,e,t,s))),s.promise}function $k(r,e,t={}){const s=new Nr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,y){const w=new P0({next:S=>{w.Za(),c.enqueueAndForget((()=>_0(l,T))),S.fromCache&&p.source==="server"?y.reject(new ae(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new w0(d,w,{includeMetadataChanges:!0,_a:!0});return v0(l,T)})(await N0(r),r.asyncQueue,e,t,s))),s.promise}function D0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Qy=new Map;function O0(r,e,t){if(!t)throw new ae(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Wk(r,e,t,s){if(e===!0&&s===!0)throw new ae(Q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Yy(r){if(!me.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xy(r){if(me.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Lc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function ar(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lc(r);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function qk(r,e){if(e<=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Jy{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jy(e),e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uR;switch(s.type){case"firstParty":return new fR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Qy.get(t);s&&(de("ComponentProvider","Removing Datastore"),Qy.delete(t),s.terminate())})(this),Promise.resolve()}}function Hk(r,e,t,s={}){var o;const l=(r=ar(r,Mc))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=$t.MOCK_USER;else{d=RT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $t(y)}r._authCredentials=new cR(new A_(d,p))}}class Ns{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class Xt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class Ts extends Ns{constructor(e,t,s){super(e,t,Bf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new me(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function rp(r,e,...t){if(r=Rt(r),O0("collection","path",e),r instanceof Mc){const s=Je.fromString(e,...t);return Xy(s),new Ts(r,null,s)}{if(!(r instanceof Xt||r instanceof Ts))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...t));return Xy(s),new Ts(r.firestore,null,s)}}function xo(r,e,...t){if(r=Rt(r),arguments.length===1&&(e=R_.newId()),O0("doc","path",e),r instanceof Mc){const s=Je.fromString(e,...t);return Yy(s),new Xt(r,null,new me(s))}{if(!(r instanceof Xt||r instanceof Ts))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Je.fromString(e,...t));return Yy(s),new Xt(r.firestore,r instanceof Ts?r.converter:null,new me(s))}}class Zy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new c0(this,"async_queue_retry"),this.Vu=()=>{const s=Nd();s&&de("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=Nd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Nd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Nr;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yl(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((s=>{this.Eu=s,this.du=!1;const o=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(s);throw br("INTERNAL UNHANDLED ERROR: ",o),s})).then((s=>(this.du=!1,s))))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=Zf.createAndSchedule(this,e,t,s,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Uo extends Mc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Zy,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Zy(e),this._firestoreClient=void 0,await e}}}function Gk(r,e){const t=typeof r=="object"?r:Lv(),s=typeof r=="string"?r:"(default)",o=Sf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=ST("firestore");l&&Hk(o,...l)}return o}function sp(r){if(r._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Kk(r),r._firestoreClient}function Kk(r){var e,t,s;const o=r._freezeSettings(),l=(function(d,p,y,w){return new RR(d,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,D0(w.experimentalLongPollingOptions),w.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Fk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}})(r._componentsProvider))}class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Vt.fromBase64String(e))}catch(t){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new No(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Tl{constructor(e){this._methodName=e}}class ip{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}class op{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}}const Qk=/^__.*__$/;class Yk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,t,this.fieldTransforms):new vl(e,this.data,t,this.fieldTransforms)}}class b0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new xs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function V0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Fc{constructor(e,t,s,o,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _c(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(V0(this.Cu)&&Qk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Oc(e)}Qu(e,t,s,o=!1){return new Fc({Cu:e,methodName:t,qu:s,path:Ot.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uc(r){const e=r._freezeSettings(),t=Oc(r._databaseId);return new Xk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function L0(r,e,t,s,o,l={}){const c=r.Qu(l.merge||l.mergeFields?2:0,e,t,o);up("Data must be an object, but it was:",c,s);const d=M0(s,c);let p,y;if(l.merge)p=new mn(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const S=ff(e,T,t);if(!c.contains(S))throw new ae(Q.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);F0(w,S)||w.push(S)}p=new mn(w),y=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=c.fieldTransforms;return new Yk(new an(d),p,y)}class Bc extends Tl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bc}}function Jk(r,e,t){return new Fc({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ap extends Tl{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Jk(this,e,!0),s=this.Ku.map((l=>Bo(l,t))),o=new Co(s);return new K_(e.path,o)}isEqual(e){return e instanceof ap&&Ja(this.Ku,e.Ku)}}class lp extends Tl{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new ll(e.serializer,$_(e.serializer,this.$u));return new K_(e.path,t)}isEqual(e){return e instanceof lp&&this.$u===e.$u}}function Zk(r,e,t,s){const o=r.Qu(1,e,t);up("Data must be an object, but it was:",o,s);const l=[],c=an.empty();_i(s,((p,y)=>{const w=cp(e,p,t);y=Rt(y);const T=o.Nu(w);if(y instanceof Bc)l.push(w);else{const S=Bo(y,T);S!=null&&(l.push(w),c.set(w,S))}}));const d=new mn(l);return new b0(c,d,o.fieldTransforms)}function eP(r,e,t,s,o,l){const c=r.Qu(1,e,t),d=[ff(e,s,t)],p=[o];if(l.length%2!=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(ff(e,l[S])),p.push(l[S+1]);const y=[],w=an.empty();for(let S=d.length-1;S>=0;--S)if(!F0(y,d[S])){const A=d[S];let L=p[S];L=Rt(L);const P=c.Nu(A);if(L instanceof Bc)y.push(A);else{const k=Bo(L,P);k!=null&&(y.push(A),w.set(A,k))}}const T=new mn(y);return new b0(w,T,c.fieldTransforms)}function tP(r,e,t,s=!1){return Bo(t,r.Qu(s?4:3,e))}function Bo(r,e){if(j0(r=Rt(r)))return up("Unsupported field value:",e,r),M0(r,e);if(r instanceof Tl)return(function(s,o){if(!V0(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(s,o){const l=[];let c=0;for(const d of s){let p=Bo(d,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(s,o){if((s=Rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $_(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=_t.fromDate(s);return{timestampValue:gc(o.serializer,l)}}if(s instanceof _t){const l=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gc(o.serializer,l)}}if(s instanceof ip)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof No)return{bytesValue:t0(o.serializer,s._byteString)};if(s instanceof Xt){const l=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof op)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return zf(d.serializer,p)}))}}}}}})(s,o);throw o.Bu(`Unsupported field value: ${Lc(s)}`)})(r,e)}function M0(r,e){const t={};return C_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_i(r,((s,o)=>{const l=Bo(o,e.Mu(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function j0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof ip||r instanceof No||r instanceof Xt||r instanceof Tl||r instanceof op)}function up(r,e,t){if(!j0(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const s=Lc(t);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function ff(r,e,t){if((e=Rt(e))instanceof jc)return e._internalPath;if(typeof e=="string")return cp(r,e);throw _c("Field path arguments must be of type string or ",r,!1,void 0,t)}const nP=new RegExp("[~\\*/\\[\\]]");function cp(r,e,t){if(e.search(nP)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new jc(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _c(r,e,t,s,o){const l=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ae(Q.INVALID_ARGUMENT,d+r+p)}function F0(r,e){return r.some((t=>t.isEqual(e)))}class U0{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zc("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rP extends U0{data(){return super.data()}}function zc(r,e){return typeof e=="string"?cp(r,e):e instanceof jc?e._internalPath:e._delegate._internalPath}function sP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hp{}class dp extends hp{}function B0(r,e,...t){let s=[];e instanceof hp&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof fp)).length,d=l.filter((p=>p instanceof $c)).length;if(c>1||c>0&&d>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class $c extends dp{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new $c(e,t,s)}_apply(e){const t=this._parse(e);return $0(e._query,t),new Ns(e.firestore,e.converter,rf(e._query,t))}_parse(e){const t=Uc(e.firestore);return(function(l,c,d,p,y,w,T){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){tv(T,w);const A=[];for(const L of T)A.push(ev(p,l,L));S={arrayValue:{values:A}}}else S=ev(p,l,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||tv(T,w),S=tP(d,c,T,w==="in"||w==="not-in");return ft.create(y,w,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function iP(r,e,t){const s=e,o=zc("where",r);return $c._create(o,s,t)}class fp extends hp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fp(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)$0(c,p),c=rf(c,p)})(e._query,t),new Ns(e.firestore,e.converter,rf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pp extends dp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pp(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ol(l,c)})(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Mo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function oP(r,e="asc"){const t=e,s=zc("orderBy",r);return pp._create(s,t)}class mp extends dp{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new mp(e,t,s)}_apply(e){return new Ns(e.firestore,e.converter,pc(e._query,this._limit,this._limitType))}}function z0(r){return qk("limit",r),mp._create("limit",r,"F")}function ev(r,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!L_(e)&&t.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Je.fromString(t));if(!me.isDocumentKey(s))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ty(r,new me(s))}if(t instanceof Xt)return Ty(r,t._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lc(t)}.`)}function tv(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $0(r,e){const t=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aP{convertValue(e,t="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _i(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((c=>lt(c.doubleValue)));return new op(l)}convertGeoPoint(e){return new ip(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Mf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const t=Ss(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Je.fromString(e);ze(a0(s));const o=new sl(s.get(1),s.get(3)),l=new me(s.popFirst(5));return o.isEqual(t)||br(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function W0(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Wa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q0 extends U0{constructor(e,t,s,o,l,c){super(e,t,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(zc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class rc extends q0{data(e={}){return super.data(e)}}class lP{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Wa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new rc(this._firestore,this._userDataWriter,s.key,s,new Wa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Wa(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new rc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Wa(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),w=c.indexOf(d.doc.key)),{type:uP(d.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function uP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}function hi(r){r=ar(r,Xt);const e=ar(r.firestore,Uo);return zk(sp(e),r._key).then((t=>hP(e,r,t)))}class H0 extends aP{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function G0(r){r=ar(r,Ns);const e=ar(r.firestore,Uo),t=sp(e),s=new H0(e);return sP(r._query),$k(t,r._query).then((o=>new lP(e,s,r,o)))}function Od(r,e,t){r=ar(r,Xt);const s=ar(r.firestore,Uo),o=W0(r.converter,e,t);return gp(s,[L0(Uc(s),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Bn.none())])}function K0(r,e,t,...s){r=ar(r,Xt);const o=ar(r.firestore,Uo),l=Uc(o);let c;return c=typeof(e=Rt(e))=="string"||e instanceof jc?eP(l,"updateDoc",r._key,e,t,s):Zk(l,"updateDoc",r._key,e),gp(o,[c.toMutation(r._key,Bn.exists(!0))])}function cP(r,e){const t=ar(r.firestore,Uo),s=xo(r),o=W0(r.converter,e);return gp(t,[L0(Uc(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then((()=>s))}function gp(r,e){return(function(s,o){const l=new Nr;return s.asyncQueue.enqueueAndForget((async()=>Nk(await Bk(s),o,l))),l.promise})(sp(r),e)}function hP(r,e,t){const s=t.docs.get(e._key),o=new H0(r);return new q0(r,o,e._key,s,new Wa(t.hasPendingWrites,t.fromCache),e.converter)}function dP(...r){return new ap("arrayUnion",r)}function nv(r){return new lp("increment",r)}(function(e,t=!0){(function(o){Lo=o})(bo),To(new di("firestore",((s,{instanceIdentifier:o,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new Uo(new hR(s.getProvider("auth-internal")),new mR(s.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(y.options.projectId,w)})(c,o),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Es(yy,"4.7.3",e),Es(yy,"4.7.3","esm2017")})();var fP="firebase",pP="10.14.1";Es(fP,pP,"app");const mP={apiKey:"AIzaSyBjuIGf20qRMtIuAVRe9Uc2MlvVJv0kDEA",authDomain:"game-acb65.firebaseapp.com",projectId:"game-acb65",storageBucket:"game-acb65.firebasestorage.app",messagingSenderId:"885331979449",appId:"1:885331979449:web:81e652a622d4271c4bff68"},Q0=Vv(mP),Wu=aR(Q0),Rs=Gk(Q0);async function gP(r,e,t){const s=xo(Rs,"users",r),o=await hi(s);if(!o.exists())return[];const l=o.data().achievements||[],c=[];return!l.includes("First Steps")&&t>=1&&c.push("First Steps"),!l.includes("Dedicated")&&t>=10&&c.push("Dedicated"),!l.includes("Century")&&e>=100&&c.push("Century"),!l.includes("Champion")&&e>=500&&c.push("Champion"),!l.includes("Legend")&&e>=1e3&&c.push("Legend"),c.length&&await K0(s,{achievements:dP(...c)}),c}const rv=50;async function He(r,e,t,s){const o=xo(Rs,"users",r);if(!(await hi(o)).exists())return;await K0(o,{totalPoints:nv(t),gamesPlayed:nv(1)}),await cP(rp(Rs,"scores"),{userId:r,gameId:e,score:t,displayName:s,timestamp:new Date().toISOString()});const d=(await hi(o)).data();d&&await gP(r,d.totalPoints||0,d.gamesPlayed||0)}async function yP(r){const e=xo(Rs,"users",r),t=await hi(e);if(!t.exists())return 0;const o=t.data().lastLoginDate||"",l=new Date().toISOString().split("T")[0],c=new Date;c.setDate(c.getDate()-1);const d=c.toISOString().split("T")[0];return o===d||o!==l?rv:0}async function vP(r=100){const e=rp(Rs,"users"),t=B0(e,oP("totalPoints","desc"),z0(r));return(await G0(t)).docs.map((o,l)=>({uid:o.id,displayName:o.data().displayName||"Anonymous",totalPoints:o.data().totalPoints||0,rank:l+1}))}const Y0=D.createContext(void 0);function _P({children:r}){const[e,t]=D.useState(null),[s,o]=D.useState(null),[l,c]=D.useState(!0),d=async(S,A,L)=>{const P=xo(Rs,"users",S),k=await hi(P);if(k.exists()){const $=k.data(),G=$.lastLoginDate||"",K=new Date().toISOString().split("T")[0];if(G!==K){const ie=await yP(S);ie>0?await Od(P,{...$,lastLoginDate:K,totalPoints:($.totalPoints||0)+ie},{merge:!0}):await Od(P,{lastLoginDate:K},{merge:!0})}const se=await hi(P);o({uid:S,...se.data()})}else{const $={uid:S,email:A,displayName:L,totalPoints:0,gamesPlayed:0,achievements:[],lastLoginDate:new Date().toISOString().split("T")[0],createdAt:new Date().toISOString()};await Od(P,$),o($)}},p=async()=>{if(!e)return;const S=xo(Rs,"users",e.uid),A=await hi(S);A.exists()&&o({uid:e.uid,...A.data()})};D.useEffect(()=>{const S=QS(Wu,async A=>{t(A),A?await d(A.uid,A.email||"",A.displayName||"Player"):o(null),c(!1)});return()=>S()},[]);const y=async(S,A,L)=>{const P=await qS(Wu,S,A);P.user&&await d(P.user.uid,S,L)},w=async(S,A)=>{await HS(Wu,S,A)},T=async()=>{await YS(Wu),o(null)};return v.jsx(Y0.Provider,{value:{user:e,profile:s,loading:l,signUp:y,signIn:w,signOut:T,refreshProfile:p},children:r})}function We(){const r=D.useContext(Y0);if(r===void 0)throw new Error("useAuth must be used within AuthProvider");return r}function wP(){const{user:r,profile:e,signOut:t}=We(),[s,o]=D.useState(!1);return v.jsxs("nav",{className:"navbar",children:[v.jsxs(Ae,{to:"/",className:"nav-brand",children:[v.jsx("span",{className:"brand-icon",children:""}),"ArenaHub"]}),v.jsxs("button",{className:"nav-toggle",onClick:()=>o(!s),"aria-label":"Toggle menu",children:[v.jsx("span",{}),v.jsx("span",{}),v.jsx("span",{})]}),v.jsxs("ul",{className:`nav-links ${s?"open":""}`,children:[v.jsx("li",{children:v.jsx(Ae,{to:"/",onClick:()=>o(!1),children:"Home"})}),v.jsx("li",{children:v.jsx(Ae,{to:"/games",onClick:()=>o(!1),children:"Games"})}),v.jsx("li",{children:v.jsx(Ae,{to:"/leaderboard",onClick:()=>o(!1),children:"Leaderboard"})}),r?v.jsxs(v.Fragment,{children:[v.jsx("li",{children:v.jsx(Ae,{to:"/profile",onClick:()=>o(!1),children:"Profile"})}),v.jsxs("li",{className:"nav-user",children:[v.jsxs("span",{className:"points-badge",children:[e?.totalPoints??0," pts"]}),v.jsx("button",{onClick:()=>t(),className:"btn btn-outline",children:"Logout"})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("li",{children:v.jsx(Ae,{to:"/login",onClick:()=>o(!1),children:"Login"})}),v.jsx("li",{children:v.jsx(Ae,{to:"/register",className:"btn btn-primary",onClick:()=>o(!1),children:"Register"})})]})]}),s&&v.jsx("div",{className:"nav-backdrop",onClick:()=>o(!1)})]})}function EP(){return v.jsxs("div",{className:"layout",children:[v.jsx(wP,{}),v.jsx("main",{className:"main-content",children:v.jsx(sT,{})})]})}const TP=[{id:"snake",name:"Snake",desc:"Classic snake game",path:"/games/snake",image:"/Snake.jpg"},{id:"2048",name:"2048",desc:"Merge tiles",path:"/games/2048",image:"/2048.png"},{id:"breakout",name:"Breakout",desc:"Break bricks",path:"/games/breakout",image:"/breakout.png"},{id:"whack",name:"Whack-a-Mole",desc:"Hit the moles",path:"/games/whack",image:"/whack-a-mole.jpg"},{id:"simon",name:"Simon Says",desc:"Memory sequence",path:"/games/simon",image:"/simon.jpg"},{id:"hangman",name:"Hangman",desc:"Guess the word",path:"/games/hangman",image:"/hungman.webp"},{id:"reaction",name:"Reaction Test",desc:"Click when green",path:"/games/reaction",image:"/reaction.jpg"},{id:"flappy",name:"Flappy",desc:"Tap to fly",path:"/games/flappy",image:"/flappy.png"},{id:"connect4",name:"Connect Four",desc:"Strategy game",path:"/games/connect4",image:"/connect.png"},{id:"mastermind",name:"Mastermind",desc:"Code breaker",path:"/games/mastermind",image:"/mastermind.png"}];function IP(){return v.jsxs("div",{className:"home",children:[v.jsxs("section",{className:"hero",children:[v.jsx("h1",{className:"hero-title",children:"Welcome to ArenaHub"}),v.jsx("p",{className:"hero-subtitle",children:"Play. Compete. Dominate."}),v.jsx("p",{className:"hero-desc",children:"Your ultimate gaming hub with multiple browser games, global leaderboards, and achievements."}),v.jsxs("div",{className:"hero-actions",children:[v.jsx(Ae,{to:"/games",className:"btn btn-primary btn-lg",children:"Play Games"}),v.jsx(Ae,{to:"/leaderboard",className:"btn btn-outline btn-lg",children:"View Leaderboard"})]})]}),v.jsxs("section",{className:"featured",children:[v.jsx("h2",{children:"Featured Games"}),v.jsx("div",{className:"game-cards",children:TP.map(r=>v.jsxs(Ae,{to:r.path,className:"game-card",children:[v.jsxs("div",{className:"game-card-image",children:[v.jsx("img",{src:r.image||`/images/games/${r.id}.jpg`,alt:r.name,onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.classList.add("visible")}}),v.jsx("div",{className:"game-card-placeholder"})]}),v.jsxs("div",{className:"game-card-content",children:[v.jsx("h3",{children:r.name}),v.jsx("p",{children:r.desc})]})]},r.id))})]})]})}const SP=[{id:"snake",name:"Snake",desc:"Eat food, grow longer. Classic arcade fun!",path:"/games/snake",image:"/Snake.jpg"},{id:"tictactoe",name:"Tic Tac Toe",desc:"Beat the AI in this timeless strategy game.",path:"/games/tictactoe",image:"/tic-tac-to.jpg"},{id:"memory",name:"Memory Game",desc:"Find matching pairs. Test your memory!",path:"/games/memory",image:"/memory-game.avif"},{id:"puzzle",name:"Slide Puzzle",desc:"Slide tiles to solve the puzzle.",path:"/games/puzzle",image:"/slider.png"},{id:"2048",name:"2048",desc:"Merge tiles to reach 2048!",path:"/games/2048",image:"/2048.png"},{id:"rps",name:"Rock Paper Scissors",desc:"Classic hand game vs AI.",path:"/games/rps",image:"/rock-paper-scissor.webp"},{id:"hangman",name:"Hangman",desc:"Guess the word before you run out of lives.",path:"/games/hangman",image:"/hungman.webp"},{id:"breakout",name:"Breakout",desc:"Break all the bricks with the ball!",path:"/games/breakout",image:"/breakout.png"},{id:"simon",name:"Simon Says",desc:"Repeat the color sequence.",path:"/games/simon",image:"/simon.jpg"},{id:"whack",name:"Whack-a-Mole",desc:"Whack the moles before time runs out!",path:"/games/whack",image:"/whack-a-mole.jpg"},{id:"reaction",name:"Reaction Test",desc:"Click when the screen turns green!",path:"/games/reaction",image:"/reaction.jpg"},{id:"numberguess",name:"Number Guess",desc:"Guess the number 1-100.",path:"/games/numberguess",image:"/number.jpg"},{id:"dice",name:"Dice Roll",desc:"Roll 5 dice, 3 rounds. Highest total wins!",path:"/games/dice",image:"/dice.jpg"},{id:"colormatch",name:"Color Match",desc:"Click the matching color quickly!",path:"/games/colormatch",image:"/color.png"},{id:"trivia",name:"Trivia",desc:"Answer quiz questions for points.",path:"/games/trivia",image:"/trivia.png"},{id:"flappy",name:"Flappy",desc:"Tap to fly, avoid the pipes!",path:"/games/flappy",image:"/flappy.png"},{id:"connect4",name:"Connect Four",desc:"Get 4 in a row. Strategy vs AI!",path:"/games/connect4",image:"/connect.png"},{id:"mastermind",name:"Mastermind",desc:"Crack the 4-color code.",path:"/games/mastermind",image:"/mastermind.png"},{id:"wordscramble",name:"Word Scramble",desc:"Unscramble letters to form words.",path:"/games/wordscramble",image:"/word-scramble.png"},{id:"nim",name:"Nim",desc:"Take 1-3 stones. Last to take loses.",path:"/games/nim",image:"/nim.png"},{id:"minesweeper",name:"Minesweeper",desc:"Reveal cells, avoid mines.",path:"/games/minesweeper",image:"/mindsweeper.png"},{id:"mathchallenge",name:"Math Challenge",desc:"Solve arithmetic problems.",path:"/games/mathchallenge",image:"/mathchallenge.png"}];function AP(){const{user:r}=We();return v.jsxs("div",{className:"games-page",children:[v.jsx("h1",{className:"page-title",children:"Games"}),v.jsx("p",{className:"page-subtitle",children:"Choose a game and start earning points!"}),!r&&v.jsxs("div",{className:"games-login-banner",children:[v.jsx(Ae,{to:"/login",children:"Log in"})," or ",v.jsx(Ae,{to:"/register",children:"register"})," to save scores and climb the leaderboard!"]}),v.jsx("div",{className:"game-grid",children:SP.map(e=>v.jsxs(Ae,{to:e.path,className:"game-card-large",children:[v.jsxs("div",{className:"game-card-image",children:[v.jsx("img",{src:e.image||`/images/games/${e.id}.jpg`,alt:e.name,onError:t=>{t.currentTarget.style.display="none",t.currentTarget.nextElementSibling?.classList.add("visible")}}),v.jsx("div",{className:"game-card-placeholder"})]}),v.jsxs("div",{className:"game-card-content",children:[v.jsx("h3",{children:e.name}),v.jsx("p",{children:e.desc})]})]},e.id))})]})}const cs=20,qu=20;function RP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState([[10,10]]),[l,c]=D.useState([15,15]),[d,p]=D.useState("right"),[y,w]=D.useState(0),[T,S]=D.useState(!1),[A,L]=D.useState(!1),P=D.useCallback(()=>{let $=Math.floor(Math.random()*cs),G=Math.floor(Math.random()*cs);return[$,G]},[]),k=D.useCallback(()=>{o([[10,10]]),p("right"),c(P()),w(0),S(!1),L(!0)},[P]);return D.useEffect(()=>{if(!A||T)return;const $=setInterval(()=>{o(G=>{const K=G[0];let se=K[0],ie=K[1];if(d==="up"&&ie--,d==="down"&&ie++,d==="left"&&se--,d==="right"&&se++,se<0||se>=cs||ie<0||ie>=cs){S(!0);const b=(G.length-1)*10;return r&&e&&He(r.uid,"snake",b,e.displayName).then(t),G}if(G.some(([b,R])=>b===se&&R===ie)){S(!0);const b=(G.length-1)*10;return r&&e&&He(r.uid,"snake",b,e.displayName).then(t),G}const we=[[se,ie],...G];return se===l[0]&&ie===l[1]?(w(b=>b+10),c(P()),we):we.slice(0,-1)})},150);return()=>clearInterval($)},[d,l,P,A,T,r,e]),D.useEffect(()=>{const $=G=>{G.key==="ArrowUp"&&d!=="down"&&p("up"),G.key==="ArrowDown"&&d!=="up"&&p("down"),G.key==="ArrowLeft"&&d!=="right"&&p("left"),G.key==="ArrowRight"&&d!=="left"&&p("right")};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[d]),v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:" Back"}),v.jsx("h1",{children:"Snake"}),v.jsxs("span",{className:"game-score",children:["Score: ",y]})]}),v.jsx("div",{className:"game-board snake-board",children:A?T?v.jsxs("div",{className:"game-over",children:[v.jsx("h2",{children:"Game Over"}),v.jsxs("p",{children:["Score: ",y]}),v.jsx("button",{className:"btn btn-primary",onClick:k,children:"Play Again"})]}):v.jsxs("div",{className:"snake-grid",style:{width:cs*qu,height:cs*qu,display:"grid",gridTemplateColumns:`repeat(${cs}, ${qu}px)`,gridTemplateRows:`repeat(${cs}, ${qu}px)`,border:"2px solid var(--accent-cyan)",backgroundColor:"var(--bg-dark)"},children:[s.map(([$,G],K)=>v.jsx("div",{className:"snake-cell head",style:{gridColumn:$+1,gridRow:G+1}},K)),v.jsx("div",{className:"food-cell",style:{gridColumn:l[0]+1,gridRow:l[1]+1}})]}):v.jsx("div",{className:"game-start",onClick:k,children:"Click to Start"})})]})}function sv(r){const e=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const[t,s,o]of e)if(r[t]&&r[t]===r[s]&&r[t]===r[o])return r[t];return null}function CP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(Array(9).fill(null)),[l,c]=D.useState(!0),[d,p]=D.useState(!1),y=A=>{if(s[A]||d)return;const L=[...s];L[A]=l?"X":"O",o(L),c(!l);const P=sv(L);P?(p(!0),P==="X"&&r&&e&&He(r.uid,"tictactoe",50,e.displayName).then(t)):L.every(Boolean)&&(p(!0),r&&e&&He(r.uid,"tictactoe",10,e.displayName).then(t))},w=()=>{o(Array(9).fill(null)),c(!0),p(!1)},T=sv(s),S=s.every(Boolean)&&!T;return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Tic Tac Toe"})]}),v.jsxs("div",{className:"game-board ttt-board",children:[v.jsx("div",{className:"ttt-grid",children:s.map((A,L)=>v.jsx("button",{className:"ttt-cell",onClick:()=>y(L),disabled:!!A||d,children:A},L))}),(T||S)&&v.jsxs("div",{className:"ttt-result",children:[v.jsx("p",{children:T?T+" wins!":"Draw!"}),v.jsx("button",{className:"btn btn-primary",onClick:w,children:"Play Again"})]})]})]})}const kP=["dog","cat","mouse","hamster","rabbit","fox","bear","panda"],iv=8;function PP(r){const e=[...r];for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}const xP={dog:"",cat:"",mouse:"",hamster:"",rabbit:"",fox:"",bear:"",panda:""};function NP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState([]),[l,c]=D.useState([]),[d,p]=D.useState([]),[y,w]=D.useState(0),[T,S]=D.useState(!1),A=()=>{const P=kP.slice(0,iv).flatMap(k=>[k,k]);o(PP(P)),c([]),p([]),w(0),S(!1)};D.useEffect(()=>{A()},[]),D.useEffect(()=>{if(d.length===iv*2&&s.length){S(!0);const P=Math.max(100-y*2,10);r&&e&&He(r.uid,"memory",P,e.displayName).then(t)}},[d,s.length,y,r,e]);const L=P=>{if(l.length===2||l.includes(P)||d.includes(P))return;const k=[...l,P];c(k),w($=>$+1),k.length===2&&(s[k[0]]===s[k[1]]?(p($=>[...$,k[0],k[1]]),c([])):setTimeout(()=>c([]),600))};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Memory Game"}),v.jsxs("span",{className:"game-score",children:["Moves: ",y]})]}),v.jsxs("div",{className:"game-board memory-board",children:[T&&v.jsxs("div",{className:"game-over-overlay",children:[v.jsx("h2",{children:"You Win!"}),v.jsxs("p",{children:["Moves: ",y]}),v.jsx("button",{className:"btn btn-primary",onClick:A,children:"Play Again"})]}),v.jsx("div",{className:"memory-grid",children:s.map((P,k)=>v.jsxs("button",{className:"memory-card "+(l.includes(k)||d.includes(k)?"flipped":""),onClick:()=>L(k),disabled:T,children:[v.jsx("span",{className:"front",children:"?"}),v.jsx("span",{className:"back",children:xP[P]||P})]},k))})]})]})}const li=4,wc=li*li;function DP(r){const e=[...r];for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e}function OP(r){let e=0;for(let s=0;s<wc;s++)for(let o=s+1;o<wc;o++)r[s]&&r[o]&&r[s]>r[o]&&e++;const t=Math.floor(r.indexOf(0)/li);return(e+t)%2===0}function bP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState([]),[l,c]=D.useState(0),[d,p]=D.useState(null),y=()=>{let A;do A=DP(Array.from({length:wc},(L,P)=>P));while(!OP(A));o(A),c(0),p(Date.now())};D.useEffect(()=>{y()},[]);const w=s.indexOf(0),T=s.every((A,L)=>A===(L+1)%wc);D.useEffect(()=>{if(T&&s.length&&d){const A=Math.max(150-l*3-Math.floor((Date.now()-d)/1e3),20);r&&e&&He(r.uid,"puzzle",A,e.displayName).then(t)}},[T,s,l,d,r,e]);const S=A=>{const L=Math.floor(A/li),P=A%li,k=Math.floor(w/li),$=w%li;if(L===k&&Math.abs(P-$)===1||P===$&&Math.abs(L-k)===1){const G=[...s];G[w]=G[A],G[A]=0,o(G),c(K=>K+1)}};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:" Back"}),v.jsx("h1",{children:"Slide Puzzle"}),v.jsxs("span",{className:"game-score",children:["Moves: ",l]})]}),v.jsx("div",{className:"game-board puzzle-board",children:T?v.jsxs("div",{className:"game-over",children:[v.jsx("h2",{children:"Solved!"}),v.jsxs("p",{children:["Moves: ",l]}),v.jsx("button",{className:"btn btn-primary",onClick:y,children:"Play Again"})]}):v.jsx("div",{className:"puzzle-grid",children:s.map((A,L)=>v.jsx("button",{className:`puzzle-tile ${A===0?"empty":""}`,onClick:()=>S(L),disabled:A===0,children:A||""},L))})})]})}const Wt=4;function ov(){const r=Array(Wt).fill(null).map(()=>Array(Wt).fill(0));return pf(r),pf(r),r}function pf(r){const e=[];for(let t=0;t<Wt;t++)for(let s=0;s<Wt;s++)r[t][s]===0&&e.push([t,s]);if(e.length){const[t,s]=e[Math.floor(Math.random()*e.length)];r[t][s]=Math.random()<.9?2:4}}function Hu(r){const e=r.filter(o=>o>0),t=[];let s=0;for(let o=0;o<e.length;o++)o<e.length-1&&e[o]===e[o+1]?(t.push(e[o]*2),s+=e[o]*2,o++):t.push(e[o]);for(;t.length<Wt;)t.push(0);return[t,s]}function VP(r,e){const t=r.map(o=>[...o]);let s=0;if(e==="left")for(let o=0;o<Wt;o++){const[l,c]=Hu(t[o]);t[o]=l,s+=c}else if(e==="right")for(let o=0;o<Wt;o++){const[l,c]=Hu([...t[o]].reverse());t[o]=l.reverse(),s+=c}else if(e==="up")for(let o=0;o<Wt;o++){const l=t.map(p=>p[o]),[c,d]=Hu(l);for(let p=0;p<Wt;p++)t[p][o]=c[p];s+=d}else for(let o=0;o<Wt;o++){const l=t.map(p=>p[o]).reverse(),[c,d]=Hu(l);for(let p=0;p<Wt;p++)t[p][o]=c[Wt-1-p];s+=d}return[t,s]}function LP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(ov),[l,c]=D.useState(0),[d,p]=D.useState(!1),y=D.useCallback(()=>{o(ov()),c(0),p(!1)},[]);return D.useEffect(()=>{const w=T=>{if(d)return;const A={ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right"}[T.key];A&&(T.preventDefault(),o(L=>{const[P,k]=VP(L,A);return k>0&&c($=>$+k),JSON.stringify(L)!==JSON.stringify(P)&&pf(P),P}))};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[d]),D.useEffect(()=>{if(d)return;let w=!1;for(let T=0;T<Wt;T++)for(let S=0;S<Wt;S++)s[T][S]===0&&(w=!0),S<Wt-1&&s[T][S]===s[T][S+1]&&(w=!0),T<Wt-1&&s[T][S]===s[T+1][S]&&(w=!0);w||(p(!0),r&&e&&He(r.uid,"2048",l,e.displayName).then(t))},[s,d,l,r,e]),v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"2048"}),v.jsxs("span",{className:"game-score",children:["Score: ",l]})]}),v.jsxs("div",{className:"game-board game-2048-board",children:[v.jsx("div",{className:"grid-2048",children:s.flat().map((w,T)=>v.jsx("div",{className:"tile-2048 tile-"+(w||"empty"),children:w||""},T))}),d&&v.jsxs("div",{className:"game-over-overlay",children:[v.jsx("h2",{children:"Game Over"}),v.jsxs("p",{children:["Score: ",l]}),v.jsx("button",{className:"btn btn-primary",onClick:y,children:"Play Again"})]})]})]})}const av=["rock","paper","scissors"];function MP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(null),[l,c]=D.useState(null),[d,p]=D.useState(null),[y,w]=D.useState(0),T=A=>{const L=av[Math.floor(Math.random()*3)];let P="draw";A!==L&&(A==="rock"&&L==="scissors"||A==="paper"&&L==="rock"||A==="scissors"&&L==="paper"?P="win":P="lose"),o(A),c(L),p(P),P==="win"&&w(k=>k+1)},S=()=>{r&&e&&y>0&&He(r.uid,"rps",Math.min(y*10,100),e.displayName).then(t),o(null),c(null),p(null),w(0)};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Rock Paper Scissors"}),v.jsxs("span",{className:"game-score",children:["Wins: ",y]})]}),v.jsxs("div",{className:"game-board rps-board",children:[d&&v.jsxs("div",{className:"rps-result",children:[v.jsxs("p",{children:["You: ",s," vs AI: ",l]}),v.jsxs("p",{className:d,children:[d.toUpperCase(),"!"]})]}),v.jsx("div",{className:"rps-choices",children:av.map(A=>v.jsx("button",{className:"rps-btn",onClick:()=>T(A),children:A},A))}),v.jsx("button",{className:"btn btn-outline",onClick:S,children:"End Round and Save"})]})]})}const lv=["REACT","GAMING","ARENAHUB","PYTHON","JAVASCRIPT","FIREBASE","BROWSER","KEYBOARD"];function jP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(""),[l,c]=D.useState(new Set),[d,p]=D.useState(0),[y,w]=D.useState(!1),T=()=>{o(lv[Math.floor(Math.random()*lv.length)]),c(new Set),p(0),w(!1)};D.useEffect(()=>{T()},[]);const S=P=>{y||l.has(P)||(c(k=>new Set([...k,P])),s.includes(P)||p(k=>k+1))},A=s?s.split("").map(P=>l.has(P)?P:"_").join(" "):"";D.useEffect(()=>{if(!s)return;if(s.split("").every(k=>l.has(k))){w(!0);const k=Math.max(100-d*10,20);r&&e&&He(r.uid,"hangman",k,e.displayName).then(t)}else d>=6&&w(!0)},[s,l,d,r,e]);const L="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Hangman"}),v.jsxs("span",{className:"game-score",children:["Wrong: ",d,"/6"]})]}),v.jsxs("div",{className:"game-board hangman-board",children:[v.jsx("p",{className:"hangman-word",children:A}),v.jsx("div",{className:"hangman-letters",children:L.map(P=>v.jsx("button",{className:"hangman-letter",onClick:()=>S(P),disabled:l.has(P)||y,children:P},P))}),y&&v.jsxs("div",{className:"hangman-end",children:[v.jsx("p",{children:d>=6?"Game Over! Word: "+s:"You Win!"}),v.jsx("button",{className:"btn btn-primary",onClick:T,children:"Play Again"})]})]})]})}const bd=8,Vd=5,Ld=80,Rr=6,Gu=60,Ku=20;function FP(){const{user:r,profile:e,refreshProfile:t}=We(),s=D.useRef(null),[o,l]=D.useState(0),[c,d]=D.useState(3),[p,y]=D.useState(!1),[w,T]=D.useState(!1),S=D.useRef(null),A=D.useRef(0),L=D.useCallback(()=>{const k=Array(Vd).fill(null).map(()=>Array(bd).fill(!0));return{ball:{x:300,y:350,dx:4,dy:-4},paddle:260,bricks:k}},[]),P=()=>{S.current=L(),A.current=0,l(0),d(3),y(!1),T(!0)};return D.useEffect(()=>{if(!w||p||!s.current)return;const $=s.current.getContext("2d");let G;const K=()=>{const se=S.current,{ball:ie,paddle:we,bricks:b}=se;ie.x+=ie.dx,ie.y+=ie.dy,(ie.x-Rr<=0||ie.x+Rr>=600)&&(ie.dx*=-1),ie.y-Rr<=0&&(ie.dy*=-1),ie.y+Rr>=390&&ie.x>=we&&ie.x<=we+Ld&&(ie.dy*=-1,l(R=>(A.current=R+10,R+10))),ie.y>400&&d(R=>R<=1?(y(!0),r&&e&&He(r.uid,"breakout",A.current,e.displayName).then(t),0):(ie.x=300,ie.y=350,ie.dy=4,R-1));for(let R=0;R<Vd;R++)for(let x=0;x<bd;x++){if(!b[R][x])continue;const V=x*(Gu+4)+20,j=R*(Ku+4)+20;ie.x+Rr>=V&&ie.x-Rr<=V+Gu&&ie.y+Rr>=j&&ie.y-Rr<=j+Ku&&(b[R][x]=!1,ie.dy*=-1,l(F=>(A.current=F+20,F+20)),b.every(F=>F.every(N=>!N))&&(y(!0),r&&e&&He(r.uid,"breakout",A.current+200,e.displayName).then(t)))}$.fillStyle="#0f0e17",$.fillRect(0,0,600,400),$.fillStyle="#00d9ff",$.fillRect(we,390,Ld,10),$.beginPath(),$.arc(ie.x,ie.y,Rr,0,Math.PI*2),$.fill();for(let R=0;R<Vd;R++)for(let x=0;x<bd;x++)b[R][x]&&($.fillStyle="#ff2e97",$.fillRect(x*(Gu+4)+20,R*(Ku+4)+20,Gu,Ku));G=requestAnimationFrame(K)};return G=requestAnimationFrame(K),()=>cancelAnimationFrame(G)},[w,p,L,r,e]),D.useEffect(()=>{if(!s.current||!w)return;const k=K=>{const se=s.current.getBoundingClientRect(),ie=(K-se.left)/se.width*600;S.current&&(S.current.paddle=Math.max(0,Math.min(520,ie-Ld/2)))},$=K=>k(K.clientX),G=K=>{K.touches.length&&(K.preventDefault(),k(K.touches[0].clientX))};return window.addEventListener("mousemove",$),window.addEventListener("touchmove",G,{passive:!1}),()=>{window.removeEventListener("mousemove",$),window.removeEventListener("touchmove",G)}},[w]),v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Breakout"}),v.jsxs("span",{className:"game-score",children:["Score: ",o," | Lives: ",c]})]}),v.jsx("div",{className:"game-board breakout-board",children:w?v.jsxs(v.Fragment,{children:[v.jsx("canvas",{ref:s,width:600,height:400}),p&&v.jsxs("div",{className:"game-over-overlay",children:[v.jsx("h2",{children:"Game Over"}),v.jsxs("p",{children:["Score: ",o]}),v.jsx("button",{className:"btn btn-primary",onClick:P,children:"Play Again"})]})]}):v.jsx("div",{className:"game-start",onClick:P,children:"Click to Start"})})]})}const UP=["red","green","blue","yellow"];function BP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState([]),[l,c]=D.useState([]),[d,p]=D.useState(0),[y,w]=D.useState(!1),[T,S]=D.useState(!1),A=D.useRef(null),L=()=>{o([Math.floor(Math.random()*4)]),c([]),p(0),w(!1),S(!1)},P=($,G)=>{if(G>=$.length){w(!0);return}const K=document.querySelector('[data-simon="'+$[G]+'"]');K&&(K.classList.add("flash"),A.current=window.setTimeout(()=>{K.classList.remove("flash"),A.current&&clearTimeout(A.current),P($,G+1)},400))};D.useEffect(()=>{if(s.length>0&&!y&&!T){const $=setTimeout(()=>P(s,0),500);return()=>clearTimeout($)}},[s,T]);const k=$=>{if(!y||T)return;const G=[...l,$];if(c(G),G[G.length-1]!==s[G.length-1]){S(!0),r&&e&&He(r.uid,"simon",d*10,e.displayName).then(t);return}G.length===s.length&&(p(K=>K+1),o(K=>[...K,Math.floor(Math.random()*4)]),c([]),w(!1))};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Simon Says"}),v.jsxs("span",{className:"game-score",children:["Level: ",d]})]}),v.jsx("div",{className:"game-board simon-board",children:s.length===0?v.jsx("div",{className:"game-start",onClick:L,children:"Click to Start"}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"simon-grid",children:UP.map(($,G)=>v.jsx("button",{"data-simon":G,className:"simon-btn simon-"+$,onClick:()=>k(G),disabled:!y},$))}),T&&v.jsxs("div",{className:"game-over-overlay",children:[v.jsx("h2",{children:"Game Over"}),v.jsxs("p",{children:["Level: ",d]}),v.jsx("button",{className:"btn btn-primary",onClick:L,children:"Play Again"})]})]})})]})}function zP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(0),[l,c]=D.useState(30),[d,p]=D.useState(-1),[y,w]=D.useState(!1),[T,S]=D.useState(!1),A=D.useRef(null),L=D.useRef(null),P=D.useRef(-1),k=D.useRef(0);D.useEffect(()=>{P.current=d},[d]),D.useEffect(()=>{k.current=s},[s]);const $=()=>{k.current=0,o(0),c(30),p(-1),w(!0),S(!1)};D.useEffect(()=>{if(!y||T)return;const K=()=>{c(se=>se<=1?(S(!0),r&&e&&He(r.uid,"whack",k.current,e.displayName).then(t),0):se-1)};return A.current=window.setInterval(K,1e3),()=>{A.current&&clearInterval(A.current)}},[y,T]),D.useEffect(()=>{if(!y||T)return;const K=()=>{p(Math.floor(Math.random()*9)),L.current=window.setTimeout(()=>{p(-1),P.current=-1,L.current=window.setTimeout(K,400+Math.random()*600)},800+Math.random()*600)};return L.current=window.setTimeout(K,500),()=>{L.current&&clearTimeout(L.current)}},[y,T]);const G=K=>{K===P.current&&P.current>=0&&(o(se=>se+10),p(-1),P.current=-1)};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Whack-a-Mole"}),v.jsxs("span",{className:"game-score",children:["Score: ",s," | Time: ",l,"s"]})]}),v.jsx("div",{className:"game-board whack-board",children:y?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"whack-grid",children:Array(9).fill(0).map((K,se)=>v.jsx("button",{className:"whack-hole"+(se===d?" mole":""),onClick:()=>G(se)},se))}),T&&v.jsxs("div",{className:"game-over-overlay",children:[v.jsx("h2",{children:"Time Up!"}),v.jsxs("p",{children:["Score: ",s]}),v.jsx("button",{className:"btn btn-primary",onClick:$,children:"Play Again"})]})]}):v.jsx("div",{className:"game-start",onClick:$,children:"Click to Start"})})]})}function $P(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState("idle"),[l,c]=D.useState(null),[d,p]=D.useState(0),y=D.useRef(0),w=D.useRef(0),T=()=>{c(null),o("wait");const A=1500+Math.random()*2500;w.current=window.setTimeout(()=>{o("click"),y.current=performance.now()},A)},S=()=>{if(s==="click"){clearTimeout(w.current),o("idle");const A=Math.round(performance.now()-y.current);c(A),p(P=>P+1);const L=Math.max(150-Math.floor(A/10),20);r&&e&&He(r.uid,"reaction",L,e.displayName).then(t)}else s==="wait"&&(clearTimeout(w.current),o("idle"))};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Reaction Test"}),v.jsx("span",{className:"game-score",children:l!=null?l+" ms":""})]}),v.jsxs("div",{className:"game-board reaction-board "+s,onClick:S,role:"button",tabIndex:0,onKeyDown:A=>A.key===" "&&S(),children:[s==="wait"&&v.jsx("p",{children:"Wait for green..."}),s==="click"&&v.jsx("p",{children:"Click now!"}),l!=null&&v.jsxs("p",{className:"result",children:[l," ms"]}),(s==="idle"||l!=null)&&v.jsx("button",{className:"btn btn-primary",onClick:A=>{A.stopPropagation(),T()},children:l!=null?"Try Again":"Start"})]})]})}function WP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(0),[l,c]=D.useState(""),[d,p]=D.useState(""),[y,w]=D.useState(0),[T,S]=D.useState(!1),A=()=>{o(Math.floor(Math.random()*100)+1),c(""),p("Guess 1-100!"),w(0),S(!1)},L=P=>{P.preventDefault();const k=parseInt(l,10);if(isNaN(k)||k<1||k>100){p("Enter 1-100");return}const $=y+1;if(w($),k===s){p("Correct!"),S(!0);const G=Math.max(150-$*15,30);r&&e&&He(r.uid,"numberguess",G,e.displayName).then(t)}else p(k<s?"Higher!":"Lower!")};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Number Guess"}),v.jsxs("span",{className:"game-score",children:["Guesses: ",y]})]}),v.jsx("div",{className:"game-board numberguess-board",children:s===0?v.jsx("div",{className:"game-start",onClick:A,children:"Click to Start"}):v.jsxs("div",{className:"numberguess-form",children:[v.jsx("p",{className:"hint",children:d}),v.jsxs("form",{onSubmit:L,children:[v.jsx("input",{type:"number",min:1,max:100,value:l,onChange:P=>c(P.target.value),placeholder:"1-100",disabled:T}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:T,children:"Guess"})]}),T&&v.jsx("button",{className:"btn btn-outline",onClick:A,children:"Play Again"})]})})]})}function qP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState([1,1,1,1,1]),[l,c]=D.useState(0),[d,p]=D.useState(0),[y,w]=D.useState(!1),T=()=>{const A=s.map(()=>Math.floor(Math.random()*6)+1);o(A);const L=A.reduce((k,$)=>k+$,0);p(k=>k+L);const P=d+L;c(k=>(k>=2&&(w(!0),r&&e&&He(r.uid,"dice",P,e.displayName).then(t)),k+1))},S=()=>{o([1,1,1,1,1]),c(0),p(0),w(!1)};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Dice Roll"}),v.jsxs("span",{className:"game-score",children:["Total: ",d," | Round ",l+1,"/3"]})]}),v.jsx("div",{className:"game-board dice-board",children:l===0&&d===0?v.jsx("div",{className:"game-start",onClick:T,children:"Roll Dice"}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"dice-row",children:s.map((A,L)=>v.jsx("span",{className:"dice-face",children:A},L))}),y?v.jsxs("div",{children:[v.jsxs("p",{children:["Final Score: ",d]}),v.jsx("button",{className:"btn btn-primary",onClick:S,children:"Play Again"})]}):v.jsx("button",{className:"btn btn-primary",onClick:T,children:"Roll Again"})]})})]})}const uv=["#e74c3c","#3498db","#2ecc71","#f1c40f"],HP=["Red","Blue","Green","Yellow"];function GP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(""),[l,c]=D.useState(""),[d,p]=D.useState(0),[y,w]=D.useState(0),[T,S]=D.useState(!1),A=()=>{const k=uv[Math.floor(Math.random()*4)],$=HP[Math.floor(Math.random()*4)];o(k),c($)},L=()=>{p(0),w(0),S(!1),A()},P=k=>{if(T)return;const G=k===s?20:0;p(K=>K+G),w(K=>(K>=9?(S(!0),r&&e&&He(r.uid,"colormatch",d+G,e.displayName).then(t)):A(),K+1))};return D.useEffect(()=>{y===0&&!s&&A()},[]),v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Color Match"}),v.jsxs("span",{className:"game-score",children:["Score: ",d]})]}),v.jsx("div",{className:"game-board colormatch-board",children:s&&v.jsxs(v.Fragment,{children:[v.jsxs("p",{children:["Click the color: ",v.jsx("strong",{style:{color:s},children:l})]}),v.jsx("div",{className:"colormatch-buttons",children:uv.map(k=>v.jsx("button",{className:"colormatch-btn",style:{background:k},onClick:()=>P(k),disabled:T},k))}),T&&v.jsx("button",{className:"btn btn-primary",onClick:L,children:"Play Again"})]})})]})}const KP=[{q:"What is 2 + 2?",a:4,opts:[3,4,5,6]},{q:"Capital of France?",a:"Paris",opts:["London","Paris","Berlin","Madrid"]},{q:"How many continents?",a:7,opts:[5,6,7,8]},{q:"Largest planet?",a:"Jupiter",opts:["Mars","Jupiter","Saturn","Earth"]},{q:"2 x 8 = ?",a:16,opts:[14,16,18,20]}];function QP(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(0),[l,c]=D.useState(0),[d,p]=D.useState([]),y=()=>{p([...KP].sort(()=>Math.random()-.5)),o(0),c(0)},w=A=>{const L=d[s],P=A===L.a?20:0;c(k=>k+P),o(k=>(k>=d.length-1&&r&&e&&He(r.uid,"trivia",l+P,e.displayName).then(t),k+1))};if(d.length===0)return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Trivia"})]}),v.jsx("div",{className:"game-board",children:v.jsx("div",{className:"game-start",onClick:y,children:"Start Quiz"})})]});const T=s>=d.length,S=d[s];return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Trivia"}),v.jsxs("span",{className:"game-score",children:["Score: ",l]})]}),v.jsx("div",{className:"game-board trivia-board",children:T?v.jsxs("div",{children:[v.jsxs("p",{children:["Final: ",l]}),v.jsx("button",{className:"btn btn-primary",onClick:y,children:"Again"})]}):S?v.jsxs("div",{children:[v.jsx("p",{className:"trivia-q",children:S.q}),v.jsx("div",{className:"trivia-opts",children:S.opts.map(A=>v.jsx("button",{className:"btn btn-outline trivia-opt",onClick:()=>w(A),children:String(A)},String(A)))})]}):null})]})}const YP=.5,XP=-8,ja=60,Md=120,JP=3;function ZP(){const{user:r,profile:e,refreshProfile:t}=We(),s=D.useRef(null),[o,l]=D.useState(0),[c,d]=D.useState(!1),[p,y]=D.useState(!1),w=D.useRef({birdY:200,birdVy:0,pipes:[],scored:new Set}),T=D.useRef(0),S=()=>{w.current={birdY:200,birdVy:0,pipes:[{x:400,top:100+Math.random()*150}],scored:new Set},T.current=0,l(0),d(!0),y(!1)};D.useEffect(()=>{T.current=o},[o]),D.useEffect(()=>{if(!c||p||!s.current)return;const P=s.current.getContext("2d");let k;const $=()=>{const G=w.current;if(G.birdVy+=YP,G.birdY+=G.birdVy,G.birdY>400||G.birdY<0){y(!0),r&&e&&He(r.uid,"flappy",T.current,e.displayName).then(t);return}for(const K of G.pipes){K.x-=JP;const se=80,ie=G.birdY;if(se+20>K.x&&se-20<K.x+ja&&(ie-15<K.top||ie+15>K.top+Md)){y(!0),r&&e&&He(r.uid,"flappy",T.current,e.displayName).then(t);return}K.x+ja<se&&!G.scored.has(K.x)&&(G.scored.add(K.x),l(we=>(T.current=we+10,we+10)))}G.pipes=G.pipes.filter(K=>K.x>-ja),(G.pipes.length===0||G.pipes[G.pipes.length-1].x<250)&&G.pipes.push({x:400,top:80+Math.random()*180}),P.fillStyle="#87CEEB",P.fillRect(0,0,400,400),P.fillStyle="#2ecc71",P.fillRect(0,350,400,50),P.fillStyle="#f1c40f",P.beginPath(),P.arc(80,G.birdY,15,0,Math.PI*2),P.fill(),P.fillStyle="#27ae60";for(const K of G.pipes)P.fillRect(K.x,0,ja,K.top),P.fillRect(K.x,K.top+Md,ja,400-K.top-Md);k=requestAnimationFrame($)};return k=requestAnimationFrame($),()=>cancelAnimationFrame(k)},[c,p,r,e]);const A=()=>{c&&!p&&(w.current.birdVy=XP)};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Flappy"}),v.jsxs("span",{className:"game-score",children:["Score: ",o]})]}),v.jsx("div",{className:"game-board flappy-board",children:c?v.jsxs(v.Fragment,{children:[v.jsx("canvas",{ref:s,width:400,height:400,onClick:A,onTouchStart:L=>{L.preventDefault(),A()},style:{touchAction:"manipulation"}}),p&&v.jsxs("div",{className:"game-over-overlay",children:[v.jsx("h2",{children:"Game Over"}),v.jsxs("p",{children:["Score: ",o]}),v.jsx("button",{className:"btn btn-primary",onClick:S,children:"Play Again"})]})]}):v.jsx("div",{className:"game-start",onClick:S,children:"Tap to Start"})})]})}const ys=6,ui=7;function cv(r){for(let e=0;e<ys;e++)for(let t=0;t<ui-3;t++){const s=r[e][t];if(s&&s===r[e][t+1]&&s===r[e][t+2]&&s===r[e][t+3])return s}for(let e=0;e<ys-3;e++)for(let t=0;t<ui;t++){const s=r[e][t];if(s&&s===r[e+1][t]&&s===r[e+2][t]&&s===r[e+3][t])return s}for(let e=0;e<ys-3;e++)for(let t=0;t<ui-3;t++){const s=r[e][t];if(s&&s===r[e+1][t+1]&&s===r[e+2][t+2]&&s===r[e+3][t+3])return s}for(let e=3;e<ys;e++)for(let t=0;t<ui-3;t++){const s=r[e][t];if(s&&s===r[e-1][t+1]&&s===r[e-2][t+2]&&s===r[e-3][t+3])return s}return null}function e1(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(()=>Array(ys).fill(null).map(()=>Array(ui).fill(null))),[l,c]=D.useState(!0),[d,p]=D.useState(!1),y=S=>{if(d||!l)return;const A=s.map(P=>[...P]);for(let P=ys-1;P>=0;P--)if(!A[P][S]){A[P][S]=1;break}const L=cv(A);L?(o(A),p(!0),L===1&&r&&e&&He(r.uid,"connect4",80,e.displayName).then(t)):A.every(P=>P.every(k=>k))?(o(A),p(!0),r&&e&&He(r.uid,"connect4",20,e.displayName).then(t)):(o(A),c(!1),setTimeout(()=>w(A),300))},w=S=>{const A=S.map($=>[...$]),L=[];for(let $=0;$<ui;$++)A[0][$]||L.push($);const P=L[Math.floor(Math.random()*L.length)];for(let $=ys-1;$>=0;$--)if(!A[$][P]){A[$][P]=2;break}const k=cv(A);o(A),k?p(!0):c(!0)},T=()=>{o(Array(ys).fill(null).map(()=>Array(ui).fill(null))),c(!0),p(!1)};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Connect Four"}),v.jsx("span",{className:"game-score",children:l?"Your turn":"AI thinking..."})]}),v.jsxs("div",{className:"game-board connect4-board",children:[v.jsx("div",{className:"connect4-grid",children:s.map((S,A)=>S.map((L,P)=>v.jsx("button",{className:"connect4-cell p"+(L||0),onClick:()=>y(P),disabled:d||!l||!!s[0][P]},A+","+P)))}),d&&v.jsx("div",{children:v.jsx("button",{className:"btn btn-primary",onClick:T,children:"Play Again"})})]})]})}const jd=["#e74c3c","#3498db","#2ecc71","#f1c40f","#9b59b6","#1abc9c"];function t1(r,e){let t=0;const s=[0,0,0,0,0,0],o=[0,0,0,0,0,0];for(let c=0;c<4;c++)r[c]===e[c]?t++:(s[r[c]]++,o[e[c]]++);let l=0;for(let c=0;c<6;c++)l+=Math.min(s[c],o[c]);return{black:t,white:l}}function n1(){const{user:r,profile:e,refreshProfile:t}=We(),[s]=D.useState(()=>[0,1,2,3].map(()=>Math.floor(Math.random()*6))),[o,l]=D.useState([]),[c,d]=D.useState([0,0,0,0]),[p,y]=D.useState(0),[w,T]=D.useState(!1),[S,A]=D.useState(!1),L=()=>{if(p!==4||w)return;const k=t1(c,s),$=[...o,{code:[...c],black:k.black,white:k.white}];if(l($),k.black===4){A(!0),T(!0);const G=Math.max(150-$.length*15,40);r&&e&&He(r.uid,"mastermind",G,e.displayName).then(t)}else $.length>=10&&T(!0);d([0,0,0,0]),y(0)},P=k=>{if(w)return;const $=[...c];$[p]=k,d($),y(Math.min(p+1,4))};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Mastermind"}),v.jsxs("span",{className:"game-score",children:["Guess ",o.length+1,"/10"]})]}),v.jsxs("div",{className:"game-board mastermind-board",children:[v.jsx("p",{children:"Guess the 4-color code. B = right pos, W = right color."}),v.jsx("div",{className:"mastermind-current",children:c.map((k,$)=>v.jsx("button",{className:"mastermind-peg",style:{background:jd[k]},onClick:()=>y($)},$))}),v.jsx("div",{className:"mastermind-palette",children:jd.map((k,$)=>v.jsx("button",{className:"mastermind-peg",style:{background:k},onClick:()=>P($),disabled:w},$))}),v.jsx("button",{className:"btn btn-primary",onClick:L,disabled:p!==4||w,children:"Submit"}),v.jsx("div",{className:"mastermind-history",children:o.map((k,$)=>v.jsxs("div",{className:"mastermind-row",children:[k.code.map((G,K)=>v.jsx("span",{className:"mastermind-peg small",style:{background:jd[G]}},K)),v.jsxs("span",{children:["B:",k.black," W:",k.white]})]},$))}),w&&v.jsx("button",{className:"btn btn-outline",onClick:()=>window.location.reload(),children:"New Game"})]})]})}const hv=["REACT","GAMES","LOGIC","BRAIN","PUZZLE","ARENA","CODING","STRATEGY"];function r1(r){const e=r.split("");for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e.join("")}function s1(){const{user:r,profile:e,refreshProfile:t}=We(),[s]=D.useState(()=>hv[Math.floor(Math.random()*hv.length)]),[o]=D.useState(()=>r1(s)),[l,c]=D.useState(""),[d,p]=D.useState(0),[y,w]=D.useState(!1),T=A=>{if(A.preventDefault(),p(L=>L+1),l.toUpperCase().trim()===s){w(!0);const L=Math.max(100-d*10,30);r&&e&&He(r.uid,"wordscramble",L,e.displayName).then(t)}},S=()=>window.location.reload();return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Word Scramble"}),v.jsxs("span",{className:"game-score",children:["Attempts: ",d]})]}),v.jsxs("div",{className:"game-board wordscramble-board",children:[v.jsx("p",{className:"scramble-word",children:o}),v.jsxs("form",{onSubmit:T,children:[v.jsx("input",{type:"text",value:l,onChange:A=>c(A.target.value),placeholder:"Unscramble...",disabled:y}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,children:"Guess"})]}),y&&v.jsxs(v.Fragment,{children:[v.jsx("p",{children:"Correct!"}),v.jsx("button",{className:"btn btn-outline",onClick:S,children:"New Word"})]})]})]})}const dv=21;function i1(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(dv),[l,c]=D.useState(!0),[d,p]=D.useState(!1),y=S=>{if(d||!l||s<S)return;const A=s-S;A<=0?(o(0),p(!0)):(o(A),c(!1),setTimeout(()=>w(A),400))},w=S=>{const A=(S-1)%4,L=A===0?Math.min(3,Math.floor(Math.random()*3)+1):A,P=S-L;P<=0?(o(0),p(!0),r&&e&&He(r.uid,"nim",80,e.displayName).then(t)):(o(P),c(!0))},T=()=>{o(dv),c(!0),p(!1)};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Nim"}),v.jsxs("span",{className:"game-score",children:[s," stones left"]})]}),v.jsxs("div",{className:"game-board nim-board",children:[v.jsx("p",{children:"Take 1-3 stones. Last to take loses."}),v.jsx("div",{className:"nim-stones",children:Array(s).fill(0).map((S,A)=>v.jsx("span",{className:"nim-stone",children:""},A))}),!d&&l&&v.jsx("div",{className:"nim-buttons",children:[1,2,3].map(S=>v.jsxs("button",{className:"btn btn-outline",onClick:()=>y(S),disabled:s<S,children:["Take ",S]},S))}),d&&v.jsxs(v.Fragment,{children:[v.jsx("p",{children:l?"AI wins":"You win!"}),v.jsx("button",{className:"btn btn-primary",onClick:T,children:"Play Again"})]})]})]})}const Nt=8,mf=10;function fv(){const r=new Set;for(;r.size<mf;)r.add(Math.floor(Math.random()*Nt*Nt));const e=[];for(let t=0;t<Nt*Nt;t++)e.push({mine:r.has(t),revealed:!1,flagged:!1,count:0});for(let t=0;t<Nt;t++)for(let s=0;s<Nt;s++){const o=t*Nt+s;if(e[o].mine)continue;let l=0;for(let c=-1;c<=1;c++)for(let d=-1;d<=1;d++){const p=t+c,y=s+d;p>=0&&p<Nt&&y>=0&&y<Nt&&e[p*Nt+y].mine&&l++}e[o].count=l}return e}function o1(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(fv),[l,c]=D.useState(!1),[d,p]=D.useState(!1),y=T=>{if(l||s[T].revealed||s[T].flagged)return;const S=[...s];if(S[T].mine)S.forEach(A=>{A.revealed=!0}),o(S),c(!0);else{const A=P=>{if(!(P<0||P>=Nt*Nt||S[P].revealed||S[P].mine)&&(S[P].revealed=!0,S[P].count===0)){const k=Math.floor(P/Nt),$=P%Nt;for(let G=-1;G<=1;G++)for(let K=-1;K<=1;K++)A((k+G)*Nt+($+K))}};A(T),o(S),S.filter(P=>P.revealed).length===Nt*Nt-mf&&(c(!0),p(!0),r&&e&&He(r.uid,"minesweeper",100,e.displayName).then(t))}},w=(T,S)=>{if(T.preventDefault(),l||s[S].revealed)return;const A=[...s];A[S].flagged=!A[S].flagged,o(A)};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Minesweeper"}),v.jsxs("span",{className:"game-score",children:[mf," mines"]})]}),v.jsxs("div",{className:"game-board minesweeper-board",children:[v.jsx("div",{className:"minesweeper-grid",style:{gridTemplateColumns:"repeat(8, 32px)"},children:s.map((T,S)=>v.jsx("button",{className:"minesweeper-cell "+(T.revealed?"revealed":""),onClick:()=>y(S),onContextMenu:A=>w(A,S),children:T.flagged?"F":T.revealed?T.mine?"X":T.count||"":""},S))}),l&&v.jsxs(v.Fragment,{children:[v.jsx("p",{children:d?"You win!":"Game Over"}),v.jsx("button",{className:"btn btn-primary",onClick:()=>{o(fv()),c(!1),p(!1)},children:"Play Again"})]})]})]})}const a1=["+","-",""],pv=20;function Fd(){const r=Math.floor(Math.random()*pv)+1,e=Math.floor(Math.random()*pv)+1,t=a1[Math.floor(Math.random()*3)];let s=0;return t==="+"?s=r+e:t==="-"?s=Math.max(0,r-e):s=r*e,{a:r,b:e,op:t,ans:s}}function l1(){const{user:r,profile:e,refreshProfile:t}=We(),[s,o]=D.useState(()=>Fd()),[l,c]=D.useState(0),[d,p]=D.useState(""),[y,w]=D.useState(0),[T,S]=D.useState(!1),A=L=>{L.preventDefault();const P=parseInt(d,10);if(isNaN(P))return;const k=P===s.ans;k&&c($=>$+10),p(""),w($=>($>=9?(S(!0),r&&e&&He(r.uid,"mathchallenge",l+(k?10:0),e.displayName).then(t)):o(Fd()),$+1))};return v.jsxs("div",{className:"game-container",children:[v.jsxs("div",{className:"game-header",children:[v.jsx(Ae,{to:"/games",className:"btn btn-outline",children:"Back"}),v.jsx("h1",{children:"Math Challenge"}),v.jsxs("span",{className:"game-score",children:["Score: ",l," | ",10-y," left"]})]}),v.jsx("div",{className:"game-board mathchallenge-board",children:T?v.jsxs("div",{children:[v.jsxs("p",{children:["Final Score: ",l]}),v.jsx("button",{className:"btn btn-primary",onClick:()=>{c(0),w(0),S(!1),o(Fd())},children:"Play Again"})]}):v.jsxs(v.Fragment,{children:[v.jsxs("p",{className:"math-problem",children:[s.a," ",s.op," ",s.b," = ?"]}),v.jsxs("form",{onSubmit:A,children:[v.jsx("input",{type:"number",value:d,onChange:L=>p(L.target.value),placeholder:"Answer",autoFocus:!0}),v.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})})]})}function u1(){const[r,e]=D.useState([]),[t,s]=D.useState(!0);return D.useEffect(()=>{vP().then(e).catch(()=>e([])).finally(()=>s(!1))},[]),t?v.jsx("div",{className:"loading-screen",children:"Loading leaderboard..."}):v.jsxs("div",{className:"leaderboard-page",children:[v.jsx("h1",{className:"page-title",children:"Leaderboard"}),v.jsx("p",{className:"page-subtitle",children:"Top players by total points"}),v.jsxs("div",{className:"leaderboard-table",children:[v.jsxs("div",{className:"leaderboard-header",children:[v.jsx("span",{children:"Rank"}),v.jsx("span",{children:"Player"}),v.jsx("span",{children:"Points"})]}),r.length===0?v.jsx("p",{className:"empty-message",children:"No scores yet. Be the first to play!"}):r.map(o=>v.jsxs("div",{className:"leaderboard-row",children:[v.jsx("span",{className:`rank rank-${o.rank}`,children:o.rank}),v.jsx("span",{children:o.displayName}),v.jsx("span",{className:"points",children:o.totalPoints})]},o.uid))]})]})}const c1={snake:"Snake",tictactoe:"Tic Tac Toe",memory:"Memory",puzzle:"Puzzle",2048:"2048",rps:"Rock Paper Scissors",hangman:"Hangman",breakout:"Breakout",simon:"Simon Says",whack:"Whack-a-Mole",reaction:"Reaction Test",numberguess:"Number Guess",dice:"Dice Roll",colormatch:"Color Match",trivia:"Trivia",flappy:"Flappy",connect4:"Connect Four",mastermind:"Mastermind",wordscramble:"Word Scramble",nim:"Nim",minesweeper:"Minesweeper",mathchallenge:"Math Challenge"};function h1(){const{user:r,profile:e}=We(),[t,s]=D.useState([]),o=r?.uid||e?.uid;D.useEffect(()=>{if(!o)return;const c=B0(rp(Rs,"scores"),iP("userId","==",o),z0(50));G0(c).then(d=>{const p=d.docs.map(y=>{const w=y.data();return{gameId:w.gameId,score:w.score,timestamp:w.timestamp}});p.sort((y,w)=>(w.timestamp||"").localeCompare(y.timestamp||"")),s(p.slice(0,20))}).catch(d=>{console.error("Failed to load match history:",d),s([])})},[o]);const l=e?.achievements||[];return v.jsxs("div",{className:"profile-page",children:[v.jsx("h1",{className:"page-title",children:"Profile"}),v.jsxs("div",{className:"profile-grid",children:[v.jsxs("div",{className:"profile-card stats",children:[v.jsx("h2",{children:"Stats"}),v.jsxs("div",{className:"stat-row",children:[v.jsx("span",{children:"Total Points"}),v.jsx("span",{className:"stat-value",children:e?.totalPoints??0})]}),v.jsxs("div",{className:"stat-row",children:[v.jsx("span",{children:"Games Played"}),v.jsx("span",{className:"stat-value",children:e?.gamesPlayed??0})]})]}),v.jsxs("div",{className:"profile-card achievements",children:[v.jsx("h2",{children:"Achievements"}),l.length===0?v.jsx("p",{children:"Play games to unlock achievements!"}):v.jsx("div",{className:"achievement-list",children:l.map(c=>v.jsx("span",{className:"badge",children:c},c))})]})]}),v.jsxs("div",{className:"match-history",children:[v.jsx("h2",{children:"Match History"}),t.length===0?v.jsxs("p",{children:["No games played yet. ",v.jsx(Ae,{to:"/games",children:"Start playing!"})]}):v.jsx("div",{className:"history-list",children:t.map((c,d)=>v.jsxs("div",{className:"history-item",children:[v.jsx("span",{children:c1[c.gameId]||c.gameId}),v.jsxs("span",{children:["+",c.score," pts"]}),v.jsx("span",{children:new Date(c.timestamp).toLocaleString()})]},d))})]})]})}function d1(){const[r,e]=D.useState(""),[t,s]=D.useState(""),[o,l]=D.useState(""),[c,d]=D.useState(!1),{signIn:p}=We(),y=Tc(),w=async T=>{T.preventDefault(),l(""),d(!0);try{await p(r,t),y("/")}catch(S){l(S.message||"Failed to sign in")}d(!1)};return v.jsxs("div",{className:"auth-page",children:[v.jsx(Ae,{to:"/",className:"auth-home-link",children:" ArenaHub"}),v.jsxs("div",{className:"auth-card",children:[v.jsx("h1",{children:"Login to ArenaHub"}),o&&v.jsx("div",{className:"auth-error",children:o}),v.jsxs("form",{onSubmit:w,children:[v.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:T=>e(T.target.value),required:!0}),v.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:T=>s(T.target.value),required:!0}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Signing in...":"Sign In"})]}),v.jsxs("p",{className:"auth-switch",children:["Don't have an account? ",v.jsx(Ae,{to:"/register",children:"Register"})]})]})]})}function f1(){const[r,e]=D.useState(""),[t,s]=D.useState(""),[o,l]=D.useState(""),[c,d]=D.useState(""),[p,y]=D.useState(!1),{signUp:w}=We(),T=Tc(),S=async A=>{A.preventDefault(),d(""),y(!0);try{await w(r,t,o),T("/")}catch(L){d(L.message||"Failed to create account")}y(!1)};return v.jsxs("div",{className:"auth-page",children:[v.jsx(Ae,{to:"/",className:"auth-home-link",children:" ArenaHub"}),v.jsxs("div",{className:"auth-card",children:[v.jsx("h1",{children:"Join ArenaHub"}),c&&v.jsx("div",{className:"auth-error",children:c}),v.jsxs("form",{onSubmit:S,children:[v.jsx("input",{type:"text",placeholder:"Display Name",value:o,onChange:A=>l(A.target.value),required:!0}),v.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:A=>e(A.target.value),required:!0}),v.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:A=>s(A.target.value),required:!0,minLength:6}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:p,children:p?"Creating account...":"Create Account"})]}),v.jsxs("p",{className:"auth-switch",children:["Already have an account? ",v.jsx(Ae,{to:"/login",children:"Login"})]})]})]})}function p1({children:r}){const{user:e,loading:t}=We();return t?v.jsx("div",{className:"loading-screen",children:"Loading..."}):e?v.jsx(v.Fragment,{children:r}):v.jsx(rT,{to:"/login",replace:!0})}function m1(){return v.jsxs(oT,{children:[v.jsxs(Ue,{path:"/",element:v.jsx(EP,{}),children:[v.jsx(Ue,{index:!0,element:v.jsx(IP,{})}),v.jsx(Ue,{path:"games",element:v.jsx(AP,{})}),v.jsx(Ue,{path:"games/snake",element:v.jsx(RP,{})}),v.jsx(Ue,{path:"games/tictactoe",element:v.jsx(CP,{})}),v.jsx(Ue,{path:"games/memory",element:v.jsx(NP,{})}),v.jsx(Ue,{path:"games/puzzle",element:v.jsx(bP,{})}),v.jsx(Ue,{path:"games/2048",element:v.jsx(LP,{})}),v.jsx(Ue,{path:"games/rps",element:v.jsx(MP,{})}),v.jsx(Ue,{path:"games/hangman",element:v.jsx(jP,{})}),v.jsx(Ue,{path:"games/breakout",element:v.jsx(FP,{})}),v.jsx(Ue,{path:"games/simon",element:v.jsx(BP,{})}),v.jsx(Ue,{path:"games/whack",element:v.jsx(zP,{})}),v.jsx(Ue,{path:"games/reaction",element:v.jsx($P,{})}),v.jsx(Ue,{path:"games/numberguess",element:v.jsx(WP,{})}),v.jsx(Ue,{path:"games/dice",element:v.jsx(qP,{})}),v.jsx(Ue,{path:"games/colormatch",element:v.jsx(GP,{})}),v.jsx(Ue,{path:"games/trivia",element:v.jsx(QP,{})}),v.jsx(Ue,{path:"games/flappy",element:v.jsx(ZP,{})}),v.jsx(Ue,{path:"games/connect4",element:v.jsx(e1,{})}),v.jsx(Ue,{path:"games/mastermind",element:v.jsx(n1,{})}),v.jsx(Ue,{path:"games/wordscramble",element:v.jsx(s1,{})}),v.jsx(Ue,{path:"games/nim",element:v.jsx(i1,{})}),v.jsx(Ue,{path:"games/minesweeper",element:v.jsx(o1,{})}),v.jsx(Ue,{path:"games/mathchallenge",element:v.jsx(l1,{})}),v.jsx(Ue,{path:"leaderboard",element:v.jsx(u1,{})}),v.jsx(Ue,{path:"profile",element:v.jsx(p1,{children:v.jsx(h1,{})})})]}),v.jsx(Ue,{path:"/login",element:v.jsx(d1,{})}),v.jsx(Ue,{path:"/register",element:v.jsx(f1,{})})]})}class g1 extends D.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("App error:",e,t)}render(){return this.state.hasError&&this.state.error?v.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",background:"#0f0e17",color:"#fff",fontFamily:"system-ui, sans-serif"},children:[v.jsx("h1",{style:{color:"#00d9ff",marginBottom:"1rem"},children:"Something went wrong"}),v.jsx("p",{style:{color:"#a0a0b0",marginBottom:"1rem"},children:this.state.error.message}),v.jsxs("p",{style:{fontSize:"0.9rem",color:"#666"},children:["If you haven't set up Firebase, create a ",v.jsx("code",{children:".env"})," file with your Firebase config (see ",v.jsx("code",{children:".env.example"}),")."]}),v.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"#00d9ff",border:"none",borderRadius:"8px",color:"#0f0e17",cursor:"pointer"},children:"Try again"})]}):this.props.children}}cE.createRoot(document.getElementById("root")).render(v.jsx(gv.StrictMode,{children:v.jsx(g1,{children:v.jsx(fT,{children:v.jsx(_P,{children:v.jsx(m1,{})})})})}));
